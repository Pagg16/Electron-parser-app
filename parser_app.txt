VITE_PORT=6969
const { app } = require("electron");
const path = require("path");

function getResourcePath({ developmentPath = "", folder = "", filePath = "" }) {
  // В режиме разработки проверяем, если путь указан явно

  const basePath =
    app && app.getPath
      ? app.getPath("userData") // После сборки - путь внутри userData
      : developmentPath; // В режиме разработки, если developmentPath указан, то используем его, иначе __dirname

  // Собираем итоговый путь
  return path.join(basePath, folder, filePath);
}

module.exports = getResourcePath;
const { ipcMain, dialog } = require("electron");
const path = require("path");
const XLSX = require("xlsx");

function saveExcelFile(filePath, data) {
  try {
    // Преобразуем данные в рабочий лист Excel
    const ws = XLSX.utils.aoa_to_sheet(data);
    const wb = XLSX.utils.book_new();
    XLSX.utils.book_append_sheet(wb, ws, "Product Data");

    // Записываем Excel файл
    XLSX.writeFile(wb, filePath);
    return "successfully"; // Возвращаем успешный результат
  } catch (error) {
    return "errorSaved"; // Возвращаем ошибку
  }
}

function registerCreateFileHandlers(mainWindow) {
  ipcMain.handle("createExel", async (event, data) => {
    let result;

    // Ожидаем пользовательского выбора пути для сохранения файла
    result = await dialog.showSaveDialog(mainWindow, {
      title: "Сохранить файл",
      filters: [
        { name: "Excel Files", extensions: ["xls", "xlsx"] },
        { name: "All Files", extensions: ["*"] },
      ],
    });

    // Если пользователь отменил диалог, возвращаем "cancellation"
    if (result.canceled) {
      return "cancellation";
    }

    const filePath = result.filePath;
    const fileName = path.basename(filePath);

    // Проверяем, что файл имеет корректное имя
    if (!fileName || fileName === ".xlsx" || !fileName.includes(".")) {
      await dialog.showMessageBox(mainWindow, {
        type: "error",
        title: "Ошибка",
        message: "Необходимо указать имя файла.",
      });
      return null; // Возвращаем null, если имя файла некорректно
    }

    // Вызываем функцию для сохранения Excel файла
    const saveResult = saveExcelFile(filePath, data);

    return saveResult; // Возвращаем результат операции
  });
}

module.exports = { registerCreateFileHandlers };
const { ipcMain } = require("electron");
const mainParsing = require("../parsing/mainParsing");
const {
  getBaseClassComment,
} = require("../parsing/contentProcessing/getBaseClassComment/getBaseClassComment");

function registerSearchHandlers() {
  ipcMain.handle("parseStart", async (event, url) => {
    const { productCardInform, commentsDataResult, browser } =
      await mainParsing({ url });

    productCardInform.then((data) =>
      event.sender.send("getProductInform", data)
    );

    commentsDataResult.then((data) =>
      event.sender.send("getProductComment", data)
    );
  });

  ipcMain.handle("getBaseClassCommentStart", async (event) => {
    try {
      const isSuccessfully = await getBaseClassComment();

      event.sender.send("getBaseClassComment", isSuccessfully);
    } catch (error) {
      event.sender.send("getBaseClassComment", false);
    }
  });
}

module.exports = { registerSearchHandlers };
const { ipcMain } = require("electron");

function registerWindowHandlers(mainWindow) {
  ipcMain.handle("minimize-window", () => {
    if (mainWindow) mainWindow.minimize();
  });

  ipcMain.handle("maximize-window", () => {
    if (mainWindow) {
      if (mainWindow.isMaximized()) {
        mainWindow.unmaximize();
      } else {
        mainWindow.maximize();
      }
    }
  });

  ipcMain.handle("close-window", () => {
    if (mainWindow) mainWindow.close();
  });

  ipcMain.on("closeApp", () => {
    if (mainWindow) mainWindow.close();
  });
}

module.exports = { registerWindowHandlers };
const { app, BrowserWindow, Menu, globalShortcut } = require("electron");
const path = require("path");
const { registerWindowHandlers } = require("../handlers/windowHandlers");
const { registerSearchHandlers } = require("../handlers/parsingHandlers");
const {
  registerCreateFileHandlers,
} = require("../handlers/createFileExelHandlers");
require("dotenv").config(); // Загружаем переменные окружения
// const port = process.env.VITE_PORT; // Получаем порт из .env
// const pathApp = `http://localhost:${port}`;
const pathAppBuild = `file://${path.join(
  __dirname,
  "../../src/dist",
  "index.html"
)}`;

let mainWindow;
let preloadWindow;

function createPreloadWindow() {
  preloadWindow = new BrowserWindow({
    width: 300,
    height: 300,
    frame: false,
    icon: path.join(__dirname, "../../public/assets/icon/IconApp.ico"),
    transparent: true,
    alwaysOnTop: true,
    title: "Parser",
  });

  preloadWindow.loadURL(
    `file://${path.join(__dirname, "../../public/load", "loader.html")}`
  );
}

function createMainWindow() {
  mainWindow = new BrowserWindow({
    width: 1280,
    height: 600,
    minWidth: 1280,
    minHeight: 600,
    frame: false,
    show: false,
    title: "Parser",
    icon: path.join(__dirname, "../../public/assets/icon/IconApp.ico"),
    webPreferences: {
      preload: path.join(__dirname, "../preload/preload.js"),

      nodeIntegration: true, // Отключает доступ к Node.js в рендерере
      contextIsolation: true, // Изолирует контекст выполнения
      enableRemoteModule: false, // Убирает доступ к устаревшему remote API
    },
  });

  mainWindow.loadURL(pathAppBuild);

  Menu.setApplicationMenu(null); // Убираем системное меню

  mainWindow.on("closed", () => {
    mainWindow = null;
  });

  // globalShortcut.register("CmdOrCtrl+d", () => {
  //   mainWindow.webContents.toggleDevTools();
  // });

  mainWindow.once("ready-to-show", () => {
    registerWindowHandlers(mainWindow); // Регистрация обработчиков кнопок
    registerSearchHandlers(); //Регистрация обработчика поиска
    registerCreateFileHandlers(mainWindow); //Регистрация обработчика открытия окна сохранения

    setTimeout(() => {
      mainWindow.maximize();
      mainWindow.show(); // Показать основное окно
      preloadWindow.close(); // Закрыть окно прелоадера после загрузки приложения
      mainWindow.setAlwaysOnTop(true);
      mainWindow.focus();
      mainWindow.setAlwaysOnTop(false);
    }, 3000);
  });
}

app.whenReady().then(() => {
  createPreloadWindow();
  createMainWindow();
});

app.on("window-all-closed", () => {
  if (process.platform !== "darwin") {
    app.quit();
  }
});

app.on("activate", () => {
  if (BrowserWindow.getAllWindows().length === 0) {
    createPreloadWindow();
    createMainWindow();
  }
});
async function acceptCookies(page) {
  try {
    const textElement = page.locator(
      "text=/^Используем куки и рекомендательные технологии$/"
    );

    await textElement.waitFor({ state: "visible", timeout: 10000 });

    if ((await textElement.count()) === 1) {
      // Найти родительский блок текста
      const parentBlock = await textElement.locator("..");

      // Найти кнопку "ОК" внутри этого блока
      const okButton = parentBlock.locator("button", { hasText: /ок/i });

      // Проверить, видна ли кнопка, и нажать на нее
      if (await okButton.isVisible()) {
        await okButton.click();
      }
    }
  } catch {
    return;
  }
}

module.exports = acceptCookies;
const checkVisibleDomByLocator = require("./contentProcessing/checkVisibleDomByLocator");

async function searchButton(page) {
  const elem = {
    name: "antibotButton",
    searchType: { locator: 'button:has-text("Обновить")' },
  };

  try {
    // Пытаемся получить видимый элемент по локатору
    const antibotButton = await checkVisibleDomByLocator({
      page,
      elem,
      timeout: 5000,
    });

    if (!antibotButton) return { antibotButton, count: 0 };

    // Получаем количество найденных элементов
    const count = await antibotButton.count();

    return { antibotButton, count };
  } catch (err) {
    // Обрабатываем ошибку поиска кнопки
    console.error("Ошибка при поиске кнопки:", err);
  }
}

async function antibotPopupClosing(page, actionsFun) {
  for (let i = 0; i < 2; i++) {
    try {
      // Пытаемся найти кнопку и получить ее количество
      const { antibotButton, count } = await searchButton(page);

      if (!antibotButton) break;

      // Если кнопка найдена и это не первый цикл, выполняем action
      if (i === 1 && count > 0) {
        await actionsFun();
      }

      // Если кнопка существует, кликаем по ней
      if (count > 0) {
        await antibotButton.click();
      }
    } catch (err) {
      // Обработка ошибок при работе с кнопкой
      console.error("Ошибка при обработке антибота:", err);
    }
  }
}

module.exports = antibotPopupClosing;
const fs = require("fs");
const path = require("path");
const getResourcePath = require("../getResourcePath/getResourcePath");

const videoPath = getResourcePath({
  developmentPath: path.join(__dirname, "../../../"),
  folder: "json",
  filePath: "dataLogs",
});

const baseClassGetVideoPath = getResourcePath({
  developmentPath: path.join(__dirname, "../../../"),
  folder: "json",
  filePath: "baseClassLogs",
});

function checkAndRemoveFolders() {
  const paths = [videoPath, baseClassGetVideoPath];

  paths.forEach((folderPath) => {
    if (fs.existsSync(folderPath)) {
      const files = fs.readdirSync(folderPath); // Получаем список всех файлов и папок внутри

      files.forEach((file) => {
        const filePath = path.join(folderPath, file);

        // Проверяем, является ли это папкой или файлом и удаляем содержимое
        if (fs.lstatSync(filePath).isDirectory()) {
          fs.rmSync(filePath, { recursive: true, force: true }); // Удаляем папку и её содержимое
          console.log(`Папка ${filePath} и её содержимое удалены.`);
        } else {
          fs.unlinkSync(filePath); // Удаляем файл
          console.log(`Файл ${filePath} удалён.`);
        }
      });

      console.log(`Содержимое папки ${folderPath} успешно удалено.`);
    } else {
      console.log(`Папка ${folderPath} не найдена.`);
    }
  });

  return {
    videoPath,
    baseClassGetVideoPath,
  };
}

module.exports = checkAndRemoveFolders;
const fs = require("fs");
const path = require("path");
const getResourcePath = require("../getResourcePath/getResourcePath");

const folderPathLogs = getResourcePath({
  developmentPath: path.join(__dirname),
  folder: "json",
});

const videoLogsFolderBaseClassPath = getResourcePath({
  developmentPath: path.join(__dirname),
  folder: "json",
  filePath: "baseClassLogs",
});

const videoLogsFolderDataPath = getResourcePath({
  developmentPath: path.join(__dirname),
  folder: "json",
  filePath: "dataLogs",
});

const baseClassesCommentFolderPath = getResourcePath({
  developmentPath: path.join(__dirname),
  folder: "baseClass",
});

const foldersCheck = [
  folderPathLogs,
  videoLogsFolderBaseClassPath,
  videoLogsFolderDataPath,
  baseClassesCommentFolderPath,
];

const jsonLogsFilePath = getResourcePath({
  developmentPath: path.join(__dirname),
  folder: "json",
  filePath: "logs.json",
});

const baseClassesCommentFilePath = getResourcePath({
  developmentPath: path.join(__dirname),
  folder: "baseClass",
  filePath: "baseClassComment.json",
});

const filesCheck = [
  { filePath: jsonLogsFilePath, type: "array" },
  { filePath: baseClassesCommentFilePath, type: "object" },
];



function checkingLogFile() {
  // Проверка и создание папок
  for (const folderCheck of foldersCheck) {
    try {
      // Проверяем, существует ли папка
      if (!fs.existsSync(folderCheck)) {
        // Если папка не существует, создаем её
        console.log(`Папка ${folderCheck} не существует, создаем...`);
        fs.mkdirSync(folderCheck, { recursive: true });
      }
    } catch (error) {
      console.error(`Ошибка при создании папки ${folderCheck}:`, error.message);
    }
  }

  // Проверка и создание файлов
  for (const fileCheck of filesCheck) {
    try {
      // Проверяем, существует ли файл
      if (!fs.existsSync(fileCheck.filePath)) {
        // Если файл не существует, создаем его в зависимости от типа
        console.log(`Файл ${fileCheck.filePath} не существует, создаем...`);

        let initialContent;
        // В зависимости от типа создаем начальное содержимое
        if (fileCheck.type === "array") {
          initialContent = JSON.stringify([]);
        } else if (fileCheck.type === "object") {
          initialContent = JSON.stringify({});
        } else {
          console.log(
            `Неизвестный тип: ${fileCheck.type}. Создаю пустой объект.`
          );
          initialContent = JSON.stringify({});
        }

        fs.writeFileSync(fileCheck.filePath, initialContent, "utf8");
      } else {
        const fileContent = fs.readFileSync(fileCheck.filePath, "utf8");

        // Проверяем, не является ли содержимое пустым
        if (fileContent.trim() === "") {
          console.log(`Файл ${fileCheck.filePath} пуст. Перезаписываем файл.`);
          let initialContent;
          // В зависимости от типа создаем начальное содержимое
          if (fileCheck.type === "array") {
            initialContent = JSON.stringify([]);
          } else if (fileCheck.type === "object") {
            initialContent = JSON.stringify({});
          } else {
            console.log(
              `Неизвестный тип: ${fileCheck.type}. Создаю пустой объект.`
            );
            initialContent = JSON.stringify({});
          }

          fs.writeFileSync(fileCheck.filePath, initialContent, "utf8");
        } else {
          const parsedContent = JSON.parse(fileContent);

          // Проверяем тип содержимого в зависимости от ожидаемого
          if (fileCheck.type === "array" && !Array.isArray(parsedContent)) {
            console.log(
              `Содержимое файла ${fileCheck.filePath} не является массивом. Перезаписываем файл.`
            );
            fs.writeFileSync(fileCheck.filePath, JSON.stringify([]), "utf8");
          } else if (
            fileCheck.type === "object" &&
            typeof parsedContent !== "object"
          ) {
            console.log(
              `Содержимое файла ${fileCheck.filePath} не является объектом. Перезаписываем файл.`
            );
            fs.writeFileSync(fileCheck.filePath, JSON.stringify({}), "utf8");
          }
        }
      }
    } catch (error) {
      console.error("Ошибка при чтении/записи файла:", error.message);
      let initialContent;
      // Если возникла ошибка, создаем файл с начальным содержимым
      if (fileCheck.type === "array") {
        initialContent = JSON.stringify([]);
      } else if (fileCheck.type === "object") {
        initialContent = JSON.stringify({});
      } else {
        console.log(
          `Неизвестный тип: ${fileCheck.type}. Создаю пустой объект.`
        );
        initialContent = JSON.stringify({});
      }

      fs.writeFileSync(fileCheck.filePath, initialContent, "utf8");
    }
  }
}

module.exports = checkingLogFile;
const searchLocatorElem = require("./searchLocatorElem");

async function checkVisibleDomByLocator({
  page,
  searchByelement = false,
  elem,
  timeout = 5000,
}) {
  try {
    if (!Array.isArray(elem)) {
      elem = [elem];
    }

    const interval = 100; // Интервал между проверками (100 миллисекунд)

    const endTime = Date.now() + timeout;

    while (Date.now() < endTime) {
      const { foundElems, index } = await searchLocatorElem({
        page,
        searchVariations: elem,
        searchByelement,
      });

      if (foundElems) {
        return foundElems;
      }

      await page.waitForTimeout(interval);
    }

    return false;
  } catch (error) {
    console.error(
      `Ошибка при проверке видимости элемента по локаторам "${elem}": ${error.message}`
    );
    return null;
  }
}

module.exports = checkVisibleDomByLocator;
const resourceArr = ["image", "font", "media"];

async function disablingResourceLoading(page) {
  await page.route("**/*", (route) => {
    const request = route.request();

    // Блокировка изображений, шрифтов, медиа и стилей
    if (resourceArr.includes(request.resourceType())) {
      route.abort(); // Прерываем запрос
    } else {
      route.continue(); // Разрешаем остальные запросы
    }
  });
}

module.exports = disablingResourceLoading;
const checkingLogFile = require("../../checkingLogFile");
const getResourcePath = require("../../../getResourcePath/getResourcePath");
const acceptCookies = require("../../acceptCookies");
const antibotPopupClosing = require("../../antibotPopupClosing");
const createBrowser = require("../../createBrowser");
const createPage = require("../../createPage");
const checkVisibleDomByLocator = require("../checkVisibleDomByLocator");
const gettingAllElements = require("../gettingAllElements");
const searchDistributor = require("../searchDistributor");
const {
  productCommentsList,
  checkVisibleAndScroll,
  commetnDate,
  commentBlockForScroll,
} = require("./productCommentsList");
const fs = require("fs");
const path = require("path");

const filePath = getResourcePath({
  developmentPath: path.join(__dirname, "../../../"),
  folder: "baseClass",
  filePath: "baseClassComment.json",
});

const urlBaseClassesGet =
  "https://www.ozon.ru/product/shorty-adidas-sportswear-j-tr-es-short-1586484071/?advert=AA4BzlqyRKqsnCZwEAfGx-0XrjBvCZQb03EUJwa1pSi8IhNFO-YOxqRf9dfyN4l3UFFAlBPi4qzm3qP5AbQ9mHGWBR7gCwZCT9lqpDTmIZRvrMcZsc29OM2mgY-6MlliM2bt3fBQheKI5Gj1tRLNRMjo2N5-UHHeRTchEoFcj5cMBlIBHKKan9rUK2TVz20iG7Tyw8AdD7Uv14OD_u2MlWrQISRNAvuu1yyp9LyNdxCDCA59YU8uODekKLXlPkHjTusZB1bv-6lGs5k-jI2y1koAoV-cPyU9jLtO51-LUSgMBo8XnjyelKzPPQDno4Z6hMHiRO643WD-jEKYbKKsxVCwbHgqOq5FRM_LABVG1QkZaLh_hYpXfAlekEGws3IVPLrSPC5GPepSuPJYMscxKVyYfbDOVp5qNTAG-OjyGx7YhbyMkmUUnxTSQl4DQtcAqstS4DzgPB5taDLamLvOjuV_Dp4&avtc=1&avte=4&avts=1734255553&keywords=%D1%88%D0%BE%D1%80%D1%82%D1%8B";

async function getBaseClassComment() {
  checkingLogFile();

  const browser = await createBrowser({ headless: false, isBaseClass: true });
  try {
    
    let page;

    async function buildPage() {

      if (page) {
        await page.close();
      }

      page = await createPage(browser);

      try {
        // Переходим на URL с заданными настройками
        await page.goto(urlBaseClassesGet, {
          waitUntil: "domcontentloaded",
          timeout: 60000, // Увеличиваем время ожидания, если нужно
        });
      } catch (err) {
        console.error("Ошибка при переходе на страницу:", err);
      }

      await gettingAllElements({
        page,
        locator: "*",
        name: "*",
        timeout: 5000,
      });
    }

    await buildPage();

    await antibotPopupClosing(page, async () => {
      await buildPage();
    });

    await acceptCookies(page);

    const checkVisibleAndScrollElem = await checkVisibleDomByLocator({
      page,
      elem: checkVisibleAndScroll,
      timeout: 10000,
    });

    if (!checkVisibleAndScrollElem) {
      console.log("Ошибка поиска checkVisibleAndScroll");
      return null;
    }

    await checkVisibleAndScrollElem.scrollIntoViewIfNeeded();

    const checkVisibleCommentText = await checkVisibleDomByLocator({
      page,
      elem: commentBlockForScroll,
      timeout: 10000,
    });

    if (!checkVisibleCommentText) {
      console.log("Элемент поиска checkVisibleCommentText");
    }

    const commentBlockForScrollElem = await searchDistributor({
      page,
      elem: commentBlockForScroll,
    });

    console.log(commentBlockForScrollElem);

    if (!commentBlockForScrollElem.classList) {
      console.log("Ошибка поиска commentBlockForScrollElem");
      return null;
    }

    await gettingAllElements({
      page,
      locator: commentBlockForScrollElem.classList,
      name: "scroll",
      timeout: 5000,
      actionsFun: async (foundElems, count) => {
        const lastElem = await foundElems.nth(count - 1);
        await lastElem.scrollIntoViewIfNeeded();

        const commetnDateElem = await checkVisibleDomByLocator({
          page,
          elem: commetnDate,
          timeout: 5000,
        });

        if (commetnDateElem) {
          console.log("Элемент commetnDateElem найден", count - 1);
          return true;
        }
      },
    });

    const rsultNameClasses = {};

    for (const elem of productCommentsList) {
      const searchResult = await searchDistributor({
        page,
        elem,
      });

      rsultNameClasses[searchResult.name] = searchResult.classList;
    }

    const values = Object.values(rsultNameClasses);

    // Сортируем значения
    values.sort();

    // Проверяем на дубли
    const hasDuplicates = values.some(
      (value, index) => value === values[index + 1]
    );

    if (hasDuplicates) {
      console.log("найденны дубликаты в поиске классов коменнтариев");
      return null;
    }

    writeToJsonFile(rsultNameClasses);
    return true;
  } catch (error) {
    console.log(error);
    return false;
  } finally {
    await browser.close();
  }
}

function writeToJsonFile(data) {
  // Проверяем, существует ли файл
  fs.access(filePath, fs.constants.F_OK, (err) => {
    if (err) {
      // Если файл не существует, создаем его с данными
      const initialData = typeof data === "object" && data !== null ? data : {};
      fs.writeFile(filePath, JSON.stringify(initialData, null, 2), (err) => {
        if (err) {
          console.error("Ошибка при создании файла:", err);
        } else {
          console.log("Файл успешно создан и данные записаны!");
        }
      });
    } else {
      // Если файл существует, читаем его
      fs.readFile(filePath, "utf8", (err, fileData) => {
        if (err) {
          console.error("Ошибка при чтении файла:", err);
        } else {
          let parsedData;
          try {
            // Пытаемся парсить JSON
            parsedData = JSON.parse(fileData);

            // Если данные являются объектом, обновляем его
            if (typeof parsedData === "object" && parsedData !== null) {
              // Обновляем значения в объекте
              parsedData = { ...parsedData, ...data };
            } else {
              console.warn(
                "Содержимое файла не является объектом, создаём новый..."
              );
              parsedData = { ...data };
            }
          } catch (parseError) {
            console.warn("Некорректный JSON, перезаписываем файл...");
            parsedData = { ...data }; // В случае ошибки чтения, записываем новые данные
          }

          // Перезаписываем файл с новыми данными
          fs.writeFile(filePath, JSON.stringify(parsedData, null, 2), (err) => {
            if (err) {
              console.error("Ошибка при записи данных в файл:", err);
            } else {
              console.log("Данные успешно обновлены!");
            }
          });
        }
      });
    }
  });
}

module.exports = { getBaseClassComment, urlBaseClassesGet };
const commetnDate = {
  name: "commetnDate",
  searchType: { locator: "text=/^\\s*3 декабря 2024\\s*$/" },
  getContent: ["classList", "innerText"],
};

const baseCommentsContainer = {
  name: "baseCommentsContainer",
  searchType: { locator: "text=/^\\s*3 декабря 2024\\s*$/" },
  comparison: { size: { width: 100.125, height: 18 }, indexText: 0 },
  cursorPositionInElem: "center",
  child: { positionRelative: { x: -631.421875, y: 375.984375 } },
};

const commetnName = {
  name: "commetnName",
  searchType: { locator: "text=/^\\s*3 декабря 2024\\s*$/" },
  comparison: { size: { width: 100.125, height: 18 }, indexText: 0 },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: -578.421875, y: -0.015625 },
    contentCheck: ["classList", "innerText"],
  },
};

const commentStarRating = {
  name: "commentStarRating",
  searchType: { locator: "text=/^\\s*3 декабря 2024\\s*$/" },
  comparison: { size: { width: 100.125, height: 18 }, indexText: 0 },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: 110.578125, y: -1.015625 },
    contentCheck: ["classList"],
  },
};

const commentTypeProduct = {
  name: "commentTypeProduct",
  searchType: { locator: "text=/^\\s*3 декабря 2024\\s*$/" },
  comparison: { size: { width: 100.125, height: 18 }, indexText: 0 },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: -579.421875, y: 30.984375 },
    contentCheck: ["classList", "innerText"],
  },
};

const commentMessage = {
  name: "commentMessage",
  searchType: { locator: "text=/^\\s*3 декабря 2024\\s*$/" },
  comparison: { size: { width: 100.125, height: 18 }, indexText: 0 },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: -581.421875, y: 63.984375 },
    contentCheck: ["classList", "innerText"],
  },
};

const commentBlockForScroll = {
  name: "commentBlockForScroll",
  searchType: { locator: "text=Показать сначала:" },
  comparison: { size: { width: 142.203125, height: 17 }, indexText: -1 },
  cursorPositionInElem: "center",
  child: { positionRelative: { x: -65.6015625, y: 102.484375 } },
};

const checkVisibleAndScroll = {
  name: "checkVisibleAndScroll",
  searchType: {
    locator: "text=Рейтинг формируется на основе актуальных отзывов",
  },
  comparison: {
    size: { width: 329.0625, height: 42 },
  },
};

const productCommentsList = [
  commetnDate,
  commentMessage,
  commentTypeProduct,
  commentStarRating,
  commetnName,
  baseCommentsContainer,
];

module.exports = {
  productCommentsList,
  checkVisibleAndScroll,
  commetnDate,
  commentBlockForScroll,
};
const searchLocatorElem = require("./searchLocatorElem");

async function gettingAllElements({
  page,
  locator,
  name,
  searchByelement = false,
  actionsFun = false,
  timeout = 10000,
}) {
  let previousCount = 0;
  let count = 0;
  const interval = 100; // Интервал между проверками (100 миллисекунд)
  let endTime = Date.now() + timeout;
  let resultAllElems = null;

  while (Date.now() < endTime) {
    const { foundElems } = await searchLocatorElem({
      page,
      searchVariations: [{ name, searchType: { locator } }],
      searchByelement,
    });

    if (foundElems) {
      count = await foundElems.count();
      if (count > previousCount) {
        endTime = Date.now() + timeout;
        previousCount = count;

        if (actionsFun && typeof actionsFun === "function") {
          const ifBreak = await actionsFun(foundElems, count);
          if (ifBreak) break;
        }

        resultAllElems = foundElems;
      }
    }

    await page.waitForTimeout(interval);
  }

  return resultAllElems;
}

module.exports = gettingAllElements;
const fs = require("fs");
const path = require("path");
const sharp = require("sharp");
const getResourcePath = require("../../../getResourcePath/getResourcePath");

const filePath = getResourcePath({
  developmentPath: path.join(__dirname, "../../../"),
  folder: "json",
  filePath: "logs.json",
});

// Функция для форматирования текущей даты и времени
function getCurrentDateTime() {
  const now = new Date();
  return `${now.toLocaleDateString()} ${now.toLocaleTimeString()}`;
}

function getLogsSearchElemCoordinates() {
  try {
    if (!fs.existsSync(filePath)) {
      console.log(`Файл по пути ${filePath} не найден.`);
    }
    return JSON.parse(fs.readFileSync(filePath, "utf8"));
  } catch (error) {
    console.error("Ошибка при чтении файла:", error);
    return [];
  }
}

function availabilityCheckLogsCoordinates({ logs, elemName, position }) {
  return logs.some((log) => {
    if (!log.position) return false; // Пропускаем элементы без позиции
    return (
      log.elemName === elemName &&
      log.position.x === position.x &&
      log.position.y === position.y
    );
  });
}

function removeLogsSearchElemCoordinates({ elemName }) {
  const logs = getLogsSearchElemCoordinates();
  const updatedLogs = logs.filter((log) => {
    if (!log.position) return true; // Пропускаем логи без позиции
    return !(log.elemName === elemName);
  });

  saveFileLogs(updatedLogs);
}

function saveFileLogs(logs) {
  fs.writeFileSync(filePath, JSON.stringify(logs, null, 2), "utf8");
}

async function addNewlogsSearchElemCoordinates({
  page,
  elemName,
  position,
  searchType = false,
  screenshot = false,
}) {
  const uniqueNameScrenshot = screenshot
    ? await takeCompressedScreenshot(page)
    : screenshot;

  console.log(searchType);
  // Чтение существующих логов
  const logs = getLogsSearchElemCoordinates();

  // Получение URL текущей страницы
  const currentUrl = await page.url();

  // Лог, который нужно добавить
  const logsData = {
    url: currentUrl,
    elemName,
    position,
    timestamp: getCurrentDateTime(), // Добавляем текущую дату и время
    ...(searchType && { searchType }),
  };

  // Проверяем, существует ли такой же лог в массиве
  const isLogExists = availabilityCheckLogsCoordinates({
    logs,
    elemName,
    position,
  });

  // Если такого лога нет, добавляем его в массив
  if (!isLogExists) {
    logs.push(logsData);
    saveFileLogs(logs);
    // console.log("Новый лог добавлен");
  } else {
    // console.log("Этот лог уже существует, добавление не требуется");
  }
}

function generateUniqueName(prefix = "screenshot") {
  const timestamp = new Date().toISOString().replace(/[:.-]/g, "_");
  return `${prefix}_${timestamp}`;
}

async function takeCompressedScreenshot(page) {
  const folderPath = path.join(__dirname, "./screenshotsLogs");

  if (!fs.existsSync(folderPath)) {
    fs.mkdirSync(folderPath, { recursive: true });
  }

  const uniqueName = generateUniqueName();
  const originalPath = `${folderPath}/${uniqueName}.png`;
  const compressedPath = `${folderPath}/${uniqueName}.webp`;

  // Сохраняем оригинальный скриншот
  await page.screenshot({ path: originalPath });

  // Сжимаем и сохраняем в формате WebP
  await sharp(originalPath)
    .webp({ quality: 80 }) // Настройка степени сжатия
    .toFile(compressedPath);

  // Удаляем исходный файл
  fs.unlinkSync(originalPath);

  return uniqueName;
}

module.exports = {
  addNewlogsSearchElemCoordinates,
  availabilityCheckLogsCoordinates,
  removeLogsSearchElemCoordinates,
  getLogsSearchElemCoordinates,
};
const fs = require("fs");
const path = require("path");
const getResourcePath = require("../../../getResourcePath/getResourcePath");

const filePath = getResourcePath({
  developmentPath: path.join(__dirname, "../../../"),
  folder: "json",
  filePath: "logs.json",
});

// Функция для форматирования текущей даты и времени
function getCurrentDateTime() {
  const now = new Date();
  return `${now.toLocaleDateString()} ${now.toLocaleTimeString()}`;
}

function getLogsSearchElem() {
  try {
    if (!fs.existsSync(filePath)) {
      console.log(`Файл по пути ${filePath} не найден.`);
    }
    return JSON.parse(fs.readFileSync(filePath, "utf8"));
  } catch (error) {
    console.error("Ошибка при чтении файла:", error);
    return [];
  }
}

function availabilityCheckLogs(logs, elemName, locator) {
  return logs.some((log) => {
    if (!log.elemName) return false;
    return (
      log.elemName === elemName &&
      JSON.stringify(log.locator) === JSON.stringify(locator)
    );
  });
}

function removeLogsSearchElem(elemName, locator) {
  const logs = getLogsSearchElem();

  const updatedLogs = logs.filter((log) => {
    if (!log.elemName) return true;
    return !(
      log.elemName === elemName &&
      JSON.stringify(log.locator) === JSON.stringify(locator)
    );
  });

  saveFileLogs(updatedLogs);
}

function saveFileLogs(logs) {
  fs.writeFileSync(filePath, JSON.stringify(logs, null, 2), "utf8");
}

function addNewlogsSearchElem({
  page,
  searchByelement,
  elemName,
  locator,
  onlyOne,
}) {
  // Чтение существующих логов
  const logs = getLogsSearchElem();

  // Получение URL текущей страницы
  const currentUrl = page.url();

  // Лог, который нужно добавить
  const logsData = {
    url: currentUrl,
    elemName: elemName,
    locator: locator,
    timestamp: getCurrentDateTime(), // Добавляем текущую дату и время
    ...(searchByelement && { locator: searchByelement }), // Добавляем свойство только если searchByelement существует
    ...(onlyOne && { onlyOne: "найдено больше элементов, чем ожидалось" }),
  };

  // Проверяем, существует ли такой же лог в массиве
  const isLogExists = availabilityCheckLogs(logs, elemName, locator);

  // Если такого лога нет, добавляем его в массив
  if (!isLogExists) {
    logs.push(logsData);
    saveFileLogs(logs);
    // console.log("Новый лог добавлен");
  } else {
    // console.log("Этот лог уже существует, добавление не требуется");
  }
}

module.exports = {
  addNewlogsSearchElem,
  availabilityCheckLogs,
  removeLogsSearchElem,
  getLogsSearchElem,
};
const acceptCookies = require("../../../acceptCookies");
const antibotPopupClosing = require("../../../antibotPopupClosing");
const createPage = require("../../../createPage");
const checkVisibleDomByLocator = require("../../checkVisibleDomByLocator");
const {
  checkVisibleAndScroll,
} = require("../../getBaseClassComment/productCommentsList");
const remove = require("../../removeElements/remove");
const searchDistributor = require("../../searchDistributor");
const productCardElemList = require("./productCardElemList");

function numberReviews(str) {
  try {
    // Разделяем строку по символу "•"
    const parts = str.split("•");

    if (parts.length > 1) {
      // Извлекаем вторую часть, которая после "•"
      const reviewText = parts[1].trim();

      // Убираем все пробелы между цифрами
      const reviewCount = reviewText.replace(/\s+/g, "").split(" ")[0];

      // Возвращаем только цифры (удаляем слово "отзывов")
      return onlyNumberStr(reviewCount); // Убираем все символы, кроме цифр
    }

    return "Ошибка извлечения количества отзывов"; // Если символ "•" не найден
  } catch (error) {
    console.log(
      `Ошибка в функции numberReviews,при обработке данных ${str}`,
      error
    );
    return "Ошибка извлечения данных";
  }
}

function onlyNumberStr(str) {
  try {
    return str.replace(/[^\d]/g, ""); // Убираем все символы, кроме цифр
  } catch (error) {
    console.log(
      `Ошибка в функции onlyNumberStr,при обработке данных ${str}`,
      error
    );
    return "Ошибка извлечения данных";
  }
}

async function productCard(browser, url) {
  try {
    const page = await createPage(browser);

    await page.goto(url, {
      waitUntil: "domcontentloaded",
      timeout: 30000,
    });

    await page.bringToFront();

    await antibotPopupClosing(page);

    await acceptCookies(page);

    await remove(page);

    const checkVisibleAndScrollElem = await checkVisibleDomByLocator({
      page,
      elem: checkVisibleAndScroll,
      timeout: 30000,
    });

    if (!checkVisibleAndScrollElem) {
      console.log("Ошибка поиска checkVisibleAndScroll");
      return null;
    }

    await checkVisibleAndScrollElem.scrollIntoViewIfNeeded();

    const productCardInform = {};

    for (const elem of productCardElemList) {
      const searchResult = await searchDistributor({
        page,
        elem,
      });

      const foundName = searchResult.name;
      const foundText = searchResult?.innerText;

      if (!foundText) {
        productCardInform[foundName] = "не найдено";
        continue;
      }

      let isProcessed = false;

      if (foundName === "productArticle") {
        isProcessed = true;
        productCardInform[foundName] = onlyNumberStr(foundText);
      }

      if (foundName === "productPrice") {
        isProcessed = true;
        productCardInform[foundName] = onlyNumberStr(foundText);
      }

      if (foundName === "productReviews") {
        isProcessed = true;
        productCardInform[foundName] = numberReviews(foundText);
      }

      if (foundName === "productQuestions") {
        isProcessed = true;
        productCardInform[foundName] = onlyNumberStr(foundText);
      }

      if (!isProcessed) productCardInform[foundName] = foundText;
    }

    return productCardInform;
  } catch (error) {
    console.error("Ошибка при обработке карточки продукта:", error);
    return null;
  }
}

module.exports = { productCard };
const productSales = [
  //тип поска должен быть идентичен как и параметры провреки, в массиве допускаются только разные вариации родитель - ребенок
  {
    name: "productSales",
    searchType: { locator: "text=Premium-магазин" },
    cursorPositionInElem: "center",
    child: {
      positionRelative: { x: -64.7890625, y: 22 },
      contentCheck: ["innerText"],
    },
  },

  {
    name: "productSales",
    searchType: { locator: "text=/^Продавец$/" },
    cursorPositionInElem: "center",
    child: { positionRelative: { x: 0, y: 25 }, contentCheck: ["innerText"] },
  },
];

const productArticle = {
  name: "productArticle",
  searchType: { locator: "text=Артикул:" },
  getContent: ["classList", "innerText"],
};

const productPrice = {
  name: "productPrice",
  searchType: { locator: "text=Поделиться" },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: -300.09375, y: 74 },
    contentCheck: ["innerText"],
  },
};

const productName = {
  name: "productName",
  searchType: { locator: "text=Поделиться" },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: -761.3937377929688, y: 31 },
    contentCheck: ["innerText"],
  },
};

const productReviews = {
  name: "productReviews",
  searchType: { locator: "text=Поделиться" },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: -718.59375, y: 104 },
    contentCheck: ["innerText"],
  },
};

const productQuestions = {
  name: "productQuestions",
  searchType: { locator: "text=Поделиться" },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: -558.59375, y: 105 },
    contentCheck: ["innerText"],
  },
};

const productRating = {
  name: "productRating",
  searchType: {
    locator: "text=Рейтинг формируется на основе актуальных отзывов",
  },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: 149.984375, y: -65.40625 },
    contentCheck: ["innerText"],
  },
};

const productRatingStarFive = {
  name: "productRatingStarFive",
  searchType: {
    locator: "text=Рейтинг формируется на основе актуальных отзывов",
  },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: 204.984375, y: 55.59375 },
    contentCheck: ["innerText"],
  },
};

const productRatingStarFour = {
  name: "productRatingStarFour",
  searchType: {
    locator: "text=Рейтинг формируется на основе актуальных отзывов",
  },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: 203.984375, y: 74.59375 },
    contentCheck: ["innerText"],
  },
};

const productRatingStarThree = {
  name: "productRatingStarThree",
  searchType: {
    locator: "text=Рейтинг формируется на основе актуальных отзывов",
  },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: 204.984375, y: 102.59375 },
    contentCheck: ["innerText"],
  },
};

const productRatingStarTwo = {
  name: "productRatingStarTwo",
  searchType: {
    locator: "text=Рейтинг формируется на основе актуальных отзывов",
  },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: 203.984375, y: 122.59375 },
    contentCheck: ["innerText"],
  },
};

const productRatingStarOne = {
  name: "productRatingStarOne",
  searchType: {
    locator: "text=Рейтинг формируется на основе актуальных отзывов",
  },
  cursorPositionInElem: "center",
  child: {
    positionRelative: { x: 203.984375, y: 148.59375 },
    contentCheck: "innerText",
  },
};

const productCardElemList = [
  productArticle,
  productPrice,
  productName,
  productReviews,
  productQuestions,
  productSales,
  productRating,
  productRatingStarFive,
  productRatingStarFour,
  productRatingStarThree,
  productRatingStarTwo,
  productRatingStarOne,
];

module.exports = productCardElemList;
const fs = require("fs");
const path = require("path");
const {
  checkVisibleAndScroll,
} = require("../../getBaseClassComment/productCommentsList");
const gettingAllElements = require("../../gettingAllElements");
const checkVisibleDomByLocator = require("../../checkVisibleDomByLocator");
const createPage = require("../../../createPage");
const searchLocatorElem = require("../../searchLocatorElem");
const antibotPopupClosing = require("../../../antibotPopupClosing");
const acceptCookies = require("../../../acceptCookies");
const getResourcePath = require("../../../../getResourcePath/getResourcePath");

const filePath = getResourcePath({
  developmentPath: path.join(__dirname, "../../../"),
  folder: "baseClass",
  filePath: "baseClassComment.json",
});

function readJsonFileSync() {
  try {
    const fileData = fs.readFileSync(filePath, "utf8");
    const jsonData = JSON.parse(fileData);
    return jsonData;
  } catch (error) {
    console.error("Ошибка при чтении файла:", error);
    return null;
  }
}

async function starRatingGet(elem) {
  const baseFullColor = "rgb(255, 168, 0)";
  const svgAllRating = await elem.locator("svg");

  let ratingNum = 0;

  for (let i = 0, length = await svgAllRating.count(); i < length; i++) {
    const svgElem = svgAllRating.nth(i);

    const color = await svgElem.evaluate((el) => getComputedStyle(el).color);

    if (color === baseFullColor) {
      ratingNum++;
    }
  }

  return ratingNum;
}

function dateFilter(dateStr) {
  return dateStr.match(/(\d{1,2})\s+([а-яА-Я]+)\s+(\d{4})/)[0];
}

async function productComment(browser, url) {
  try {
    const page = await createPage(browser);

    await page.goto(url, {
      waitUntil: "domcontentloaded",
      timeout: 30000,
    });

    const checkVisibleAndScrollElem = await checkVisibleDomByLocator({
      page,
      elem: checkVisibleAndScroll,
      timeout: 70000,
    });

    await antibotPopupClosing(page);

    await acceptCookies(page);

    if (!checkVisibleAndScrollElem) {
      console.log("Ошибка поиска commentElemShowFirst");
      return null;
    }

    const baseCommentsClass = readJsonFileSync();

    // Извлечение значения ключа
    const { baseCommentsContainer } = baseCommentsClass;

    // Удаление ключа из объекта
    delete baseCommentsClass.baseCommentsContainer;

    await checkVisibleAndScrollElem.scrollIntoViewIfNeeded();

    await gettingAllElements({ page, locator: "*", name: "*", timeout: 2000 });

    const allContainersComment = await gettingAllElements({
      page,
      locator: baseCommentsContainer,
      name: "baseCommentsContainer",
      actionsFun: async (foundElems, count) => {
        const lastElem = await foundElems.nth(count - 1);
        await lastElem.scrollIntoViewIfNeeded();
      },
    });

    if (!allContainersComment) {
      console.log("ошибка в поиске контейнеров комментариев");
      return;
    }

    const commentsDataResult = [];

    for (
      let i = 0, length = await allContainersComment.count();
      i < length;
      i++
    ) {
      const commentContainer = await allContainersComment.nth(i);

      const searchDataComment = {};

      for (const keyNameClass in baseCommentsClass) {
        const classSearch = baseCommentsClass[keyNameClass];

        const { foundElems } = await searchLocatorElem({
          page,
          searchVariations: [
            { name: [keyNameClass], searchType: { locator: classSearch } },
          ],
          onlyOne: true,
          searchByElement: commentContainer,
        });

        if (!foundElems) {
          searchDataComment[keyNameClass] = foundElems;
          continue;
        }

        if (keyNameClass === "commetnDate") {
          searchDataComment[keyNameClass] = dateFilter(
            await foundElems.textContent()
          );
          continue;
        }

        if (keyNameClass === "commentStarRating") {
          searchDataComment[keyNameClass] = await starRatingGet(foundElems);
          continue;
        }

        const textContent = await foundElems.textContent();

        searchDataComment[keyNameClass] = textContent.trim();
      }

      commentsDataResult.push(searchDataComment);
    }

    return commentsDataResult;
  } catch (error) {
    console.error("Ошибка при обработке комментариев продукта:", error);
    return null;
  }
}

module.exports = productComment;
const searchDistributor = require("../searchDistributor");
const removeElemsList = require("./removeElemsList");

async function remove(page) {
  let isNotFound = false;
  for (const deleteElem of removeElemsList) {
    const foundElem = await searchDistributor({
      page,
      elem: deleteElem,
    });
    if (!foundElem) {
      isNotFound = true;
      break;
    }
  }

  return isNotFound;
}

module.exports = remove;
const removeElemsList = [
  // {
  //   name: "delete",
  //   searchType: { locator: "text=Этот вариант товара" },
  //   cursorPositionInElem: "center",
  //   child: {
  //     positionRelative: { x: 465.953125, y: -1.390625 },
  //     actions: "remove",
  //   },
  // },
  {
    name: "delete",
    searchType: { locator: "text=Поделиться" },
    cursorPositionInElem: "center",
    child: {
      positionRelative: { x: -330.6937255859375, y: 57 },
      actions: "remove",
      contentCheck: ["innerText"],
      comparison: { innerText: ["Распродажа", "Топ-выгода"] },
    },
  },
];

module.exports = removeElemsList;
const gettingElementUnderCursor = require("../cursor/gettingElementUnderCursor");
const searchLocatorElem = require("./searchLocatorElem");

async function comparison(foundInArrElem, foundElemsBoundingBox) {
  if (foundInArrElem?.comparison?.size) {
    const { width, height } = foundInArrElem.comparison.size;

    const matchesSize =
      Math.abs(foundElemsBoundingBox.width - width) < 2 &&
      Math.abs(foundElemsBoundingBox.height - height) < 2; // Допустимая разница

    if (!matchesSize) {
      return false;
    }

    return true;
  }

  return false;
}

async function childElementSearch({
  page,
  foundInArrElem,
  foundElemsBoundingBox,
  cursorPositionInElem,
  actions = false,
}) {
  const { x, y, width, height } = foundElemsBoundingBox;

  const { scrollX, scrollY } = await page.evaluate(() => {
    return { scrollX: window.scrollX, scrollY: window.scrollY };
  });

  let cursorStartX;
  let cursorStartY;

  let cursorPositionX;
  let cursorPositionY;

  if (cursorPositionInElem === "center") {
    cursorStartX = x + width / 2 + scrollX;
    cursorStartY = y + height / 2 + scrollY;

    cursorPositionX = cursorStartX + foundInArrElem.child.positionRelative.x;
    cursorPositionY = cursorStartY + foundInArrElem.child.positionRelative.y;
  }

  if (cursorPositionInElem === "start" && foundInArrElem.startCorrection) {
    cursorStartX = x + foundInArrElem.startCorrection + scrollX;
    cursorStartY = y + foundInArrElem.startCorrection + scrollY;

    cursorPositionX = cursorStartX - foundInArrElem.child.positionRelative.x;
    cursorPositionY = cursorStartY - foundInArrElem.child.positionRelative.y;
  }

  const child = await gettingElementUnderCursor({
    page,
    x: cursorPositionX,
    y: cursorPositionY,
    elemName: foundInArrElem.name,
    parentPosition: { parentX: cursorStartX, parentY: cursorStartY },
    actions,
    searchType: foundInArrElem?.child?.contentCheck,
    exactText: foundInArrElem?.child?.comparison?.innerText,
  });

  return child;
}

async function searchDistributor({ page, elem }) {
  if (!Array.isArray(elem)) {
    elem = [elem];
  }

  if (elem[0]?.searchType?.locator) {
    const { foundElems, index } = await searchLocatorElem({
      page,
      searchVariations: elem,
      onlyOne: true,
    });

    if (!foundElems) {
      console.log(`элемент с ${elem[0].name} именем не найден`);
      return { name: [elem[0].name] };
    }

    const foundInArrElem = elem[index];
    const name = elem[index].name;
    const foundElemsBoundingBox = await foundElems.boundingBox();

    if (foundInArrElem?.comparison) {
      const resultComparison = await comparison(
        foundInArrElem,
        foundElemsBoundingBox
      );

      if (!resultComparison) {
        console.log(`Ошибка сравнения при поиске на элементе ${elem[0].name}`);
        return { name: [elem[0].name] };
      }
    }

    if (foundInArrElem?.child) {
      const child = await childElementSearch({
        page,
        foundInArrElem,
        foundElemsBoundingBox,
        cursorPositionInElem: foundInArrElem.cursorPositionInElem,
        actions: foundInArrElem.child?.actions,
      });

      child.name = name;

      return child;
    } else {
      if (foundInArrElem?.getContent) {
        const dataResult = {};

        for (const dataType of foundInArrElem.getContent) {
          try {
            if (dataType === "innerText") {
              const text = await foundElems.innerText();
              dataResult.innerText = text;
            }

            if (dataType === "classList") {
              const classList = await foundElems.getAttribute("class");
              dataResult.classList = classList
                .split(" ") // Разделяем строку на массив классов
                .map((cls) => `.${cls}`) // Добавляем точку перед каждым классом
                .join(""); // Объединяем обратно в строку
            }
          } catch (error) {
            console.error(
              `Ошибка при получении данных типа "${dataType}":`,
              error
            );
          }
        }

        dataResult.name = name;

        return dataResult;
      }

      foundElems.name = name;

      return foundElems;
    }
  }

  return { name: [elem[0].name] };
}

module.exports = searchDistributor;
const {
  getLogsSearchElem,
  removeLogsSearchElem,
  availabilityCheckLogs,
  addNewlogsSearchElem,
} = require("./logsSearchElem/handlesLogsPath");

async function searchLocatorElem({
  page,
  searchVariations,
  onlyOne = false,
  searchByElement = null,
}) {
  try {
    let foundElems = null;
    const logs = getLogsSearchElem();
    const arrLength = searchVariations.length - 1;
    let index = 0;

    for (const {
      searchType: { locator },
      name: elemName,
    } of searchVariations) {
      foundElems = await findElements({ page, searchByElement, locator });

      if (foundElems && onlyOne && (await foundElems.count()) > 1) {
        addNewlogsSearchElem({
          page,
          searchByElement,
          elemName,
          locator,
          onlyOne,
        });
        foundElems = null;
        break;
      }

      if (foundElems) {
        if (availabilityCheckLogs(logs, elemName, locator)) {
          removeLogsSearchElem(elemName, locator);
        }
        break;
      } else if (arrLength === index) {
        addNewlogsSearchElem({ page, searchByElement, elemName, locator });
      }

      index++;
    }

    return { foundElems, index };
  } catch (error) {
    console.error("Ошибка при обработке поиска:", error);
    return null;
  }
}

async function findElements({ page, searchByElement, locator }) {
  try {
    const searchType = searchByElement
      ? await searchByElement.locator(locator)
      : await page.locator(locator);

    return (await searchType.count()) > 0 ? searchType : null;
  } catch (err) {
    console.error(`Ошибка при обработке Locator "${locator}":`, err);
    throw err; // Пробрасываем ошибку для обработки в основном коде
  }
}

module.exports = searchLocatorElem;
async function drawRectangles(page, positions) {
  for (const key in positions) {
    const { x, y, width, height } = positions[key];

    // Рисуем прямоугольники
    await page.evaluate(
      ({ x, y, width, height }) => {
        const overlay = document.createElement("div");
        overlay.style.position = "absolute";
        overlay.style.top = `${y}px`;
        overlay.style.left = `${x}px`;
        overlay.style.width = `${width}px`;
        overlay.style.height = `${height}px`;
        overlay.style.border = "2px solid red"; // Цвет границы
        overlay.style.pointerEvents = "none"; // Чтобы прямоугольник не мешал взаимодействовать с элементами
        document.body.appendChild(overlay);
      },
      { x, y, width, height }
    );
  }
}
const { chromium } = require("playwright");
const path = require("path");
const checkAndRemoveFolders = require("./checkAndRemoveFolders");
const getResourcePath = require("../getResourcePath/getResourcePath");

const userDataDir = getResourcePath({
  developmentPath: path.join(__dirname, "../../../"),
  folder: "user-data-history",
});

const args = [
  "--no-sandbox",
  "--remote-debugging-port=9222",
  "--disable-setuid-sandbox",
  "--ignore-certificate-errors",
  "--disk-cache-size=1",
  "--disable-infobars",
  "--disable-blink-features=AutomationControlled",
  "--enable-unsafe-swiftshader",
  "--window-position=-9999,-9999", // Размещение окна за пределами экрана
  "--start-maximized",
  "--foreground",
];

async function createBrowser({ headless, isBaseClass = false }) {
  try {
    const { videoPath, baseClassGetVideoPath } = checkAndRemoveFolders();

    const browser = await chromium.launchPersistentContext(userDataDir, {
      headless: headless,
      bypassCSP: true,
      ignoreHTTPSErrors: true,
      args: args,
      recordVideo: {
        dir: isBaseClass ? baseClassGetVideoPath : videoPath, // Папка, где будет сохранено видео
        size: { width: 1280, height: 720 }, // Размер видео (опционально)
      },
    });

    return browser;
  } catch (error) {
    console.error("Ошибка:", error);
  }
}

module.exports = createBrowser;
const disablingResourceLoading = require("./contentProcessing/disablingResourceLoading");

async function createPage(browser, resourceLoading = true) {
  try {
    let page = await browser.newPage();

    // Отключение загрузки изображений
    if (resourceLoading) await disablingResourceLoading(page);

    await page.setViewportSize({
      width: 1920,
      height: 1080,
    });

    await page.addInitScript(() => {
      // Маскировка автоматизации и настроек
      Object.defineProperty(navigator, "mediaDevices", {
        get: () => ({
          enumerateDevices: () => Promise.resolve([]),
          getUserMedia: () => Promise.resolve(),
        }),
      });

      Object.defineProperty(navigator, "webdriver", { get: () => undefined });
      Object.defineProperty(navigator, "permissions", {
        get: () => ({
          query: (parameters) =>
            parameters.name === "notifications"
              ? Promise.resolve({ state: "denied" })
              : Promise.resolve({ state: "granted" }),
        }),
      });
      Object.defineProperty(navigator, "plugins", {
        get: () => [
          { name: "Chrome PDF Viewer" },
          { name: "Native Client" },
          { name: "Portable Document Format" },
        ],
      });
      Object.defineProperty(navigator, "languages", {
        get: () => ["en-US", "en"],
      });
      Object.defineProperty(window, "outerWidth", {
        get: () => window.innerWidth,
      });
      Object.defineProperty(window, "outerHeight", {
        get: () => window.innerHeight,
      });

      const originalGetImageData = HTMLCanvasElement.prototype.getContext;
      HTMLCanvasElement.prototype.getContext = function (...args) {
        if (args[0] === "2d") {
          const context = originalGetImageData.apply(this, args);
          const originalGetImageData = context.getImageData;
          context.getImageData = function (...args) {
            const data = originalGetImageData.apply(this, args);
            for (let i = 0; i < data.data.length; i += 4) {
              data.data[i] = data.data[i] ^ 0xff; // XOR
            }
            return data;
          };
          return context;
        }
        return originalGetImageData.apply(this, args);
      };
    });

    return page;
  } catch (error) {
    console.error("Ошибка:", error);
  }
}

module.exports = createPage;
let cursorPosition = { x: 0, y: 0 };

async function userMovementEmulation(page, elem) {
  const boundingBox = await elem.boundingBox();

  if (!boundingBox) {
    throw new Error("Не удалось получить координаты элемента");
  }

  const { x, y, width, height } = boundingBox;
  const randomX = x + Math.round(Math.random() * width);
  const randomY = y + Math.round(Math.random() * height);

  // Эмулируем движение мыши с задержками
  await cursorMovement(page, randomX, randomY);
}

async function moveRandomCursorPosition(page, isVirtualCursor) {
  // Получаем размеры окна
  const viewport = await page.viewportSize();

  if (!viewport) {
    throw new Error("Не удалось получить размеры окна.");
  }

  // Генерируем случайные координаты
  const randomX = Math.floor(Math.random() * viewport.width);
  const randomY = Math.floor(Math.random() * viewport.height);

  await moveCursorPosition(isVirtualCursor, page, randomX, randomY);
}

async function moveCursorPosition(isVirtualCursor, page, x, y) {
  cursorPosition = { x, y };
  await page.mouse.move(x, y); // Двигаем реальный курсор
  if (!isVirtualCursor) return;

  virtualCursorMove(page, x, y);
}

function bezierCurve(start, end, t) {
  const cx = start.x + (end.x - start.x) * t;
  const cy = start.y + (end.y - start.y) * t;
  return { x: cx, y: cy };
}

async function virtualCursorMove(page, x, y) {
  await page.evaluate(
    ({ x, y }) => {
      window.updateCursor(x, y); // Двигаем "виртуальный" курсор
    },
    { x, y }
  );
}

async function cursorMovement(page, endX, endY) {
  const start = { x: cursorPosition.x, y: cursorPosition.y };
  const end = { x: endX, y: endY };

  const stepDistance = 10;

  // Вычисление расстояния между точками
  const distance = Math.sqrt(
    Math.pow(endX - cursorPosition.x, 2) + Math.pow(endY - cursorPosition.y, 2)
  );

  const step = 1 / (distance / stepDistance);

  for (let t = 0; t <= 1; t += step) {
    const { x, y } = bezierCurve(start, end, t);
    // await page.mouse.move(x, y);
    await moveCursorPosition(page, x, y);
    await page.waitForTimeout(1);
  }
}

module.exports = {
  cursorMovement,
  moveCursorPosition,
  moveRandomCursorPosition,
  userMovementEmulation,
};
const {
  addNewlogsSearchElemCoordinates,
  removeLogsSearchElemCoordinates,
} = require("../contentProcessing/logsSearchElem/handlesLogsCoordinates");

async function gettingElementUnderCursor({
  page,
  x,
  y,
  elemName,
  parentPosition,
  isOnlyType = "",
  searchType = [],
  cursorVisible = true,
  actions,
  exactText = [],
}) {
  const searchElem = await page.evaluate(
    ({ x, y, cursorVisible, parentPosition, actions, exactText }) => {
      function linePointer() {
        const { parentX, parentY } = parentPosition;
        const sizeLine = 2;
        const color = "black";

        // Создаем новую линию
        const lineOne = document.createElement("div");
        const deltaX = x - parentX;
        const deltaY = y - parentY;
        const length = Math.sqrt(deltaX * deltaX + deltaY * deltaY);

        lineOne.style.position = "absolute";
        lineOne.style.width = `${length}px`;
        lineOne.style.height = `${sizeLine}px`;
        lineOne.style.backgroundColor = color;
        lineOne.style.top = `${parentY}px`;
        lineOne.style.left = `${parentX}px`;
        lineOne.style.transform = `rotate(${Math.atan2(deltaY, deltaX)}rad)`;
        lineOne.style.transformOrigin = "0 50%";
        lineOne.style.pointerEvents = "none";

        document.body.appendChild(lineOne);
      }

      async function visualizationCursorPositionsPoint(x, y, color = "red") {
        // Рисуем крестик

        const crossSize = 20; // Размер крестика в пикселях

        // Вертикальная линия
        const verticalLine = document.createElement("div");
        verticalLine.style.position = "absolute";
        verticalLine.style.width = "2px";
        verticalLine.style.height = `${crossSize * 2}px`;
        verticalLine.style.backgroundColor = color;
        verticalLine.style.top = `${y - crossSize}px`;
        verticalLine.style.left = `${x}px`;
        verticalLine.style.transform = "translate(-50%, 0)";
        verticalLine.style.pointerEvents = "none";

        // Горизонтальная линия
        const horizontalLine = document.createElement("div");
        horizontalLine.style.position = "absolute";
        horizontalLine.style.width = `${crossSize * 2}px`;
        horizontalLine.style.height = "2px";
        horizontalLine.style.backgroundColor = color;
        horizontalLine.style.top = `${y}px`;
        horizontalLine.style.left = `${x - crossSize}px`;
        horizontalLine.style.transform = "translate(0, -50%)";
        horizontalLine.style.pointerEvents = "none";

        // Добавляем линии в документ
        document.body.appendChild(verticalLine);
        document.body.appendChild(horizontalLine);
      }

      function searchElementUnderCursor() {
        if (cursorVisible) visualizationCursorPositionsPoint(x, y, "#000000");

        const viewportHeight = window.innerHeight;
        const viewportWidth = window.innerWidth;

        const correctionY = 0; // Коррекция для смещения
        const correctionX = 0;

        const scrollByTop = Math.max(y - viewportHeight / 2 + correctionY, 0);
        const scrollByLeft = Math.max(x - viewportWidth / 2 + correctionX, 0);

        // Прокрутка страницы
        window.scrollTo({
          left: scrollByLeft,
          top: scrollByTop,
        });

        // Поиск элемента по координатам
        const element = document.elementFromPoint(
          x - window.scrollX,
          y - window.scrollY
        );

        if (element) {
          const elemDate = {
            tagName: element.tagName,
            classList: Array.from(element.classList)
              .map((cls) => `.${cls}`)
              .join(""),
            innerText: element.innerText,
          };
          let isFoundText = false;

          if (exactText.length > 0) {
            for (const text of exactText) {
              if (elemDate.innerText.includes(text)) {
                isFoundText = true;
                break;
              }
            }

            if (!isFoundText) {
              elemDate.innerText = "";
            }
          }

          if (isFoundText && actions && actions === "remove") {
            element.remove();
          }
          return elemDate;
        }

        return null; // Если элемент не найден
      }

      return searchElementUnderCursor();
    },

    { x, y, cursorVisible, parentPosition, actions, exactText }
  );

  if (searchElem) {
    const conditions = [
      {
        condition: searchType.includes("tagName") && !searchElem.tagName,
        field: "tagName",
      },
      {
        condition: searchType.includes("innerText") && !searchElem.innerText,
        field: "innerText",
      },
      {
        condition: searchType.includes("classList") && !searchElem.classList,
        field: "classList",
      },
    ];

    let logFields = []; // Массив для сбора несоответствий

    if (actions !== "remove") {
      for (const { condition, field } of conditions) {
        if (condition) {
          logFields.push(field); // Добавляем поле, которое не соответствует
        }
      }
    }

    if (logFields.length > 0) {
      // Если есть несоответствия, отправляем их все за один раз
      await addNewlogsSearchElemCoordinates({
        page,
        elemName,
        position: { x, y },
        searchType: logFields, // Передаем все несоответствия
      });
    } else {
      removeLogsSearchElemCoordinates({ elemName, position: { x, y } });
    }
  } else if (actions !== "remove") {
    await addNewlogsSearchElemCoordinates({
      page,
      elemName,
      position: { x, y },
    });
  }

  if (isOnlyType) {
    return searchElem[isOnlyType];
  }
  return searchElem;
}

module.exports = gettingElementUnderCursor;

// function getAbsoluteXPath(element) {
//   let xpath = "";
//   while (element && element.nodeType === Node.ELEMENT_NODE) {
//     let index = 1;
//     let sibling = element.previousElementSibling;

//     // Проверяем наличие предыдущих братьев с тем же тегом
//     while (sibling) {
//       if (
//         sibling.nodeType === Node.ELEMENT_NODE &&
//         sibling.tagName === element.tagName
//       ) {
//         index++;
//       }
//       sibling = sibling.previousElementSibling;
//     }

//     const tagName = element.tagName.toLowerCase();
//     xpath = `/${tagName}[${index}]` + xpath;
//     element = element.parentNode;
//   }

//   return "/" + xpath;
// }
[]const {
  productCard,
} = require("./contentProcessing/productCardPage/productCard/productCard");
const productComment = require("./contentProcessing/productCardPage/productComments/productComments");
const createBrowser = require("./createBrowser");

// const fs = require("fs");
// const path = require("path");
// function getDataFromJson() {
//   try {
//     // Указываем путь к файлу
//     const filePath = path.join(__dirname, "productData.json");

//     // Читаем содержимое файла синхронно
//     const data = fs.readFileSync(filePath, "utf8");

//     // Парсим данные из JSON
//     const parsedData = JSON.parse(data);

//     // Возвращаем данные
//     return parsedData;
//   } catch (error) {
//     console.error("Ошибка при чтении или парсинге файла JSON:", error);
//     return null;
//   }
// }
// async function saveDataToJson(productData, commentData) {
//   try {
//     // Формируем путь для файла
//     const filePath = path.join(__dirname, "productData.json");

//     // Собираем все данные в один объект
//     const dataToSave = {
//       productCardInform: productData,
//       commentsDataResult: commentData,
//     };

//     // Записываем данные в файл
//     fs.writeFileSync(filePath, JSON.stringify(dataToSave, null, 2), "utf8");
//     console.log("Данные успешно сохранены в файл productData.json");
//   } catch (error) {
//     console.error("Ошибка при записи данных в JSON:", error);
//   }
// }

// const url =
//   "https://www.ozon.ru/product/shorty-adidas-sportswear-j-tr-es-short-1586484071/?advert=AA4BzlqyRKqsnCZwEAfGx-0XrjBvCZQb03EUJwa1pSi8IhNFO-YOxqRf9dfyN4l3UFFAlBPi4qzm3qP5AbQ9mHGWBR7gCwZCT9lqpDTmIZRvrMcZsc29OM2mgY-6MlliM2bt3fBQheKI5Gj1tRLNRMjo2N5-UHHeRTchEoFcj5cMBlIBHKKan9rUK2TVz20iG7Tyw8AdD7Uv14OD_u2MlWrQISRNAvuu1yyp9LyNdxCDCA59YU8uODekKLXlPkHjTusZB1bv-6lGs5k-jI2y1koAoV-cPyU9jLtO51-LUSgMBo8XnjyelKzPPQDno4Z6hMHiRO643WD-jEKYbKKsxVCwbHgqOq5FRM_LABVG1QkZaLh_hYpXfAlekEGws3IVPLrSPC5GPepSuPJYMscxKVyYfbDOVp5qNTAG-OjyGx7YhbyMkmUUnxTSQl4DQtcAqstS4DzgPB5taDLamLvOjuV_Dp4&avtc=1&avte=4&avts=1734255553&keywords=%D1%88%D0%BE%D1%80%D1%82%D1%8B";

async function mainParsing({ headless = false, url }) {
  const browser = await createBrowser({ headless });

  // const { productCardInform, commentsDataResult } = getDataFromJson();

  // // Возвращаем первый объект сразу
  // const firstData = new Promise((resolve) => {
  //   setTimeout(() => {
  //     resolve(productCardInform);
  //   }, 3000);
  // });

  // // Задерживаем отдачу второго объекта
  // const secondData = new Promise((resolve) => {
  //   setTimeout(() => {
  //     resolve(commentsDataResult); // Задержка в 2 секунды, можно изменить
  //   }, 2000); // 2000 миллисекунд (2 секунды)
  // });

  // return {
  //   firstData,
  //   secondData,
  // };

  const productCardInform = productCard(browser, url);
  const commentsDataResult = productComment(browser, url);

  // Ожидание выполнения обоих промисов перед закрытием браузера
  // Закрытие браузера после выполнения всех промисов
  Promise.allSettled([productCardInform, commentsDataResult]).finally(() =>
    browser.close()
  );

  return {
    productCardInform,
    commentsDataResult,
    browser,
  };
  // await saveDataToJson(productCardInform, commentsDataResult);
}
module.exports = mainParsing;

// mainParsing({ headless: false, itemSearchDisplay: false }, url);
const { ipcRenderer } = require("electron");

module.exports = {
  createExel: (data) => ipcRenderer.invoke("createExel", data),
};
const { ipcRenderer } = require("electron");

module.exports = {
  parseStart: (url) => ipcRenderer.invoke("parseStart", url),

  getProductInform: (callback) => {
    ipcRenderer.removeAllListeners("getProductInform"); // Удаляем старые слушатели
    ipcRenderer.on("getProductInform", (event, data) => {
      callback(data);
    });
  },

  getProductComment: (callback) => {
    ipcRenderer.removeAllListeners("getProductComment"); // Удаляем старые слушатели
    ipcRenderer.on("getProductComment", (event, data) => {
      callback(data);
    });
  },

  getBaseClassCommentStart: () =>
    ipcRenderer.invoke("getBaseClassCommentStart"),

  getBaseClassComment: (callback) => {
    ipcRenderer.removeAllListeners("getBaseClassComment"); // Удаляем старые слушатели
    ipcRenderer.on("getBaseClassComment", (event, data) => {
      callback(data);
    });
  },
};
const { contextBridge } = require("electron");
const windowControls = require("./windowСontrols"); // Импортируем логику
const {
  parseStart,
  getProductInform,
  getProductComment,
  getBaseClassComment,
  getBaseClassCommentStart,
} = require("./parseMain");
const { createExel } = require("./createExel");

contextBridge.exposeInMainWorld("electron", {
  minimizeWindow: windowControls.minimizeWindow,
  maximizeWindow: windowControls.maximizeWindow,
  closeWindow: windowControls.closeWindow,

  parseStart: parseStart,
  getProductInform: getProductInform,
  getProductComment: getProductComment,

  getBaseClassCommentStart: getBaseClassCommentStart,
  getBaseClassComment: getBaseClassComment,

  createExel: createExel,
});
const { ipcRenderer } = require("electron");

module.exports = {
  minimizeWindow: () => ipcRenderer.invoke("minimize-window"),
  maximizeWindow: () => ipcRenderer.invoke("maximize-window"),
  closeWindow: () => ipcRenderer.invoke("close-window"),
};
x64:
  firstOrDefaultFilePatterns:
    - '**/*'
    - '!**/node_modules'
    - '!build{,/**/*}'
    - '!dist{,/**/*}'
    - '!**/*.{iml,hprof,orig,pyc,pyo,rbc,swp,csproj,sln,suo,xproj,cc,d.ts,mk,a,o,forge-meta,pdb}'
    - '!**/._*'
    - '!**/electron-builder.{yaml,yml,json,json5,toml,ts}'
    - '!**/{.git,.hg,.svn,CVS,RCS,SCCS,__pycache__,.DS_Store,thumbs.db,.gitignore,.gitkeep,.gitattributes,.npmignore,.idea,.vs,.flowconfig,.jshintrc,.eslintrc,.circleci,.yarn-integrity,.yarn-metadata.json,yarn-error.log,yarn.lock,package-lock.json,npm-debug.log,appveyor.yml,.travis.yml,circle.yml,.nyc_output,.husky,.github,electron-builder.env}'
    - '!.yarn{,/**/*}'
    - '!.editorconfig'
    - '!.yarnrc.yml'
  nodeModuleFilePatterns: []
nsis:
  script: |-
    !include "C:\Users\user\Desktop\Electron-parser-app\node_modules\app-builder-lib\templates\nsis\include\StdUtils.nsh"
    !addincludedir "C:\Users\user\Desktop\Electron-parser-app\node_modules\app-builder-lib\templates\nsis\include"
    !macro _isUpdated _a _b _t _f
      ${StdUtils.TestParameter} $R9 "updated"
      StrCmp "$R9" "true" `${_t}` `${_f}`
    !macroend
    !define isUpdated `"" isUpdated ""`

    !macro _isForceRun _a _b _t _f
      ${StdUtils.TestParameter} $R9 "force-run"
      StrCmp "$R9" "true" `${_t}` `${_f}`
    !macroend
    !define isForceRun `"" isForceRun ""`

    !macro _isKeepShortcuts _a _b _t _f
      ${StdUtils.TestParameter} $R9 "keep-shortcuts"
      StrCmp "$R9" "true" `${_t}` `${_f}`
    !macroend
    !define isKeepShortcuts `"" isKeepShortcuts ""`

    !macro _isNoDesktopShortcut _a _b _t _f
      ${StdUtils.TestParameter} $R9 "no-desktop-shortcut"
      StrCmp "$R9" "true" `${_t}` `${_f}`
    !macroend
    !define isNoDesktopShortcut `"" isNoDesktopShortcut ""`

    !macro _isDeleteAppData _a _b _t _f
      ${StdUtils.TestParameter} $R9 "delete-app-data"
      StrCmp "$R9" "true" `${_t}` `${_f}`
    !macroend
    !define isDeleteAppData `"" isDeleteAppData ""`

    !macro _isForAllUsers _a _b _t _f
      ${StdUtils.TestParameter} $R9 "allusers"
      StrCmp "$R9" "true" `${_t}` `${_f}`
    !macroend
    !define isForAllUsers `"" isForAllUsers ""`

    !macro _isForCurrentUser _a _b _t _f
      ${StdUtils.TestParameter} $R9 "currentuser"
      StrCmp "$R9" "true" `${_t}` `${_f}`
    !macroend
    !define isForCurrentUser `"" isForCurrentUser ""`

    !macro addLangs
      !insertmacro MUI_LANGUAGE "English"
      !insertmacro MUI_LANGUAGE "German"
      !insertmacro MUI_LANGUAGE "French"
      !insertmacro MUI_LANGUAGE "SpanishInternational"
      !insertmacro MUI_LANGUAGE "SimpChinese"
      !insertmacro MUI_LANGUAGE "TradChinese"
      !insertmacro MUI_LANGUAGE "Japanese"
      !insertmacro MUI_LANGUAGE "Korean"
      !insertmacro MUI_LANGUAGE "Italian"
      !insertmacro MUI_LANGUAGE "Dutch"
      !insertmacro MUI_LANGUAGE "Danish"
      !insertmacro MUI_LANGUAGE "Swedish"
      !insertmacro MUI_LANGUAGE "Norwegian"
      !insertmacro MUI_LANGUAGE "Finnish"
      !insertmacro MUI_LANGUAGE "Russian"
      !insertmacro MUI_LANGUAGE "Portuguese"
      !insertmacro MUI_LANGUAGE "PortugueseBR"
      !insertmacro MUI_LANGUAGE "Polish"
      !insertmacro MUI_LANGUAGE "Ukrainian"
      !insertmacro MUI_LANGUAGE "Czech"
      !insertmacro MUI_LANGUAGE "Slovak"
      !insertmacro MUI_LANGUAGE "Hungarian"
      !insertmacro MUI_LANGUAGE "Arabic"
      !insertmacro MUI_LANGUAGE "Turkish"
      !insertmacro MUI_LANGUAGE "Thai"
      !insertmacro MUI_LANGUAGE "Vietnamese"
    !macroend

    !addplugindir /x86-unicode "C:\Users\user\AppData\Local\electron-builder\Cache\nsis\nsis-resources-3.4.1\plugins\x86-unicode"
    !include "C:\Users\user\AppData\Local\Temp\t-lTfCJz\0-messages.nsh"

    Var newStartMenuLink
    Var oldStartMenuLink
    Var newDesktopLink
    Var oldDesktopLink
    Var oldShortcutName
    Var oldMenuDirectory

    !include "common.nsh"
    !include "MUI2.nsh"
    !include "multiUser.nsh"
    !include "allowOnlyOneInstallerInstance.nsh"

    !ifdef INSTALL_MODE_PER_ALL_USERS
      !ifdef BUILD_UNINSTALLER
        RequestExecutionLevel user
      !else
        RequestExecutionLevel admin
      !endif
    !else
      RequestExecutionLevel user
    !endif

    !ifdef BUILD_UNINSTALLER
      SilentInstall silent
    !else
      Var appExe
      Var launchLink
    !endif

    !ifdef ONE_CLICK
      !include "oneClick.nsh"
    !else
      !include "assistedInstaller.nsh"
    !endif

    !insertmacro addLangs

    !ifmacrodef customHeader
      !insertmacro customHeader
    !endif

    Function .onInit
      Call setInstallSectionSpaceRequired

      SetOutPath $INSTDIR
      ${LogSet} on

      !ifmacrodef preInit
        !insertmacro preInit
      !endif

      !ifdef DISPLAY_LANG_SELECTOR
        !insertmacro MUI_LANGDLL_DISPLAY
      !endif

      !ifdef BUILD_UNINSTALLER
        WriteUninstaller "${UNINSTALLER_OUT_FILE}"
        !insertmacro quitSuccess
      !else
        !insertmacro check64BitAndSetRegView

        !ifdef ONE_CLICK
          !insertmacro ALLOW_ONLY_ONE_INSTALLER_INSTANCE
        !else
          ${IfNot} ${UAC_IsInnerInstance}
            !insertmacro ALLOW_ONLY_ONE_INSTALLER_INSTANCE
          ${EndIf}
        !endif

        !insertmacro initMultiUser

        !ifmacrodef customInit
          !insertmacro customInit
        !endif

        !ifmacrodef addLicenseFiles
          InitPluginsDir
          !insertmacro addLicenseFiles
        !endif
      !endif
    FunctionEnd

    !ifndef BUILD_UNINSTALLER
      !include "installUtil.nsh"
    !endif

    Section "install" INSTALL_SECTION_ID
      !ifndef BUILD_UNINSTALLER
        # If we're running a silent upgrade of a per-machine installation, elevate so extracting the new app will succeed.
        # For a non-silent install, the elevation will be triggered when the install mode is selected in the UI,
        # but that won't be executed when silent.
        !ifndef INSTALL_MODE_PER_ALL_USERS
          !ifndef ONE_CLICK
              ${if} $hasPerMachineInstallation == "1" # set in onInit by initMultiUser
              ${andIf} ${Silent}
                ${ifNot} ${UAC_IsAdmin}
                  ShowWindow $HWNDPARENT ${SW_HIDE}
                  !insertmacro UAC_RunElevated
                  ${Switch} $0
                    ${Case} 0
                      ${Break}
                    ${Case} 1223 ;user aborted
                      ${Break}
                    ${Default}
                      MessageBox mb_IconStop|mb_TopMost|mb_SetForeground "Unable to elevate, error $0"
                      ${Break}
                  ${EndSwitch}
                  Quit
                ${else}
                  !insertmacro setInstallModePerAllUsers
                ${endIf}
              ${endIf}
          !endif
        !endif
        !include "installSection.nsh"
      !endif
    SectionEnd

    Function setInstallSectionSpaceRequired
      !insertmacro setSpaceRequired ${INSTALL_SECTION_ID}
    FunctionEnd

    !ifdef BUILD_UNINSTALLER
      !include "uninstaller.nsh"
    !endif
directories:
  output: dist
  buildResources: build
win:
  icon: public/assets/icon/IconApp.ico
  target:
    - nsis
extraResources:
  - from: node_modules/playwright
    to: node_modules/playwright
npmRebuild: false
files: []
electronVersion: 33.2.0
Copyright (c) Electron contributors
Copyright (c) 2013-2020 GitHub Inc.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
{"file_format_version": "1.0.0", "ICD": {"library_path": ".\\vk_swiftshader.dll", "api_version": "1.0.5"}}import js from '@eslint/js'
import globals from 'globals'
import react from 'eslint-plugin-react'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'

export default [
  { ignores: ['dist'] },
  {
    files: ['**/*.{js,jsx}'],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    settings: { react: { version: '18.3' } },
    plugins: {
      react,
      'react-hooks': reactHooks,
      'react-refresh': reactRefresh,
    },
    rules: {
      ...js.configs.recommended.rules,
      ...react.configs.recommended.rules,
      ...react.configs['jsx-runtime'].rules,
      ...reactHooks.configs.recommended.rules,
      'react/jsx-no-target-blank': 'off',
      'react-refresh/only-export-components': [
        'warn',
        { allowConstantExport: true },
      ],
    },
  },
]
# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh
var Wm=Object.defineProperty;var Hm=(e,t,n)=>t in e?Wm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var I=(e,t,n)=>Hm(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function mh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yh={exports:{}},Uo={},vh={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=Symbol.for("react.element"),Um=Symbol.for("react.portal"),$m=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),Xm=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),Gm=Symbol.for("react.suspense"),qm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),Dc=Symbol.iterator;function Jm(e){return e===null||typeof e!="object"?null:(e=Dc&&e[Dc]||e["@@iterator"],typeof e=="function"?e:null)}var _h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xh=Object.assign,wh={};function zi(e,t,n){this.props=e,this.context=t,this.refs=wh,this.updater=n||_h}zi.prototype.isReactComponent={};zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sh(){}Sh.prototype=zi.prototype;function gu(e,t,n){this.props=e,this.context=t,this.refs=wh,this.updater=n||_h}var mu=gu.prototype=new Sh;mu.constructor=gu;xh(mu,zi.prototype);mu.isPureReactComponent=!0;var Oc=Array.isArray,Ch=Object.prototype.hasOwnProperty,yu={current:null},kh={key:!0,ref:!0,__self:!0,__source:!0};function bh(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Ch.call(t,i)&&!kh.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:Jr,type:e,key:s,ref:o,props:r,_owner:yu.current}}function ey(e,t){return{$$typeof:Jr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jr}function ty(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nc=/\/+/g;function hl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ty(""+e.key):t.toString(36)}function Us(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jr:case Um:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+hl(o,0):i,Oc(r)?(n="",e!=null&&(n=e.replace(Nc,"$&/")+"/"),Us(r,t,n,"",function(u){return u})):r!=null&&(vu(r)&&(r=ey(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Nc,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",Oc(e))for(var l=0;l<e.length;l++){s=e[l];var a=i+hl(s,l);o+=Us(s,t,n,a,r)}else if(a=Jm(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=i+hl(s,l++),o+=Us(s,t,n,a,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function us(e,t,n){if(e==null)return e;var i=[],r=0;return Us(e,i,"","",function(s){return t.call(n,s,r++)}),i}function ny(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},$s={transition:null},iy={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:$s,ReactCurrentOwner:yu};function Rh(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:us,forEach:function(e,t,n){us(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return us(e,function(){t++}),t},toArray:function(e){return us(e,function(t){return t})||[]},only:function(e){if(!vu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=zi;A.Fragment=$m;A.Profiler=Ym;A.PureComponent=gu;A.StrictMode=Vm;A.Suspense=Gm;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iy;A.act=Rh;A.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=xh({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=yu.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Ch.call(t,a)&&!kh.hasOwnProperty(a)&&(i[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:Jr,type:e.type,key:r,ref:s,props:i,_owner:o}};A.createContext=function(e){return e={$$typeof:Xm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qm,_context:e},e.Consumer=e};A.createElement=bh;A.createFactory=function(e){var t=bh.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:Km,render:e}};A.isValidElement=vu;A.lazy=function(e){return{$$typeof:Zm,_payload:{_status:-1,_result:e},_init:ny}};A.memo=function(e,t){return{$$typeof:qm,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};A.unstable_act=Rh;A.useCallback=function(e,t){return je.current.useCallback(e,t)};A.useContext=function(e){return je.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return je.current.useDeferredValue(e)};A.useEffect=function(e,t){return je.current.useEffect(e,t)};A.useId=function(){return je.current.useId()};A.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};A.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return je.current.useMemo(e,t)};A.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};A.useRef=function(e){return je.current.useRef(e)};A.useState=function(e){return je.current.useState(e)};A.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};A.useTransition=function(){return je.current.useTransition()};A.version="18.3.1";vh.exports=A;var D=vh.exports;const $o=mh(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=D,sy=Symbol.for("react.element"),oy=Symbol.for("react.fragment"),ly=Object.prototype.hasOwnProperty,ay=ry.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uy={key:!0,ref:!0,__self:!0,__source:!0};function Ph(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)ly.call(t,i)&&!uy.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:sy,type:e,key:s,ref:o,props:r,_owner:ay.current}}Uo.Fragment=oy;Uo.jsx=Ph;Uo.jsxs=Ph;yh.exports=Uo;var S=yh.exports,Eh={exports:{}},et={},Mh={exports:{}},Th={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,N){var L=M.length;M.push(N);e:for(;0<L;){var Q=L-1>>>1,q=M[Q];if(0<r(q,N))M[Q]=N,M[L]=q,L=Q;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var N=M[0],L=M.pop();if(L!==N){M[0]=L;e:for(var Q=0,q=M.length,xt=q>>>1;Q<xt;){var Oe=2*(Q+1)-1,Tt=M[Oe],Ne=Oe+1,as=M[Ne];if(0>r(Tt,L))Ne<q&&0>r(as,Tt)?(M[Q]=as,M[Ne]=L,Q=Ne):(M[Q]=Tt,M[Oe]=L,Q=Oe);else if(Ne<q&&0>r(as,L))M[Q]=as,M[Ne]=L,Q=Ne;else break e}}return N}function r(M,N){var L=M.sortIndex-N.sortIndex;return L!==0?L:M.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,h=!1,m=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var N=n(u);N!==null;){if(N.callback===null)i(u);else if(N.startTime<=M)i(u),N.sortIndex=N.expirationTime,t(a,N);else break;N=n(u)}}function x(M){if(v=!1,y(M),!m)if(n(a)!==null)m=!0,$(w);else{var N=n(u);N!==null&&G(x,N.startTime-M)}}function w(M,N){m=!1,v&&(v=!1,g(C),C=-1),h=!0;var L=f;try{for(y(N),d=n(a);d!==null&&(!(d.expirationTime>N)||M&&!O());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var q=Q(d.expirationTime<=N);N=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(a)&&i(a),y(N)}else i(a);d=n(a)}if(d!==null)var xt=!0;else{var Oe=n(u);Oe!==null&&G(x,Oe.startTime-N),xt=!1}return xt}finally{d=null,f=L,h=!1}}var b=!1,k=null,C=-1,E=5,R=-1;function O(){return!(e.unstable_now()-R<E)}function z(){if(k!==null){var M=e.unstable_now();R=M;var N=!0;try{N=k(!0,M)}finally{N?Y():(b=!1,k=null)}}else b=!1}var Y;if(typeof p=="function")Y=function(){p(z)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,W=ke.port2;ke.port1.onmessage=z,Y=function(){W.postMessage(null)}}else Y=function(){_(z,0)};function $(M){k=M,b||(b=!0,Y())}function G(M,N){C=_(function(){M(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,$(w))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var L=f;f=N;try{return M()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,N){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var L=f;f=M;try{return N()}finally{f=L}},e.unstable_scheduleCallback=function(M,N,L){var Q=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Q+L:Q):L=Q,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=L+q,M={id:c++,callback:N,priorityLevel:M,startTime:L,expirationTime:q,sortIndex:-1},L>Q?(M.sortIndex=L,t(u,M),n(a)===null&&M===n(u)&&(v?(g(C),C=-1):v=!0,G(x,L-Q))):(M.sortIndex=q,t(a,M),m||h||(m=!0,$(w))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var N=f;return function(){var L=f;f=N;try{return M.apply(this,arguments)}finally{f=L}}}})(Th);Mh.exports=Th;var cy=Mh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy=D,qe=cy;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dh=new Set,Rr={};function Gn(e,t){bi(e,t),bi(e+"Capture",t)}function bi(e,t){for(Rr[e]=t,e=0;e<t.length;e++)Dh.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=Object.prototype.hasOwnProperty,fy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ic={},Lc={};function hy(e){return ra.call(Lc,e)?!0:ra.call(Ic,e)?!1:fy.test(e)?Lc[e]=!0:(Ic[e]=!0,!1)}function py(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gy(e,t,n,i){if(t===null||typeof t>"u"||py(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var _u=/[\-:]([a-z])/g;function xu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_u,xu);Ce[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_u,xu);Ce[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_u,xu);Ce[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function wu(e,t,n,i){var r=Ce.hasOwnProperty(t)?Ce[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gy(t,n,r,i)&&(n=null),i||r===null?hy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Gt=dy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cs=Symbol.for("react.element"),ri=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),Su=Symbol.for("react.strict_mode"),sa=Symbol.for("react.profiler"),Oh=Symbol.for("react.provider"),Nh=Symbol.for("react.context"),Cu=Symbol.for("react.forward_ref"),oa=Symbol.for("react.suspense"),la=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),Ih=Symbol.for("react.offscreen"),zc=Symbol.iterator;function Wi(e){return e===null||typeof e!="object"?null:(e=zc&&e[zc]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,pl;function tr(e){if(pl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pl=t&&t[1]||""}return`
`+pl+e}var gl=!1;function ml(e,t){if(!e||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var a=`
`+r[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tr(e):""}function my(e){switch(e.tag){case 5:return tr(e.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 2:case 15:return e=ml(e.type,!1),e;case 11:return e=ml(e.type.render,!1),e;case 1:return e=ml(e.type,!0),e;default:return""}}function aa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case si:return"Fragment";case ri:return"Portal";case sa:return"Profiler";case Su:return"StrictMode";case oa:return"Suspense";case la:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nh:return(e.displayName||"Context")+".Consumer";case Oh:return(e._context.displayName||"Context")+".Provider";case Cu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ku:return t=e.displayName||null,t!==null?t:aa(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return aa(e(t))}catch{}}return null}function yy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aa(t);case 8:return t===Su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vy(e){var t=Lh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ds(e){e._valueTracker||(e._valueTracker=vy(e))}function zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Lh(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function so(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ua(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ac(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ah(e,t){t=t.checked,t!=null&&wu(e,"checked",t,!1)}function ca(e,t){Ah(e,t);var n=xn(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?da(e,t.type,n):t.hasOwnProperty("defaultValue")&&da(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function da(e,t,n){(t!=="number"||so(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nr=Array.isArray;function yi(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(nr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function jh(e,t){var n=xn(t.value),i=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Fc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ha(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fs,Fh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_y=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(e){_y.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fr[t]=fr[e]})});function Wh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fr.hasOwnProperty(e)&&fr[e]?(""+t).trim():t+"px"}function Hh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Wh(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var xy=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(e,t){if(t){if(xy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function ga(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ma=null;function bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,vi=null,_i=null;function Wc(e){if(e=ns(e)){if(typeof ya!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Ko(t),ya(e.stateNode,e.type,t))}}function Uh(e){vi?_i?_i.push(e):_i=[e]:vi=e}function $h(){if(vi){var e=vi,t=_i;if(_i=vi=null,Wc(e),t)for(e=0;e<t.length;e++)Wc(t[e])}}function Vh(e,t){return e(t)}function Yh(){}var yl=!1;function Qh(e,t,n){if(yl)return e(t,n);yl=!0;try{return Vh(e,t,n)}finally{yl=!1,(vi!==null||_i!==null)&&(Yh(),$h())}}function Er(e,t){var n=e.stateNode;if(n===null)return null;var i=Ko(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var va=!1;if(Vt)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){va=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{va=!1}function wy(e,t,n,i,r,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var hr=!1,oo=null,lo=!1,_a=null,Sy={onError:function(e){hr=!0,oo=e}};function Cy(e,t,n,i,r,s,o,l,a){hr=!1,oo=null,wy.apply(Sy,arguments)}function ky(e,t,n,i,r,s,o,l,a){if(Cy.apply(this,arguments),hr){if(hr){var u=oo;hr=!1,oo=null}else throw Error(P(198));lo||(lo=!0,_a=u)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hc(e){if(qn(e)!==e)throw Error(P(188))}function by(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Hc(r),e;if(s===i)return Hc(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Kh(e){return e=by(e),e!==null?Gh(e):null}function Gh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gh(e);if(t!==null)return t;e=e.sibling}return null}var qh=qe.unstable_scheduleCallback,Uc=qe.unstable_cancelCallback,Ry=qe.unstable_shouldYield,Py=qe.unstable_requestPaint,ue=qe.unstable_now,Ey=qe.unstable_getCurrentPriorityLevel,Ru=qe.unstable_ImmediatePriority,Zh=qe.unstable_UserBlockingPriority,ao=qe.unstable_NormalPriority,My=qe.unstable_LowPriority,Jh=qe.unstable_IdlePriority,Vo=null,Pt=null;function Ty(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Ny,Dy=Math.log,Oy=Math.LN2;function Ny(e){return e>>>=0,e===0?32:31-(Dy(e)/Oy|0)|0}var hs=64,ps=4194304;function ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uo(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?i=ir(l):(s&=o,s!==0&&(i=ir(s)))}else o=n&~r,o!==0?i=ir(o):s!==0&&(i=ir(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-yt(t),r=1<<n,i|=e[n],t&=~r;return i}function Iy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ly(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-yt(s),l=1<<o,a=r[o];a===-1?(!(l&n)||l&i)&&(r[o]=Iy(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function xa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ep(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function vl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function es(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function zy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-yt(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function Pu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-yt(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var U=0;function tp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var np,Eu,ip,rp,sp,wa=!1,gs=[],cn=null,dn=null,fn=null,Mr=new Map,Tr=new Map,sn=[],Ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $c(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function Ui(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=ns(t),t!==null&&Eu(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function jy(e,t,n,i,r){switch(t){case"focusin":return cn=Ui(cn,e,t,n,i,r),!0;case"dragenter":return dn=Ui(dn,e,t,n,i,r),!0;case"mouseover":return fn=Ui(fn,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Mr.set(s,Ui(Mr.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Tr.set(s,Ui(Tr.get(s)||null,e,t,n,i,r)),!0}return!1}function op(e){var t=Ln(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Xh(n),t!==null){e.blockedOn=t,sp(e.priority,function(){ip(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);ma=i,n.target.dispatchEvent(i),ma=null}else return t=ns(n),t!==null&&Eu(t),e.blockedOn=n,!1;t.shift()}return!0}function Vc(e,t,n){Vs(e)&&n.delete(t)}function By(){wa=!1,cn!==null&&Vs(cn)&&(cn=null),dn!==null&&Vs(dn)&&(dn=null),fn!==null&&Vs(fn)&&(fn=null),Mr.forEach(Vc),Tr.forEach(Vc)}function $i(e,t){e.blockedOn===t&&(e.blockedOn=null,wa||(wa=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,By)))}function Dr(e){function t(r){return $i(r,e)}if(0<gs.length){$i(gs[0],e);for(var n=1;n<gs.length;n++){var i=gs[n];i.blockedOn===e&&(i.blockedOn=null)}}for(cn!==null&&$i(cn,e),dn!==null&&$i(dn,e),fn!==null&&$i(fn,e),Mr.forEach(t),Tr.forEach(t),n=0;n<sn.length;n++)i=sn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)op(n),n.blockedOn===null&&sn.shift()}var xi=Gt.ReactCurrentBatchConfig,co=!0;function Fy(e,t,n,i){var r=U,s=xi.transition;xi.transition=null;try{U=1,Mu(e,t,n,i)}finally{U=r,xi.transition=s}}function Wy(e,t,n,i){var r=U,s=xi.transition;xi.transition=null;try{U=4,Mu(e,t,n,i)}finally{U=r,xi.transition=s}}function Mu(e,t,n,i){if(co){var r=Sa(e,t,n,i);if(r===null)El(e,t,i,fo,n),$c(e,i);else if(jy(r,e,t,n,i))i.stopPropagation();else if($c(e,i),t&4&&-1<Ay.indexOf(e)){for(;r!==null;){var s=ns(r);if(s!==null&&np(s),s=Sa(e,t,n,i),s===null&&El(e,t,i,fo,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else El(e,t,i,null,n)}}var fo=null;function Sa(e,t,n,i){if(fo=null,e=bu(i),e=Ln(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fo=e,null}function lp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ey()){case Ru:return 1;case Zh:return 4;case ao:case My:return 16;case Jh:return 536870912;default:return 16}default:return 16}}var ln=null,Tu=null,Ys=null;function ap(){if(Ys)return Ys;var e,t=Tu,n=t.length,i,r="value"in ln?ln.value:ln.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return Ys=r.slice(e,1<i?1-i:void 0)}function Qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function Yc(){return!1}function tt(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ms:Yc,this.isPropagationStopped=Yc,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),t}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=tt(Ai),ts=re({},Ai,{view:0,detail:0}),Hy=tt(ts),_l,xl,Vi,Yo=re({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(_l=e.screenX-Vi.screenX,xl=e.screenY-Vi.screenY):xl=_l=0,Vi=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),Qc=tt(Yo),Uy=re({},Yo,{dataTransfer:0}),$y=tt(Uy),Vy=re({},ts,{relatedTarget:0}),wl=tt(Vy),Yy=re({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Qy=tt(Yy),Xy=re({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ky=tt(Xy),Gy=re({},Ai,{data:0}),Xc=tt(Gy),qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jy[e])?!!t[e]:!1}function Ou(){return e0}var t0=re({},ts,{key:function(e){if(e.key){var t=qy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n0=tt(t0),i0=re({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=tt(i0),r0=re({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),s0=tt(r0),o0=re({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),l0=tt(o0),a0=re({},Yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u0=tt(a0),c0=[9,13,27,32],Nu=Vt&&"CompositionEvent"in window,pr=null;Vt&&"documentMode"in document&&(pr=document.documentMode);var d0=Vt&&"TextEvent"in window&&!pr,up=Vt&&(!Nu||pr&&8<pr&&11>=pr),Gc=" ",qc=!1;function cp(e,t){switch(e){case"keyup":return c0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function f0(e,t){switch(e){case"compositionend":return dp(t);case"keypress":return t.which!==32?null:(qc=!0,Gc);case"textInput":return e=t.data,e===Gc&&qc?null:e;default:return null}}function h0(e,t){if(oi)return e==="compositionend"||!Nu&&cp(e,t)?(e=ap(),Ys=Tu=ln=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return up&&t.locale!=="ko"?null:t.data;default:return null}}var p0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!p0[e.type]:t==="textarea"}function fp(e,t,n,i){Uh(i),t=ho(t,"onChange"),0<t.length&&(n=new Du("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var gr=null,Or=null;function g0(e){Cp(e,0)}function Qo(e){var t=ui(e);if(zh(t))return e}function m0(e,t){if(e==="change")return t}var hp=!1;if(Vt){var Sl;if(Vt){var Cl="oninput"in document;if(!Cl){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),Cl=typeof Jc.oninput=="function"}Sl=Cl}else Sl=!1;hp=Sl&&(!document.documentMode||9<document.documentMode)}function ed(){gr&&(gr.detachEvent("onpropertychange",pp),Or=gr=null)}function pp(e){if(e.propertyName==="value"&&Qo(Or)){var t=[];fp(t,Or,e,bu(e)),Qh(g0,t)}}function y0(e,t,n){e==="focusin"?(ed(),gr=t,Or=n,gr.attachEvent("onpropertychange",pp)):e==="focusout"&&ed()}function v0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(Or)}function _0(e,t){if(e==="click")return Qo(t)}function x0(e,t){if(e==="input"||e==="change")return Qo(t)}function w0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:w0;function Nr(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ra.call(t,r)||!_t(e[r],t[r]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var n=td(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=td(n)}}function gp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mp(){for(var e=window,t=so();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=so(e.document)}return t}function Iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function S0(e){var t=mp(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gp(n.ownerDocument.documentElement,n)){if(i!==null&&Iu(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=nd(n,s);var o=nd(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var C0=Vt&&"documentMode"in document&&11>=document.documentMode,li=null,Ca=null,mr=null,ka=!1;function id(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ka||li==null||li!==so(i)||(i=li,"selectionStart"in i&&Iu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),mr&&Nr(mr,i)||(mr=i,i=ho(Ca,"onSelect"),0<i.length&&(t=new Du("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=li)))}function ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ai={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},kl={},yp={};Vt&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Xo(e){if(kl[e])return kl[e];if(!ai[e])return e;var t=ai[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yp)return kl[e]=t[n];return e}var vp=Xo("animationend"),_p=Xo("animationiteration"),xp=Xo("animationstart"),wp=Xo("transitionend"),Sp=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){Sp.set(e,t),Gn(t,[e])}for(var bl=0;bl<rd.length;bl++){var Rl=rd[bl],k0=Rl.toLowerCase(),b0=Rl[0].toUpperCase()+Rl.slice(1);kn(k0,"on"+b0)}kn(vp,"onAnimationEnd");kn(_p,"onAnimationIteration");kn(xp,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(wp,"onTransitionEnd");bi("onMouseEnter",["mouseout","mouseover"]);bi("onMouseLeave",["mouseout","mouseover"]);bi("onPointerEnter",["pointerout","pointerover"]);bi("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(rr));function sd(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,ky(i,t,void 0,e),e.currentTarget=null}function Cp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&r.isPropagationStopped())break e;sd(r,l,u),s=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&r.isPropagationStopped())break e;sd(r,l,u),s=a}}}if(lo)throw e=_a,lo=!1,_a=null,e}function Z(e,t){var n=t[Ma];n===void 0&&(n=t[Ma]=new Set);var i=e+"__bubble";n.has(i)||(kp(t,e,2,!1),n.add(i))}function Pl(e,t,n){var i=0;t&&(i|=4),kp(n,e,i,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[vs]){e[vs]=!0,Dh.forEach(function(n){n!=="selectionchange"&&(R0.has(n)||Pl(n,!1,e),Pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,Pl("selectionchange",!1,t))}}function kp(e,t,n,i){switch(lp(t)){case 1:var r=Fy;break;case 4:r=Wy;break;default:r=Mu}n=r.bind(null,t,n,e),r=void 0,!va||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function El(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===r||a.nodeType===8&&a.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Ln(l),o===null)return;if(a=o.tag,a===5||a===6){i=s=o;continue e}l=l.parentNode}}i=i.return}Qh(function(){var u=s,c=bu(n),d=[];e:{var f=Sp.get(e);if(f!==void 0){var h=Du,m=e;switch(e){case"keypress":if(Qs(n)===0)break e;case"keydown":case"keyup":h=n0;break;case"focusin":m="focus",h=wl;break;case"focusout":m="blur",h=wl;break;case"beforeblur":case"afterblur":h=wl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=$y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=s0;break;case vp:case _p:case xp:h=Qy;break;case wp:h=l0;break;case"scroll":h=Hy;break;case"wheel":h=u0;break;case"copy":case"cut":case"paste":h=Ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Kc}var v=(t&4)!==0,_=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,y;p!==null;){y=p;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,g!==null&&(x=Er(p,g),x!=null&&v.push(Lr(p,x,y)))),_)break;p=p.return}0<v.length&&(f=new h(f,m,null,n,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==ma&&(m=n.relatedTarget||n.fromElement)&&(Ln(m)||m[Yt]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?Ln(m):null,m!==null&&(_=qn(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(v=Qc,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Kc,x="onPointerLeave",g="onPointerEnter",p="pointer"),_=h==null?f:ui(h),y=m==null?f:ui(m),f=new v(x,p+"leave",h,n,c),f.target=_,f.relatedTarget=y,x=null,Ln(c)===u&&(v=new v(g,p+"enter",m,n,c),v.target=y,v.relatedTarget=_,x=v),_=x,h&&m)t:{for(v=h,g=m,p=0,y=v;y;y=Jn(y))p++;for(y=0,x=g;x;x=Jn(x))y++;for(;0<p-y;)v=Jn(v),p--;for(;0<y-p;)g=Jn(g),y--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=Jn(v),g=Jn(g)}v=null}else v=null;h!==null&&od(d,f,h,v,!1),m!==null&&_!==null&&od(d,_,m,v,!0)}}e:{if(f=u?ui(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var w=m0;else if(Zc(f))if(hp)w=x0;else{w=v0;var b=y0}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=_0);if(w&&(w=w(e,u))){fp(d,w,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&da(f,"number",f.value)}switch(b=u?ui(u):window,e){case"focusin":(Zc(b)||b.contentEditable==="true")&&(li=b,Ca=u,mr=null);break;case"focusout":mr=Ca=li=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,id(d,n,c);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":id(d,n,c)}var k;if(Nu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else oi?cp(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(up&&n.locale!=="ko"&&(oi||C!=="onCompositionStart"?C==="onCompositionEnd"&&oi&&(k=ap()):(ln=c,Tu="value"in ln?ln.value:ln.textContent,oi=!0)),b=ho(u,C),0<b.length&&(C=new Xc(C,e,null,n,c),d.push({event:C,listeners:b}),k?C.data=k:(k=dp(n),k!==null&&(C.data=k)))),(k=d0?f0(e,n):h0(e,n))&&(u=ho(u,"onBeforeInput"),0<u.length&&(c=new Xc("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}Cp(d,t)})}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ho(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Er(e,n),s!=null&&i.unshift(Lr(e,s,r)),s=Er(e,t),s!=null&&i.push(Lr(e,s,r))),e=e.return}return i}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function od(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,r?(a=Er(n,s),a!=null&&o.unshift(Lr(n,a,l))):r||(a=Er(n,s),a!=null&&o.push(Lr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var P0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function ld(e){return(typeof e=="string"?e:""+e).replace(P0,`
`).replace(E0,"")}function _s(e,t,n){if(t=ld(t),ld(e)!==t&&n)throw Error(P(425))}function po(){}var ba=null,Ra=null;function Pa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ea=typeof setTimeout=="function"?setTimeout:void 0,M0=typeof clearTimeout=="function"?clearTimeout:void 0,ad=typeof Promise=="function"?Promise:void 0,T0=typeof queueMicrotask=="function"?queueMicrotask:typeof ad<"u"?function(e){return ad.resolve(null).then(e).catch(D0)}:Ea;function D0(e){setTimeout(function(){throw e})}function Ml(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),Dr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Dr(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ji=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ji,zr="__reactProps$"+ji,Yt="__reactContainer$"+ji,Ma="__reactEvents$"+ji,O0="__reactListeners$"+ji,N0="__reactHandles$"+ji;function Ln(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ud(e);e!==null;){if(n=e[Rt])return n;e=ud(e)}return t}e=n,n=e.parentNode}return null}function ns(e){return e=e[Rt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Ko(e){return e[zr]||null}var Ta=[],ci=-1;function bn(e){return{current:e}}function ee(e){0>ci||(e.current=Ta[ci],Ta[ci]=null,ci--)}function K(e,t){ci++,Ta[ci]=e.current,e.current=t}var wn={},De=bn(wn),Ve=bn(!1),Hn=wn;function Ri(e,t){var n=e.type.contextTypes;if(!n)return wn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ye(e){return e=e.childContextTypes,e!=null}function go(){ee(Ve),ee(De)}function cd(e,t,n){if(De.current!==wn)throw Error(P(168));K(De,t),K(Ve,n)}function bp(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(P(108,yy(e)||"Unknown",r));return re({},n,i)}function mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Hn=De.current,K(De,e),K(Ve,Ve.current),!0}function dd(e,t,n){var i=e.stateNode;if(!i)throw Error(P(169));n?(e=bp(e,t,Hn),i.__reactInternalMemoizedMergedChildContext=e,ee(Ve),ee(De),K(De,e)):ee(Ve),K(Ve,n)}var jt=null,Go=!1,Tl=!1;function Rp(e){jt===null?jt=[e]:jt.push(e)}function I0(e){Go=!0,Rp(e)}function Rn(){if(!Tl&&jt!==null){Tl=!0;var e=0,t=U;try{var n=jt;for(U=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}jt=null,Go=!1}catch(r){throw jt!==null&&(jt=jt.slice(e+1)),qh(Ru,Rn),r}finally{U=t,Tl=!1}}return null}var di=[],fi=0,yo=null,vo=0,it=[],rt=0,Un=null,Ft=1,Wt="";function Tn(e,t){di[fi++]=vo,di[fi++]=yo,yo=e,vo=t}function Pp(e,t,n){it[rt++]=Ft,it[rt++]=Wt,it[rt++]=Un,Un=e;var i=Ft;e=Wt;var r=32-yt(i)-1;i&=~(1<<r),n+=1;var s=32-yt(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ft=1<<32-yt(t)+r|n<<r|i,Wt=s+e}else Ft=1<<s|n<<r|i,Wt=e}function Lu(e){e.return!==null&&(Tn(e,1),Pp(e,1,0))}function zu(e){for(;e===yo;)yo=di[--fi],di[fi]=null,vo=di[--fi],di[fi]=null;for(;e===Un;)Un=it[--rt],it[rt]=null,Wt=it[--rt],it[rt]=null,Ft=it[--rt],it[rt]=null}var Ge=null,Ke=null,te=!1,gt=null;function Ep(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,Ke=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Un!==null?{id:Ft,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ge=e,Ke=null,!0):!1;default:return!1}}function Da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oa(e){if(te){var t=Ke;if(t){var n=t;if(!fd(e,t)){if(Da(e))throw Error(P(418));t=hn(n.nextSibling);var i=Ge;t&&fd(e,t)?Ep(i,n):(e.flags=e.flags&-4097|2,te=!1,Ge=e)}}else{if(Da(e))throw Error(P(418));e.flags=e.flags&-4097|2,te=!1,Ge=e}}}function hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function xs(e){if(e!==Ge)return!1;if(!te)return hd(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pa(e.type,e.memoizedProps)),t&&(t=Ke)){if(Da(e))throw Mp(),Error(P(418));for(;t;)Ep(e,t),t=hn(t.nextSibling)}if(hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ge?hn(e.stateNode.nextSibling):null;return!0}function Mp(){for(var e=Ke;e;)e=hn(e.nextSibling)}function Pi(){Ke=Ge=null,te=!1}function Au(e){gt===null?gt=[e]:gt.push(e)}var L0=Gt.ReactCurrentBatchConfig;function Yi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var i=n.stateNode}if(!i)throw Error(P(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=r.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pd(e){var t=e._init;return t(e._payload)}function Tp(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function i(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function r(g,p){return g=yn(g,p),g.index=0,g.sibling=null,g}function s(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,y,x){return p===null||p.tag!==6?(p=Al(y,g.mode,x),p.return=g,p):(p=r(p,y),p.return=g,p)}function a(g,p,y,x){var w=y.type;return w===si?c(g,p,y.props.children,x,y.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===nn&&pd(w)===p.type)?(x=r(p,y.props),x.ref=Yi(g,p,y),x.return=g,x):(x=eo(y.type,y.key,y.props,null,g.mode,x),x.ref=Yi(g,p,y),x.return=g,x)}function u(g,p,y,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=jl(y,g.mode,x),p.return=g,p):(p=r(p,y.children||[]),p.return=g,p)}function c(g,p,y,x,w){return p===null||p.tag!==7?(p=Fn(y,g.mode,x,w),p.return=g,p):(p=r(p,y),p.return=g,p)}function d(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Al(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case cs:return y=eo(p.type,p.key,p.props,null,g.mode,y),y.ref=Yi(g,null,p),y.return=g,y;case ri:return p=jl(p,g.mode,y),p.return=g,p;case nn:var x=p._init;return d(g,x(p._payload),y)}if(nr(p)||Wi(p))return p=Fn(p,g.mode,y,null),p.return=g,p;ws(g,p)}return null}function f(g,p,y,x){var w=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:l(g,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cs:return y.key===w?a(g,p,y,x):null;case ri:return y.key===w?u(g,p,y,x):null;case nn:return w=y._init,f(g,p,w(y._payload),x)}if(nr(y)||Wi(y))return w!==null?null:c(g,p,y,x,null);ws(g,y)}return null}function h(g,p,y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(y)||null,l(p,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cs:return g=g.get(x.key===null?y:x.key)||null,a(p,g,x,w);case ri:return g=g.get(x.key===null?y:x.key)||null,u(p,g,x,w);case nn:var b=x._init;return h(g,p,y,b(x._payload),w)}if(nr(x)||Wi(x))return g=g.get(y)||null,c(p,g,x,w,null);ws(p,x)}return null}function m(g,p,y,x){for(var w=null,b=null,k=p,C=p=0,E=null;k!==null&&C<y.length;C++){k.index>C?(E=k,k=null):E=k.sibling;var R=f(g,k,y[C],x);if(R===null){k===null&&(k=E);break}e&&k&&R.alternate===null&&t(g,k),p=s(R,p,C),b===null?w=R:b.sibling=R,b=R,k=E}if(C===y.length)return n(g,k),te&&Tn(g,C),w;if(k===null){for(;C<y.length;C++)k=d(g,y[C],x),k!==null&&(p=s(k,p,C),b===null?w=k:b.sibling=k,b=k);return te&&Tn(g,C),w}for(k=i(g,k);C<y.length;C++)E=h(k,g,C,y[C],x),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),p=s(E,p,C),b===null?w=E:b.sibling=E,b=E);return e&&k.forEach(function(O){return t(g,O)}),te&&Tn(g,C),w}function v(g,p,y,x){var w=Wi(y);if(typeof w!="function")throw Error(P(150));if(y=w.call(y),y==null)throw Error(P(151));for(var b=w=null,k=p,C=p=0,E=null,R=y.next();k!==null&&!R.done;C++,R=y.next()){k.index>C?(E=k,k=null):E=k.sibling;var O=f(g,k,R.value,x);if(O===null){k===null&&(k=E);break}e&&k&&O.alternate===null&&t(g,k),p=s(O,p,C),b===null?w=O:b.sibling=O,b=O,k=E}if(R.done)return n(g,k),te&&Tn(g,C),w;if(k===null){for(;!R.done;C++,R=y.next())R=d(g,R.value,x),R!==null&&(p=s(R,p,C),b===null?w=R:b.sibling=R,b=R);return te&&Tn(g,C),w}for(k=i(g,k);!R.done;C++,R=y.next())R=h(k,g,C,R.value,x),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?C:R.key),p=s(R,p,C),b===null?w=R:b.sibling=R,b=R);return e&&k.forEach(function(z){return t(g,z)}),te&&Tn(g,C),w}function _(g,p,y,x){if(typeof y=="object"&&y!==null&&y.type===si&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case cs:e:{for(var w=y.key,b=p;b!==null;){if(b.key===w){if(w=y.type,w===si){if(b.tag===7){n(g,b.sibling),p=r(b,y.props.children),p.return=g,g=p;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===nn&&pd(w)===b.type){n(g,b.sibling),p=r(b,y.props),p.ref=Yi(g,b,y),p.return=g,g=p;break e}n(g,b);break}else t(g,b);b=b.sibling}y.type===si?(p=Fn(y.props.children,g.mode,x,y.key),p.return=g,g=p):(x=eo(y.type,y.key,y.props,null,g.mode,x),x.ref=Yi(g,p,y),x.return=g,g=x)}return o(g);case ri:e:{for(b=y.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=r(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=jl(y,g.mode,x),p.return=g,g=p}return o(g);case nn:return b=y._init,_(g,p,b(y._payload),x)}if(nr(y))return m(g,p,y,x);if(Wi(y))return v(g,p,y,x);ws(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=r(p,y),p.return=g,g=p):(n(g,p),p=Al(y,g.mode,x),p.return=g,g=p),o(g)):n(g,p)}return _}var Ei=Tp(!0),Dp=Tp(!1),_o=bn(null),xo=null,hi=null,ju=null;function Bu(){ju=hi=xo=null}function Fu(e){var t=_o.current;ee(_o),e._currentValue=t}function Na(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function wi(e,t){xo=e,ju=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(ju!==e)if(e={context:e,memoizedValue:t,next:null},hi===null){if(xo===null)throw Error(P(308));hi=e,xo.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var zn=null;function Wu(e){zn===null?zn=[e]:zn.push(e)}function Op(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,Wu(t)):(n.next=r.next,r.next=n),t.interleaved=n,Qt(e,i)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function Hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Np(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,B&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Qt(e,n)}return r=i.interleaved,r===null?(t.next=t,Wu(i)):(t.next=r.next,r.next=t),i.interleaved=t,Qt(e,n)}function Xs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Pu(e,n)}}function gd(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wo(e,t,n,i){var r=e.updateQueue;rn=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=r.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,h=l.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,v=l;switch(f=t,h=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=re({},d,f);break e;case 2:rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=d):c=c.next=h,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(c===null&&(a=d),r.baseState=a,r.firstBaseUpdate=u,r.lastBaseUpdate=c,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);Vn|=o,e.lanes=o,e.memoizedState=d}}function md(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(P(191,r));r.call(i)}}}var is={},Et=bn(is),Ar=bn(is),jr=bn(is);function An(e){if(e===is)throw Error(P(174));return e}function Uu(e,t){switch(K(jr,t),K(Ar,e),K(Et,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ha(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ha(t,e)}ee(Et),K(Et,t)}function Mi(){ee(Et),ee(Ar),ee(jr)}function Ip(e){An(jr.current);var t=An(Et.current),n=ha(t,e.type);t!==n&&(K(Ar,e),K(Et,n))}function $u(e){Ar.current===e&&(ee(Et),ee(Ar))}var ne=bn(0);function So(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dl=[];function Vu(){for(var e=0;e<Dl.length;e++)Dl[e]._workInProgressVersionPrimary=null;Dl.length=0}var Ks=Gt.ReactCurrentDispatcher,Ol=Gt.ReactCurrentBatchConfig,$n=0,ie=null,fe=null,me=null,Co=!1,yr=!1,Br=0,z0=0;function be(){throw Error(P(321))}function Yu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function Qu(e,t,n,i,r,s){if($n=s,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ks.current=e===null||e.memoizedState===null?F0:W0,e=n(i,r),yr){s=0;do{if(yr=!1,Br=0,25<=s)throw Error(P(301));s+=1,me=fe=null,t.updateQueue=null,Ks.current=H0,e=n(i,r)}while(yr)}if(Ks.current=ko,t=fe!==null&&fe.next!==null,$n=0,me=fe=ie=null,Co=!1,t)throw Error(P(300));return e}function Xu(){var e=Br!==0;return Br=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ie.memoizedState=me=e:me=me.next=e,me}function ut(){if(fe===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?ie.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(P(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?ie.memoizedState=me=e:me=me.next=e}return me}function Fr(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=ut(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=fe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if(($n&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=i):a=a.next=d,ie.lanes|=c,Vn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=i:a.next=l,_t(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=a,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,ie.lanes|=s,Vn|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Il(e){var t=ut(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);_t(s,t.memoizedState)||(Ue=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Lp(){}function zp(e,t){var n=ie,i=ut(),r=t(),s=!_t(i.memoizedState,r);if(s&&(i.memoizedState=r,Ue=!0),i=i.queue,Ku(Bp.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Wr(9,jp.bind(null,n,i,r,t),void 0,null),ve===null)throw Error(P(349));$n&30||Ap(n,t,r)}return r}function Ap(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jp(e,t,n,i){t.value=n,t.getSnapshot=i,Fp(t)&&Wp(e)}function Bp(e,t,n){return n(function(){Fp(t)&&Wp(e)})}function Fp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Wp(e){var t=Qt(e,1);t!==null&&vt(t,e,1,-1)}function yd(e){var t=kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t.queue=e,e=e.dispatch=B0.bind(null,ie,e),[t.memoizedState,e]}function Wr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Hp(){return ut().memoizedState}function Gs(e,t,n,i){var r=kt();ie.flags|=e,r.memoizedState=Wr(1|t,n,void 0,i===void 0?null:i)}function qo(e,t,n,i){var r=ut();i=i===void 0?null:i;var s=void 0;if(fe!==null){var o=fe.memoizedState;if(s=o.destroy,i!==null&&Yu(i,o.deps)){r.memoizedState=Wr(t,n,s,i);return}}ie.flags|=e,r.memoizedState=Wr(1|t,n,s,i)}function vd(e,t){return Gs(8390656,8,e,t)}function Ku(e,t){return qo(2048,8,e,t)}function Up(e,t){return qo(4,2,e,t)}function $p(e,t){return qo(4,4,e,t)}function Vp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yp(e,t,n){return n=n!=null?n.concat([e]):null,qo(4,4,Vp.bind(null,t,e),n)}function Gu(){}function Qp(e,t){var n=ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Yu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Xp(e,t){var n=ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Yu(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Kp(e,t,n){return $n&21?(_t(n,t)||(n=ep(),ie.lanes|=n,Vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=n)}function A0(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var i=Ol.transition;Ol.transition={};try{e(!1),t()}finally{U=n,Ol.transition=i}}function Gp(){return ut().memoizedState}function j0(e,t,n){var i=mn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},qp(e))Zp(t,n);else if(n=Op(e,t,n,i),n!==null){var r=Ae();vt(n,e,i,r),Jp(n,t,i)}}function B0(e,t,n){var i=mn(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(qp(e))Zp(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(r.hasEagerState=!0,r.eagerState=l,_t(l,o)){var a=t.interleaved;a===null?(r.next=r,Wu(t)):(r.next=a.next,a.next=r),t.interleaved=r;return}}catch{}finally{}n=Op(e,t,r,i),n!==null&&(r=Ae(),vt(n,e,i,r),Jp(n,t,i))}}function qp(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Zp(e,t){yr=Co=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jp(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Pu(e,n)}}var ko={readContext:at,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},F0={readContext:at,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:vd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gs(4194308,4,Vp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=kt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=j0.bind(null,ie,e),[i.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:yd,useDebugValue:Gu,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=yd(!1),t=e[0];return e=A0.bind(null,e[1]),kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ie,r=kt();if(te){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),ve===null)throw Error(P(349));$n&30||Ap(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,vd(Bp.bind(null,i,s,e),[e]),i.flags|=2048,Wr(9,jp.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=kt(),t=ve.identifierPrefix;if(te){var n=Wt,i=Ft;n=(i&~(1<<32-yt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=z0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W0={readContext:at,useCallback:Qp,useContext:at,useEffect:Ku,useImperativeHandle:Yp,useInsertionEffect:Up,useLayoutEffect:$p,useMemo:Xp,useReducer:Nl,useRef:Hp,useState:function(){return Nl(Fr)},useDebugValue:Gu,useDeferredValue:function(e){var t=ut();return Kp(t,fe.memoizedState,e)},useTransition:function(){var e=Nl(Fr)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Lp,useSyncExternalStore:zp,useId:Gp,unstable_isNewReconciler:!1},H0={readContext:at,useCallback:Qp,useContext:at,useEffect:Ku,useImperativeHandle:Yp,useInsertionEffect:Up,useLayoutEffect:$p,useMemo:Xp,useReducer:Il,useRef:Hp,useState:function(){return Il(Fr)},useDebugValue:Gu,useDeferredValue:function(e){var t=ut();return fe===null?t.memoizedState=e:Kp(t,fe.memoizedState,e)},useTransition:function(){var e=Il(Fr)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Lp,useSyncExternalStore:zp,useId:Gp,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ia(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zo={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ae(),r=mn(e),s=Ut(i,r);s.payload=t,n!=null&&(s.callback=n),t=pn(e,s,r),t!==null&&(vt(t,e,r,i),Xs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ae(),r=mn(e),s=Ut(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=pn(e,s,r),t!==null&&(vt(t,e,r,i),Xs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),i=mn(e),r=Ut(n,i);r.tag=2,t!=null&&(r.callback=t),t=pn(e,r,i),t!==null&&(vt(t,e,i,n),Xs(t,e,i))}};function _d(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!Nr(n,i)||!Nr(r,s):!0}function eg(e,t,n){var i=!1,r=wn,s=t.contextType;return typeof s=="object"&&s!==null?s=at(s):(r=Ye(t)?Hn:De.current,i=t.contextTypes,s=(i=i!=null)?Ri(e,r):wn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zo,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function xd(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Zo.enqueueReplaceState(t,t.state,null)}function La(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Hu(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=at(s):(s=Ye(t)?Hn:De.current,r.context=Ri(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ia(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Zo.enqueueReplaceState(r,r.state,null),wo(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Ti(e,t){try{var n="",i=t;do n+=my(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function Ll(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function za(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function tg(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ro||(Ro=!0,Ya=i),za(e,t)},n}function ng(e,t,n){n=Ut(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){za(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){za(e,t),typeof i!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wd(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new U0;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=iv.bind(null,e,t,n),t.then(e,e))}function Sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cd(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var $0=Gt.ReactCurrentOwner,Ue=!1;function Le(e,t,n,i){t.child=e===null?Dp(t,null,n,i):Ei(t,e.child,n,i)}function kd(e,t,n,i,r){n=n.render;var s=t.ref;return wi(t,r),i=Qu(e,t,n,i,s,r),n=Xu(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Xt(e,t,r)):(te&&n&&Lu(t),t.flags|=1,Le(e,t,i,r),t.child)}function bd(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!rc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ig(e,t,s,i,r)):(e=eo(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nr,n(o,i)&&e.ref===t.ref)return Xt(e,t,r)}return t.flags|=1,e=yn(s,i),e.ref=t.ref,e.return=t,t.child=e}function ig(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Nr(s,i)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,Xt(e,t,r)}return Aa(e,t,n,i,r)}function rg(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(gi,Xe),Xe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(gi,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,K(gi,Xe),Xe|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,K(gi,Xe),Xe|=i;return Le(e,t,r,n),t.child}function sg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,i,r){var s=Ye(n)?Hn:De.current;return s=Ri(t,s),wi(t,r),n=Qu(e,t,n,i,s,r),i=Xu(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Xt(e,t,r)):(te&&i&&Lu(t),t.flags|=1,Le(e,t,n,r),t.child)}function Rd(e,t,n,i,r){if(Ye(n)){var s=!0;mo(t)}else s=!1;if(wi(t,r),t.stateNode===null)qs(e,t),eg(t,n,i),La(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Ye(n)?Hn:De.current,u=Ri(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==u)&&xd(t,o,i,u),rn=!1;var f=t.memoizedState;o.state=f,wo(t,i,o,r),a=t.memoizedState,l!==i||f!==a||Ve.current||rn?(typeof c=="function"&&(Ia(t,n,c,i),a=t.memoizedState),(l=rn||_d(t,n,l,i,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=a),o.props=i,o.state=a,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Np(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ht(t.type,l),o.props=u,d=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=at(a):(a=Ye(n)?Hn:De.current,a=Ri(t,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&xd(t,o,i,a),rn=!1,f=t.memoizedState,o.state=f,wo(t,i,o,r);var m=t.memoizedState;l!==d||f!==m||Ve.current||rn?(typeof h=="function"&&(Ia(t,n,h,i),m=t.memoizedState),(u=rn||_d(t,n,u,i,f,m,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),o.props=i,o.state=m,o.context=a,i=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return ja(e,t,n,i,s,r)}function ja(e,t,n,i,r,s){sg(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&dd(t,n,!1),Xt(e,t,s);i=t.stateNode,$0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Ei(t,e.child,null,s),t.child=Ei(t,null,l,s)):Le(e,t,l,s),t.memoizedState=i.state,r&&dd(t,n,!0),t.child}function og(e){var t=e.stateNode;t.pendingContext?cd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cd(e,t.context,!1),Uu(e,t.containerInfo)}function Pd(e,t,n,i,r){return Pi(),Au(r),t.flags|=256,Le(e,t,n,i),t.child}var Ba={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function lg(e,t,n){var i=t.pendingProps,r=ne.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),K(ne,r&1),e===null)return Oa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=tl(o,i,0,null),e=Fn(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fa(n),t.memoizedState=Ba,e):qu(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return V0(e,t,o,i,l,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,l=r.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=a,t.deletions=null):(i=yn(r,a),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=yn(l,s):(s=Fn(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?Fa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ba,i}return s=e.child,e=s.sibling,i=yn(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function qu(e,t){return t=tl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,n,i){return i!==null&&Au(i),Ei(t,e.child,null,n),e=qu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function V0(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=Ll(Error(P(422))),Ss(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=tl({mode:"visible",children:i.children},r,0,null),s=Fn(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Ei(t,e.child,null,o),t.child.memoizedState=Fa(o),t.memoizedState=Ba,s);if(!(t.mode&1))return Ss(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(P(419)),i=Ll(s,i,void 0),Ss(e,t,o,i)}if(l=(o&e.childLanes)!==0,Ue||l){if(i=ve,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Qt(e,r),vt(i,e,r,-1))}return ic(),i=Ll(Error(P(421))),Ss(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=rv.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,Ke=hn(r.nextSibling),Ge=t,te=!0,gt=null,e!==null&&(it[rt++]=Ft,it[rt++]=Wt,it[rt++]=Un,Ft=e.id,Wt=e.overflow,Un=t),t=qu(t,i.children),t.flags|=4096,t)}function Ed(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Na(e.return,t,n)}function zl(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function ag(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Le(e,t,i.children,n),i=ne.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,n,t);else if(e.tag===19)Ed(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(K(ne,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&So(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),zl(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&So(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}zl(t,!0,n,null,s);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Y0(e,t,n){switch(t.tag){case 3:og(t),Pi();break;case 5:Ip(t);break;case 1:Ye(t.type)&&mo(t);break;case 4:Uu(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;K(_o,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(K(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?lg(e,t,n):(K(ne,ne.current&1),e=Xt(e,t,n),e!==null?e.sibling:null);K(ne,ne.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return ag(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),K(ne,ne.current),i)break;return null;case 22:case 23:return t.lanes=0,rg(e,t,n)}return Xt(e,t,n)}var ug,Wa,cg,dg;ug=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wa=function(){};cg=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,An(Et.current);var s=null;switch(n){case"input":r=ua(e,r),i=ua(e,i),s=[];break;case"select":r=re({},r,{value:void 0}),i=re({},i,{value:void 0}),s=[];break;case"textarea":r=fa(e,r),i=fa(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=po)}pa(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var a=i[u];if(l=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Z("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};dg=function(e,t,n,i){n!==i&&(t.flags|=4)};function Qi(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Q0(e,t,n){var i=t.pendingProps;switch(zu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ye(t.type)&&go(),Re(t),null;case 3:return i=t.stateNode,Mi(),ee(Ve),ee(De),Vu(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gt!==null&&(Ka(gt),gt=null))),Wa(e,t),Re(t),null;case 5:$u(t);var r=An(jr.current);if(n=t.type,e!==null&&t.stateNode!=null)cg(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Re(t),null}if(e=An(Et.current),xs(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Rt]=t,i[zr]=s,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",i),Z("close",i);break;case"iframe":case"object":case"embed":Z("load",i);break;case"video":case"audio":for(r=0;r<rr.length;r++)Z(rr[r],i);break;case"source":Z("error",i);break;case"img":case"image":case"link":Z("error",i),Z("load",i);break;case"details":Z("toggle",i);break;case"input":Ac(i,s),Z("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Z("invalid",i);break;case"textarea":Bc(i,s),Z("invalid",i)}pa(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&_s(i.textContent,l,e),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&_s(i.textContent,l,e),r=["children",""+l]):Rr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Z("scroll",i)}switch(n){case"input":ds(i),jc(i,s,!0);break;case"textarea":ds(i),Fc(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=po)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Rt]=t,e[zr]=i,ug(e,t,!1,!1),t.stateNode=e;e:{switch(o=ga(n,i),n){case"dialog":Z("cancel",e),Z("close",e),r=i;break;case"iframe":case"object":case"embed":Z("load",e),r=i;break;case"video":case"audio":for(r=0;r<rr.length;r++)Z(rr[r],e);r=i;break;case"source":Z("error",e),r=i;break;case"img":case"image":case"link":Z("error",e),Z("load",e),r=i;break;case"details":Z("toggle",e),r=i;break;case"input":Ac(e,i),r=ua(e,i),Z("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=re({},i,{value:void 0}),Z("invalid",e);break;case"textarea":Bc(e,i),r=fa(e,i),Z("invalid",e);break;default:r=i}pa(n,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Hh(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Fh(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Pr(e,a):typeof a=="number"&&Pr(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Rr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Z("scroll",e):a!=null&&wu(e,s,a,o))}switch(n){case"input":ds(e),jc(e,i,!1);break;case"textarea":ds(e),Fc(e);break;case"option":i.value!=null&&e.setAttribute("value",""+xn(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?yi(e,!!i.multiple,s,!1):i.defaultValue!=null&&yi(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=po)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)dg(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(n=An(jr.current),An(Et.current),xs(t)){if(i=t.stateNode,n=t.memoizedProps,i[Rt]=t,(s=i.nodeValue!==n)&&(e=Ge,e!==null))switch(e.tag){case 3:_s(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Rt]=t,t.stateNode=i}return Re(t),null;case 13:if(ee(ne),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Ke!==null&&t.mode&1&&!(t.flags&128))Mp(),Pi(),t.flags|=98560,s=!1;else if(s=xs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Rt]=t}else Pi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else gt!==null&&(Ka(gt),gt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?he===0&&(he=3):ic())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Mi(),Wa(e,t),e===null&&Ir(t.stateNode.containerInfo),Re(t),null;case 10:return Fu(t.type._context),Re(t),null;case 17:return Ye(t.type)&&go(),Re(t),null;case 19:if(ee(ne),s=t.memoizedState,s===null)return Re(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)Qi(s,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=So(e),o!==null){for(t.flags|=128,Qi(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(ne,ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&ue()>Di&&(t.flags|=128,i=!0,Qi(s,!1),t.lanes=4194304)}else{if(!i)if(e=So(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!te)return Re(t),null}else 2*ue()-s.renderingStartTime>Di&&n!==1073741824&&(t.flags|=128,i=!0,Qi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ue(),t.sibling=null,n=ne.current,K(ne,i?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return nc(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Xe&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function X0(e,t){switch(zu(t),t.tag){case 1:return Ye(t.type)&&go(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),ee(Ve),ee(De),Vu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $u(t),null;case 13:if(ee(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ne),null;case 4:return Mi(),null;case 10:return Fu(t.type._context),null;case 22:case 23:return nc(),null;case 24:return null;default:return null}}var Cs=!1,Ee=!1,K0=typeof WeakSet=="function"?WeakSet:Set,T=null;function pi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){se(e,t,i)}else n.current=null}function Ha(e,t,n){try{n()}catch(i){se(e,t,i)}}var Md=!1;function G0(e,t){if(ba=co,e=mp(),Iu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(l=o+r),d!==s||i!==0&&d.nodeType!==3||(a=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===r&&(l=o),f===s&&++c===i&&(a=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ra={focusedElem:e,selectionRange:n},co=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,_=m.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:ht(t.type,v),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(x){se(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return m=Md,Md=!1,m}function vr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&Ha(t,n,s)}r=r.next}while(r!==i)}}function Jo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Ua(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fg(e){var t=e.alternate;t!==null&&(e.alternate=null,fg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[zr],delete t[Ma],delete t[O0],delete t[N0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hg(e){return e.tag===5||e.tag===3||e.tag===4}function Td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $a(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=po));else if(i!==4&&(e=e.child,e!==null))for($a(e,t,n),e=e.sibling;e!==null;)$a(e,t,n),e=e.sibling}function Va(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Va(e,t,n),e=e.sibling;e!==null;)Va(e,t,n),e=e.sibling}var we=null,pt=!1;function qt(e,t,n){for(n=n.child;n!==null;)pg(e,t,n),n=n.sibling}function pg(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 5:Ee||pi(n,t);case 6:var i=we,r=pt;we=null,qt(e,t,n),we=i,pt=r,we!==null&&(pt?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(pt?(e=we,n=n.stateNode,e.nodeType===8?Ml(e.parentNode,n):e.nodeType===1&&Ml(e,n),Dr(e)):Ml(we,n.stateNode));break;case 4:i=we,r=pt,we=n.stateNode.containerInfo,pt=!0,qt(e,t,n),we=i,pt=r;break;case 0:case 11:case 14:case 15:if(!Ee&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ha(n,t,o),r=r.next}while(r!==i)}qt(e,t,n);break;case 1:if(!Ee&&(pi(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){se(n,t,l)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Ee=(i=Ee)||n.memoizedState!==null,qt(e,t,n),Ee=i):qt(e,t,n);break;default:qt(e,t,n)}}function Dd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new K0),t.forEach(function(i){var r=sv.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,pt=!1;break e;case 3:we=l.stateNode.containerInfo,pt=!0;break e;case 4:we=l.stateNode.containerInfo,pt=!0;break e}l=l.return}if(we===null)throw Error(P(160));pg(s,o,r),we=null,pt=!1;var a=r.alternate;a!==null&&(a.return=null),r.return=null}catch(u){se(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gg(t,e),t=t.sibling}function gg(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),wt(e),i&4){try{vr(3,e,e.return),Jo(3,e)}catch(v){se(e,e.return,v)}try{vr(5,e,e.return)}catch(v){se(e,e.return,v)}}break;case 1:ft(t,e),wt(e),i&512&&n!==null&&pi(n,n.return);break;case 5:if(ft(t,e),wt(e),i&512&&n!==null&&pi(n,n.return),e.flags&32){var r=e.stateNode;try{Pr(r,"")}catch(v){se(e,e.return,v)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Ah(r,s),ga(l,o);var u=ga(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Hh(r,d):c==="dangerouslySetInnerHTML"?Fh(r,d):c==="children"?Pr(r,d):wu(r,c,d,u)}switch(l){case"input":ca(r,s);break;case"textarea":jh(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?yi(r,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?yi(r,!!s.multiple,s.defaultValue,!0):yi(r,!!s.multiple,s.multiple?[]:"",!1))}r[zr]=s}catch(v){se(e,e.return,v)}}break;case 6:if(ft(t,e),wt(e),i&4){if(e.stateNode===null)throw Error(P(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(v){se(e,e.return,v)}}break;case 3:if(ft(t,e),wt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(v){se(e,e.return,v)}break;case 4:ft(t,e),wt(e);break;case 13:ft(t,e),wt(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(ec=ue())),i&4&&Dd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ee=(u=Ee)||c,ft(t,e),Ee=u):ft(t,e),wt(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(T=e,c=e.child;c!==null;){for(d=T=c;T!==null;){switch(f=T,h=f.child,f.tag){case 0:case 11:case 14:case 15:vr(4,f,f.return);break;case 1:pi(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){se(i,n,v)}}break;case 5:pi(f,f.return);break;case 22:if(f.memoizedState!==null){Nd(d);continue}}h!==null?(h.return=f,T=h):Nd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Wh("display",o))}catch(v){se(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){se(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ft(t,e),wt(e),i&4&&Dd(e);break;case 21:break;default:ft(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hg(n)){var i=n;break e}n=n.return}throw Error(P(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Pr(r,""),i.flags&=-33);var s=Td(e);Va(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Td(e);$a(e,l,o);break;default:throw Error(P(161))}}catch(a){se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q0(e,t,n){T=e,mg(e)}function mg(e,t,n){for(var i=(e.mode&1)!==0;T!==null;){var r=T,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Cs;if(!o){var l=r.alternate,a=l!==null&&l.memoizedState!==null||Ee;l=Cs;var u=Ee;if(Cs=o,(Ee=a)&&!u)for(T=r;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?Id(r):a!==null?(a.return=o,T=a):Id(r);for(;s!==null;)T=s,mg(s),s=s.sibling;T=r,Cs=l,Ee=u}Od(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,T=s):Od(e)}}function Od(e){for(;T!==null;){var t=T;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||Jo(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ee)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&md(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}md(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Dr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ee||t.flags&512&&Ua(t)}catch(f){se(t,t.return,f)}}if(t===e){T=null;break}if(n=t.sibling,n!==null){n.return=t.return,T=n;break}T=t.return}}function Nd(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var n=t.sibling;if(n!==null){n.return=t.return,T=n;break}T=t.return}}function Id(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jo(4,t)}catch(a){se(t,n,a)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(a){se(t,r,a)}}var s=t.return;try{Ua(t)}catch(a){se(t,s,a)}break;case 5:var o=t.return;try{Ua(t)}catch(a){se(t,o,a)}}}catch(a){se(t,t.return,a)}if(t===e){T=null;break}var l=t.sibling;if(l!==null){l.return=t.return,T=l;break}T=t.return}}var Z0=Math.ceil,bo=Gt.ReactCurrentDispatcher,Zu=Gt.ReactCurrentOwner,lt=Gt.ReactCurrentBatchConfig,B=0,ve=null,de=null,Se=0,Xe=0,gi=bn(0),he=0,Hr=null,Vn=0,el=0,Ju=0,_r=null,We=null,ec=0,Di=1/0,At=null,Ro=!1,Ya=null,gn=null,ks=!1,an=null,Po=0,xr=0,Qa=null,Zs=-1,Js=0;function Ae(){return B&6?ue():Zs!==-1?Zs:Zs=ue()}function mn(e){return e.mode&1?B&2&&Se!==0?Se&-Se:L0.transition!==null?(Js===0&&(Js=ep()),Js):(e=U,e!==0||(e=window.event,e=e===void 0?16:lp(e.type)),e):1}function vt(e,t,n,i){if(50<xr)throw xr=0,Qa=null,Error(P(185));es(e,n,i),(!(B&2)||e!==ve)&&(e===ve&&(!(B&2)&&(el|=n),he===4&&on(e,Se)),Qe(e,i),n===1&&B===0&&!(t.mode&1)&&(Di=ue()+500,Go&&Rn()))}function Qe(e,t){var n=e.callbackNode;Ly(e,t);var i=uo(e,e===ve?Se:0);if(i===0)n!==null&&Uc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Uc(n),t===1)e.tag===0?I0(Ld.bind(null,e)):Rp(Ld.bind(null,e)),T0(function(){!(B&6)&&Rn()}),n=null;else{switch(tp(i)){case 1:n=Ru;break;case 4:n=Zh;break;case 16:n=ao;break;case 536870912:n=Jh;break;default:n=ao}n=kg(n,yg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yg(e,t){if(Zs=-1,Js=0,B&6)throw Error(P(327));var n=e.callbackNode;if(Si()&&e.callbackNode!==n)return null;var i=uo(e,e===ve?Se:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Eo(e,i);else{t=i;var r=B;B|=2;var s=_g();(ve!==e||Se!==t)&&(At=null,Di=ue()+500,Bn(e,t));do try{tv();break}catch(l){vg(e,l)}while(!0);Bu(),bo.current=s,B=r,de!==null?t=0:(ve=null,Se=0,t=he)}if(t!==0){if(t===2&&(r=xa(e),r!==0&&(i=r,t=Xa(e,r))),t===1)throw n=Hr,Bn(e,0),on(e,i),Qe(e,ue()),n;if(t===6)on(e,i);else{if(r=e.current.alternate,!(i&30)&&!J0(r)&&(t=Eo(e,i),t===2&&(s=xa(e),s!==0&&(i=s,t=Xa(e,s))),t===1))throw n=Hr,Bn(e,0),on(e,i),Qe(e,ue()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(P(345));case 2:Dn(e,We,At);break;case 3:if(on(e,i),(i&130023424)===i&&(t=ec+500-ue(),10<t)){if(uo(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){Ae(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ea(Dn.bind(null,e,We,At),t);break}Dn(e,We,At);break;case 4:if(on(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-yt(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=ue()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Z0(i/1960))-i,10<i){e.timeoutHandle=Ea(Dn.bind(null,e,We,At),i);break}Dn(e,We,At);break;case 5:Dn(e,We,At);break;default:throw Error(P(329))}}}return Qe(e,ue()),e.callbackNode===n?yg.bind(null,e):null}function Xa(e,t){var n=_r;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=Eo(e,t),e!==2&&(t=We,We=n,t!==null&&Ka(t)),e}function Ka(e){We===null?We=e:We.push.apply(We,e)}function J0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!_t(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t){for(t&=~Ju,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),i=1<<n;e[n]=-1,t&=~i}}function Ld(e){if(B&6)throw Error(P(327));Si();var t=uo(e,0);if(!(t&1))return Qe(e,ue()),null;var n=Eo(e,t);if(e.tag!==0&&n===2){var i=xa(e);i!==0&&(t=i,n=Xa(e,i))}if(n===1)throw n=Hr,Bn(e,0),on(e,t),Qe(e,ue()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,We,At),Qe(e,ue()),null}function tc(e,t){var n=B;B|=1;try{return e(t)}finally{B=n,B===0&&(Di=ue()+500,Go&&Rn())}}function Yn(e){an!==null&&an.tag===0&&!(B&6)&&Si();var t=B;B|=1;var n=lt.transition,i=U;try{if(lt.transition=null,U=1,e)return e()}finally{U=i,lt.transition=n,B=t,!(B&6)&&Rn()}}function nc(){Xe=gi.current,ee(gi)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,M0(n)),de!==null)for(n=de.return;n!==null;){var i=n;switch(zu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&go();break;case 3:Mi(),ee(Ve),ee(De),Vu();break;case 5:$u(i);break;case 4:Mi();break;case 13:ee(ne);break;case 19:ee(ne);break;case 10:Fu(i.type._context);break;case 22:case 23:nc()}n=n.return}if(ve=e,de=e=yn(e.current,null),Se=Xe=t,he=0,Hr=null,Ju=el=Vn=0,We=_r=null,zn!==null){for(t=0;t<zn.length;t++)if(n=zn[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}zn=null}return e}function vg(e,t){do{var n=de;try{if(Bu(),Ks.current=ko,Co){for(var i=ie.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Co=!1}if($n=0,me=fe=ie=null,yr=!1,Br=0,Zu.current=null,n===null||n.return===null){he=1,Hr=t,de=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Se,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Sd(o);if(h!==null){h.flags&=-257,Cd(h,o,l,s,t),h.mode&1&&wd(s,u,t),t=h,a=u;var m=t.updateQueue;if(m===null){var v=new Set;v.add(a),t.updateQueue=v}else m.add(a);break e}else{if(!(t&1)){wd(s,u,t),ic();break e}a=Error(P(426))}}else if(te&&l.mode&1){var _=Sd(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Cd(_,o,l,s,t),Au(Ti(a,l));break e}}s=a=Ti(a,l),he!==4&&(he=2),_r===null?_r=[s]:_r.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=tg(s,a,t);gd(s,g);break e;case 1:l=a;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gn===null||!gn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=ng(s,l,t);gd(s,x);break e}}s=s.return}while(s!==null)}wg(n)}catch(w){t=w,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function _g(){var e=bo.current;return bo.current=ko,e===null?ko:e}function ic(){(he===0||he===3||he===2)&&(he=4),ve===null||!(Vn&268435455)&&!(el&268435455)||on(ve,Se)}function Eo(e,t){var n=B;B|=2;var i=_g();(ve!==e||Se!==t)&&(At=null,Bn(e,t));do try{ev();break}catch(r){vg(e,r)}while(!0);if(Bu(),B=n,bo.current=i,de!==null)throw Error(P(261));return ve=null,Se=0,he}function ev(){for(;de!==null;)xg(de)}function tv(){for(;de!==null&&!Ry();)xg(de)}function xg(e){var t=Cg(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?wg(e):de=t,Zu.current=null}function wg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=X0(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,de=null;return}}else if(n=Q0(n,t,Xe),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);he===0&&(he=5)}function Dn(e,t,n){var i=U,r=lt.transition;try{lt.transition=null,U=1,nv(e,t,n,i)}finally{lt.transition=r,U=i}return null}function nv(e,t,n,i){do Si();while(an!==null);if(B&6)throw Error(P(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(zy(e,s),e===ve&&(de=ve=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ks||(ks=!0,kg(ao,function(){return Si(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=lt.transition,lt.transition=null;var o=U;U=1;var l=B;B|=4,Zu.current=null,G0(e,n),gg(n,e),S0(Ra),co=!!ba,Ra=ba=null,e.current=n,q0(n),Py(),B=l,U=o,lt.transition=s}else e.current=n;if(ks&&(ks=!1,an=e,Po=r),s=e.pendingLanes,s===0&&(gn=null),Ty(n.stateNode),Qe(e,ue()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ro)throw Ro=!1,e=Ya,Ya=null,e;return Po&1&&e.tag!==0&&Si(),s=e.pendingLanes,s&1?e===Qa?xr++:(xr=0,Qa=e):xr=0,Rn(),null}function Si(){if(an!==null){var e=tp(Po),t=lt.transition,n=U;try{if(lt.transition=null,U=16>e?16:e,an===null)var i=!1;else{if(e=an,an=null,Po=0,B&6)throw Error(P(331));var r=B;for(B|=4,T=e.current;T!==null;){var s=T,o=s.child;if(T.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:vr(8,c,s)}var d=c.child;if(d!==null)d.return=c,T=d;else for(;T!==null;){c=T;var f=c.sibling,h=c.return;if(fg(c),c===u){T=null;break}if(f!==null){f.return=h,T=f;break}T=h}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}T=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,T=o;else e:for(;T!==null;){if(s=T,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vr(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,T=g;break e}T=s.return}}var p=e.current;for(T=p;T!==null;){o=T;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,T=y;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jo(9,l)}}catch(w){se(l,l.return,w)}if(l===o){T=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,T=x;break e}T=l.return}}if(B=r,Rn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Vo,e)}catch{}i=!0}return i}finally{U=n,lt.transition=t}}return!1}function zd(e,t,n){t=Ti(n,t),t=tg(e,t,1),e=pn(e,t,1),t=Ae(),e!==null&&(es(e,1,t),Qe(e,t))}function se(e,t,n){if(e.tag===3)zd(e,e,n);else for(;t!==null;){if(t.tag===3){zd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gn===null||!gn.has(i))){e=Ti(n,e),e=ng(t,e,1),t=pn(t,e,1),e=Ae(),t!==null&&(es(t,1,e),Qe(t,e));break}}t=t.return}}function iv(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(Se&n)===n&&(he===4||he===3&&(Se&130023424)===Se&&500>ue()-ec?Bn(e,0):Ju|=n),Qe(e,t)}function Sg(e,t){t===0&&(e.mode&1?(t=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):t=1);var n=Ae();e=Qt(e,t),e!==null&&(es(e,t,n),Qe(e,n))}function rv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sg(e,n)}function sv(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(P(314))}i!==null&&i.delete(t),Sg(e,n)}var Cg;Cg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Ue=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ue=!1,Y0(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,te&&t.flags&1048576&&Pp(t,vo,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;qs(e,t),e=t.pendingProps;var r=Ri(t,De.current);wi(t,n),r=Qu(null,t,i,e,r,n);var s=Xu();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(i)?(s=!0,mo(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Hu(t),r.updater=Zo,t.stateNode=r,r._reactInternals=t,La(t,i,e,n),t=ja(null,t,i,!0,s,n)):(t.tag=0,te&&s&&Lu(t),Le(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=lv(i),e=ht(i,e),r){case 0:t=Aa(null,t,i,e,n);break e;case 1:t=Rd(null,t,i,e,n);break e;case 11:t=kd(null,t,i,e,n);break e;case 14:t=bd(null,t,i,ht(i.type,e),n);break e}throw Error(P(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ht(i,r),Aa(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ht(i,r),Rd(e,t,i,r,n);case 3:e:{if(og(t),e===null)throw Error(P(387));i=t.pendingProps,s=t.memoizedState,r=s.element,Np(e,t),wo(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=Ti(Error(P(423)),t),t=Pd(e,t,i,n,r);break e}else if(i!==r){r=Ti(Error(P(424)),t),t=Pd(e,t,i,n,r);break e}else for(Ke=hn(t.stateNode.containerInfo.firstChild),Ge=t,te=!0,gt=null,n=Dp(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pi(),i===r){t=Xt(e,t,n);break e}Le(e,t,i,n)}t=t.child}return t;case 5:return Ip(t),e===null&&Oa(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,Pa(i,r)?o=null:s!==null&&Pa(i,s)&&(t.flags|=32),sg(e,t),Le(e,t,o,n),t.child;case 6:return e===null&&Oa(t),null;case 13:return lg(e,t,n);case 4:return Uu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ei(t,null,i,n):Le(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ht(i,r),kd(e,t,i,r,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,K(_o,i._currentValue),i._currentValue=o,s!==null)if(_t(s.value,o)){if(s.children===r.children&&!Ve.current){t=Xt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(s.tag===1){a=Ut(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Na(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Na(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Le(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,wi(t,n),r=at(r),i=i(r),t.flags|=1,Le(e,t,i,n),t.child;case 14:return i=t.type,r=ht(i,t.pendingProps),r=ht(i.type,r),bd(e,t,i,r,n);case 15:return ig(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ht(i,r),qs(e,t),t.tag=1,Ye(i)?(e=!0,mo(t)):e=!1,wi(t,n),eg(t,i,r),La(t,i,r,n),ja(null,t,i,!0,e,n);case 19:return ag(e,t,n);case 22:return rg(e,t,n)}throw Error(P(156,t.tag))};function kg(e,t){return qh(e,t)}function ov(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,i){return new ov(e,t,n,i)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lv(e){if(typeof e=="function")return rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cu)return 11;if(e===ku)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eo(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")rc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case si:return Fn(n.children,r,s,t);case Su:o=8,r|=8;break;case sa:return e=st(12,n,t,r|2),e.elementType=sa,e.lanes=s,e;case oa:return e=st(13,n,t,r),e.elementType=oa,e.lanes=s,e;case la:return e=st(19,n,t,r),e.elementType=la,e.lanes=s,e;case Ih:return tl(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oh:o=10;break e;case Nh:o=9;break e;case Cu:o=11;break e;case ku:o=14;break e;case nn:o=16,i=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=st(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Fn(e,t,n,i){return e=st(7,e,i,t),e.lanes=n,e}function tl(e,t,n,i){return e=st(22,e,i,t),e.elementType=Ih,e.lanes=n,e.stateNode={isHidden:!1},e}function Al(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function jl(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function av(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function sc(e,t,n,i,r,s,o,l,a){return e=new av(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=st(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hu(s),e}function uv(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function bg(e){if(!e)return wn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Ye(n))return bp(e,n,t)}return t}function Rg(e,t,n,i,r,s,o,l,a){return e=sc(n,i,!0,e,r,s,o,l,a),e.context=bg(null),n=e.current,i=Ae(),r=mn(n),s=Ut(i,r),s.callback=t??null,pn(n,s,r),e.current.lanes=r,es(e,r,i),Qe(e,i),e}function nl(e,t,n,i){var r=t.current,s=Ae(),o=mn(r);return n=bg(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=pn(r,t,o),e!==null&&(vt(e,r,o,s),Xs(e,r,o)),o}function Mo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oc(e,t){Ad(e,t),(e=e.alternate)&&Ad(e,t)}function cv(){return null}var Pg=typeof reportError=="function"?reportError:function(e){console.error(e)};function lc(e){this._internalRoot=e}il.prototype.render=lc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));nl(e,t,null,null)};il.prototype.unmount=lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){nl(null,e,null,null)}),t[Yt]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var t=rp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&op(e)}};function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jd(){}function dv(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Mo(o);s.call(u)}}var o=Rg(t,i,e,0,null,!1,!1,"",jd);return e._reactRootContainer=o,e[Yt]=o.current,Ir(e.nodeType===8?e.parentNode:e),Yn(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var u=Mo(a);l.call(u)}}var a=sc(e,0,!1,null,null,!1,!1,"",jd);return e._reactRootContainer=a,e[Yt]=a.current,Ir(e.nodeType===8?e.parentNode:e),Yn(function(){nl(t,a,n,i)}),a}function sl(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var a=Mo(o);l.call(a)}}nl(t,o,e,r)}else o=dv(n,t,e,r,i);return Mo(o)}np=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ir(t.pendingLanes);n!==0&&(Pu(t,n|1),Qe(t,ue()),!(B&6)&&(Di=ue()+500,Rn()))}break;case 13:Yn(function(){var i=Qt(e,1);if(i!==null){var r=Ae();vt(i,e,1,r)}}),oc(e,1)}};Eu=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=Ae();vt(t,e,134217728,n)}oc(e,134217728)}};ip=function(e){if(e.tag===13){var t=mn(e),n=Qt(e,t);if(n!==null){var i=Ae();vt(n,e,t,i)}oc(e,t)}};rp=function(){return U};sp=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};ya=function(e,t,n){switch(t){case"input":if(ca(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Ko(i);if(!r)throw Error(P(90));zh(i),ca(i,r)}}}break;case"textarea":jh(e,n);break;case"select":t=n.value,t!=null&&yi(e,!!n.multiple,t,!1)}};Vh=tc;Yh=Yn;var fv={usingClientEntryPoint:!1,Events:[ns,ui,Ko,Uh,$h,tc]},Xi={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hv={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kh(e),e===null?null:e.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||cv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{Vo=bs.inject(hv),Pt=bs}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fv;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(t))throw Error(P(200));return uv(e,t,null,n)};et.createRoot=function(e,t){if(!ac(e))throw Error(P(299));var n=!1,i="",r=Pg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=sc(e,1,!1,null,null,n,!1,i,r),e[Yt]=t.current,Ir(e.nodeType===8?e.parentNode:e),new lc(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Kh(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Yn(e)};et.hydrate=function(e,t,n){if(!rl(t))throw Error(P(200));return sl(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!ac(e))throw Error(P(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Pg;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Rg(t,null,e,1,n??null,r,!1,s,o),e[Yt]=t.current,Ir(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new il(t)};et.render=function(e,t,n){if(!rl(t))throw Error(P(200));return sl(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!rl(e))throw Error(P(40));return e._reactRootContainer?(Yn(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};et.unstable_batchedUpdates=tc;et.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!rl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return sl(e,t,n,!1,i)};et.version="18.3.1-next-f1338f8080-20240426";function Eg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eg)}catch(e){console.error(e)}}Eg(),Eh.exports=et;var pv=Eh.exports,Mg,Bd=pv;Mg=Bd.createRoot,Bd.hydrateRoot;const gv="_productInformationContainer_1rlnv_2",mv="_starRating_1rlnv_17",yv="_productNameContainer_1rlnv_27",vv="_productNameContainer_loading_1rlnv_32",_v="_productNameBlock_1rlnv_36",xv="_productName_1rlnv_27",wv="_productName_visibleText_1rlnv_57",Sv="_toggleButton_1rlnv_65",Cv="_basicInformation_1rlnv_80",kv="_infoRow_1rlnv_87",bv="_label_1rlnv_93",Rv="_value_1rlnv_104",X={productInformationContainer:gv,starRating:mv,productNameContainer:yv,productNameContainer_loading:vv,productNameBlock:_v,productName:xv,productName_visibleText:wv,toggleButton:Sv,basicInformation:Cv,infoRow:kv,label:bv,value:Rv},Pv="_starRatingContainer_1jb47_1",Ev="_starWrapper_1jb47_7",Mv="_starIcon_1jb47_13",Tv="_ratingText_1jb47_18",Rs={starRatingContainer:Pv,starWrapper:Ev,starIcon:Mv,ratingText:Tv};var Tg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=r(s,i(l)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=r(o,l));return o}function r(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Tg);var Dv=Tg.exports;const vn=mh(Dv),Dg=({externalStyles:e=null,rating:t=5})=>{const i=Array.from({length:5},(s,o)=>Math.min(100,Math.max(0,(t-o)*100))),r=Math.random().toString(36).substring(2,9);return S.jsxs("div",{className:Rs.starRatingContainer,children:[S.jsx("div",{className:Rs.starWrapper,children:i.map((s,o)=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:(e==null?void 0:e.starIcon)||Rs.starIcon,children:[S.jsx("defs",{children:S.jsxs("linearGradient",{id:`gradient-${r}-${o}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[S.jsx("stop",{offset:`${s}%`,stopColor:"#ffd700"}),S.jsx("stop",{offset:`${s}%`,stopColor:"#ddd"})]})}),S.jsx("path",{fill:`url(#gradient-${r}-${o})`,stroke:"#000",strokeWidth:"0.5",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})]},o))}),S.jsx("div",{className:vn(Rs.ratingText,e==null?void 0:e.ratingText),children:`${t} / 5`})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function rs(e){return e+.5|0}const un=(e,t,n)=>Math.max(Math.min(e,n),t);function sr(e){return un(rs(e*2.55),0,255)}function _n(e){return un(rs(e*255),0,255)}function Bt(e){return un(rs(e/2.55)/100,0,1)}function Fd(e){return un(rs(e*100),0,100)}const nt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ga=[..."0123456789ABCDEF"],Ov=e=>Ga[e&15],Nv=e=>Ga[(e&240)>>4]+Ga[e&15],Ps=e=>(e&240)>>4===(e&15),Iv=e=>Ps(e.r)&&Ps(e.g)&&Ps(e.b)&&Ps(e.a);function Lv(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&nt[e[1]]*17,g:255&nt[e[2]]*17,b:255&nt[e[3]]*17,a:t===5?nt[e[4]]*17:255}:(t===7||t===9)&&(n={r:nt[e[1]]<<4|nt[e[2]],g:nt[e[3]]<<4|nt[e[4]],b:nt[e[5]]<<4|nt[e[6]],a:t===9?nt[e[7]]<<4|nt[e[8]]:255})),n}const zv=(e,t)=>e<255?t(e):"";function Av(e){var t=Iv(e)?Ov:Nv;return e?"#"+t(e.r)+t(e.g)+t(e.b)+zv(e.a,t):void 0}const jv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Og(e,t,n){const i=t*Math.min(n,1-n),r=(s,o=(s+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Bv(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Fv(e,t,n){const i=Og(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function Wv(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function uc(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),l=(s+o)/2;let a,u,c;return s!==o&&(c=s-o,u=l>.5?c/(2-s-o):c/(s+o),a=Wv(n,i,r,c,s),a=a*60+.5),[a|0,u||0,l]}function cc(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(_n)}function dc(e,t,n){return cc(Og,e,t,n)}function Hv(e,t,n){return cc(Fv,e,t,n)}function Uv(e,t,n){return cc(Bv,e,t,n)}function Ng(e){return(e%360+360)%360}function $v(e){const t=jv.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?sr(+t[5]):_n(+t[5]));const r=Ng(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Hv(r,s,o):t[1]==="hsv"?i=Uv(r,s,o):i=dc(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function Vv(e,t){var n=uc(e);n[0]=Ng(n[0]+t),n=dc(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Yv(e){if(!e)return;const t=uc(e),n=t[0],i=Fd(t[1]),r=Fd(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${Bt(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Wd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Qv(){const e={},t=Object.keys(Hd),n=Object.keys(Wd);let i,r,s,o,l;for(i=0;i<t.length;i++){for(o=l=t[i],r=0;r<n.length;r++)s=n[r],l=l.replace(s,Wd[s]);s=parseInt(Hd[o],16),e[l]=[s>>16&255,s>>8&255,s&255]}return e}let Es;function Xv(e){Es||(Es=Qv(),Es.transparent=[0,0,0,0]);const t=Es[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Kv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Gv(e){const t=Kv.exec(e);let n=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?sr(o):un(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?sr(i):un(i,0,255)),r=255&(t[4]?sr(r):un(r,0,255)),s=255&(t[6]?sr(s):un(s,0,255)),{r:i,g:r,b:s,a:n}}}function qv(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Bt(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Bl=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ei=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Zv(e,t,n){const i=ei(Bt(e.r)),r=ei(Bt(e.g)),s=ei(Bt(e.b));return{r:_n(Bl(i+n*(ei(Bt(t.r))-i))),g:_n(Bl(r+n*(ei(Bt(t.g))-r))),b:_n(Bl(s+n*(ei(Bt(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Ms(e,t,n){if(e){let i=uc(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=dc(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Ig(e,t){return e&&Object.assign(t||{},e)}function Ud(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=_n(e[3]))):(t=Ig(e,{r:0,g:0,b:0,a:1}),t.a=_n(t.a)),t}function Jv(e){return e.charAt(0)==="r"?Gv(e):$v(e)}class Ur{constructor(t){if(t instanceof Ur)return t;const n=typeof t;let i;n==="object"?i=Ud(t):n==="string"&&(i=Lv(t)||Xv(t)||Jv(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Ig(this._rgb);return t&&(t.a=Bt(t.a)),t}set rgb(t){this._rgb=Ud(t)}rgbString(){return this._valid?qv(this._rgb):void 0}hexString(){return this._valid?Av(this._rgb):void 0}hslString(){return this._valid?Yv(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let s;const o=n===s?.5:n,l=2*o-1,a=i.a-r.a,u=((l*a===-1?l:(l+a)/(1+l*a))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=Zv(this._rgb,t._rgb,n)),this}clone(){return new Ur(this.rgb)}alpha(t){return this._rgb.a=_n(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=rs(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ms(this._rgb,2,t),this}darken(t){return Ms(this._rgb,2,-t),this}saturate(t){return Ms(this._rgb,1,t),this}desaturate(t){return Ms(this._rgb,1,-t),this}rotate(t){return Vv(this._rgb,t),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Dt(){}const e_=(()=>{let e=0;return()=>e++})();function oe(e){return e===null||typeof e>"u"}function ye(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function F(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ct(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function St(e,t){return ct(e)?e:t}function j(e,t){return typeof e>"u"?t:e}const t_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Lg=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function J(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function H(e,t,n,i){let r,s,o;if(ye(e))for(s=e.length,r=0;r<s;r++)t.call(n,e[r],r);else if(F(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function To(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Do(e){if(ye(e))return e.map(Do);if(F(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=Do(e[n[r]]);return t}return e}function zg(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function n_(e,t,n,i){if(!zg(e))return;const r=t[e],s=n[e];F(r)&&F(s)?$r(r,s,i):t[e]=Do(s)}function $r(e,t,n){const i=ye(t)?t:[t],r=i.length;if(!F(e))return e;n=n||{};const s=n.merger||n_;let o;for(let l=0;l<r;++l){if(o=i[l],!F(o))continue;const a=Object.keys(o);for(let u=0,c=a.length;u<c;++u)s(a[u],e,o,n)}return e}function wr(e,t){return $r(e,t,{merger:i_})}function i_(e,t,n){if(!zg(e))return;const i=t[e],r=n[e];F(i)&&F(r)?wr(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Do(r))}const $d={"":e=>e,x:e=>e.x,y:e=>e.y};function r_(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function s_(e){const t=r_(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Vr(e,t){return($d[t]||($d[t]=s_(t)))(e)}function fc(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Oo=e=>typeof e<"u",Sn=e=>typeof e=="function",Vd=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function o_(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ae=Math.PI,le=2*ae,l_=le+ae,No=Number.POSITIVE_INFINITY,a_=ae/180,pe=ae/2,Pn=ae/4,Yd=ae*2/3,qa=Math.log10,Oi=Math.sign;function Sr(e,t,n){return Math.abs(e-t)<n}function Qd(e){const t=Math.round(e);e=Sr(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(qa(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function u_(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}function Yr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function c_(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function d_(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ht(e){return e*(ae/180)}function f_(e){return e*(180/ae)}function Xd(e){if(!ct(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Ag(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*ae&&(s+=le),{angle:s,distance:r}}function Za(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function h_(e,t){return(e-t+l_)%le-ae}function tn(e){return(e%le+le)%le}function Qr(e,t,n,i){const r=tn(e),s=tn(t),o=tn(n),l=tn(s-r),a=tn(o-r),u=tn(r-s),c=tn(r-o);return r===s||r===o||i&&s===o||l>a&&u<c}function ze(e,t,n){return Math.max(t,Math.min(n,e))}function p_(e){return ze(e,-32768,32767)}function mi(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function hc(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const jn=(e,t,n,i)=>hc(e,n,i?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),g_=(e,t,n)=>hc(e,n,i=>e[i][t]>=n);function m_(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const jg=["push","pop","shift","splice","unshift"];function y_(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),jg.forEach(n=>{const i="_onData"+fc(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),o}})})}function Kd(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(jg.forEach(s=>{delete e[s]}),delete e._chartjs)}function v_(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Bg=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Fg(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,Bg.call(window,()=>{i=!1,e.apply(t,n)}))}}function __(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const pc=e=>e==="start"?"left":e==="end"?"right":"center",Pe=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,x_=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function w_(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:l}=e,a=o.axis,{min:u,max:c,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(r=ze(Math.min(jn(l,a,u).lo,n?i:jn(t,a,o.getPixelForValue(u)).lo),0,i-1)),f?s=ze(Math.max(jn(l,o.axis,c,!0).hi+1,n?0:jn(t,a,o.getPixelForValue(c),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function S_(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Ts=e=>e===0||e===1,Gd=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*le/n)),qd=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*le/n)+1,Cr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*pe)+1,easeOutSine:e=>Math.sin(e*pe),easeInOutSine:e=>-.5*(Math.cos(ae*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ts(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ts(e)?e:Gd(e,.075,.3),easeOutElastic:e=>Ts(e)?e:qd(e,.075,.3),easeInOutElastic(e){return Ts(e)?e:e<.5?.5*Gd(e*2,.1125,.45):.5+.5*qd(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Cr.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Cr.easeInBounce(e*2)*.5:Cr.easeOutBounce(e*2-1)*.5+.5};function gc(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Zd(e){return gc(e)?e:new Ur(e)}function Fl(e){return gc(e)?e:new Ur(e).saturate(.5).darken(.1).hexString()}const C_=["x","y","borderWidth","radius","tension"],k_=["color","borderColor","backgroundColor"];function b_(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:k_},numbers:{type:"number",properties:C_}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function R_(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jd=new Map;function P_(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Jd.get(n);return i||(i=new Intl.NumberFormat(e,t),Jd.set(n,i)),i}function mc(e,t,n){return P_(t,n).format(e)}const Wg={values(e){return ye(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=E_(e,n)}const o=qa(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),a={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(a,this.options.ticks.format),mc(e,i,a)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(qa(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?Wg.numeric.call(this,e,t,n):""}};function E_(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Hg={formatters:Wg};function M_(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qn=Object.create(null),Ja=Object.create(null);function kr(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function Wl(e,t,n){return typeof t=="string"?$r(kr(e,t),n):$r(kr(e,""),t)}class T_{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Fl(r.backgroundColor),this.hoverBorderColor=(i,r)=>Fl(r.borderColor),this.hoverColor=(i,r)=>Fl(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Wl(this,t,n)}get(t){return kr(this,t)}describe(t,n){return Wl(Ja,t,n)}override(t,n){return Wl(Qn,t,n)}route(t,n,i,r){const s=kr(this,t),o=kr(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const a=this[l],u=o[r];return F(a)?Object.assign({},u,a):j(a,u)},set(a){this[l]=a}}})}apply(t){t.forEach(n=>n(this))}}var ce=new T_({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[b_,R_,M_]);function D_(e){return!e||oe(e.size)||oe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ef(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function En(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function tf(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function eu(e,t,n,i){Ug(e,t,n,i,null)}function Ug(e,t,n,i,r){let s,o,l,a,u,c,d,f;const h=t.pointStyle,m=t.rotation,v=t.radius;let _=(m||0)*a_;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(_),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),h){default:r?e.ellipse(n,i,r/2,v,0,0,le):e.arc(n,i,v,0,le),e.closePath();break;case"triangle":c=r?r/2:v,e.moveTo(n+Math.sin(_)*c,i-Math.cos(_)*v),_+=Yd,e.lineTo(n+Math.sin(_)*c,i-Math.cos(_)*v),_+=Yd,e.lineTo(n+Math.sin(_)*c,i-Math.cos(_)*v),e.closePath();break;case"rectRounded":u=v*.516,a=v-u,o=Math.cos(_+Pn)*a,d=Math.cos(_+Pn)*(r?r/2-u:a),l=Math.sin(_+Pn)*a,f=Math.sin(_+Pn)*(r?r/2-u:a),e.arc(n-d,i-l,u,_-ae,_-pe),e.arc(n+f,i-o,u,_-pe,_),e.arc(n+d,i+l,u,_,_+pe),e.arc(n-f,i+o,u,_+pe,_+ae),e.closePath();break;case"rect":if(!m){a=Math.SQRT1_2*v,c=r?r/2:a,e.rect(n-c,i-a,2*c,2*a);break}_+=Pn;case"rectRot":d=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),e.moveTo(n-d,i-l),e.lineTo(n+f,i-o),e.lineTo(n+d,i+l),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":_+=Pn;case"cross":d=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),e.moveTo(n-d,i-l),e.lineTo(n+d,i+l),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":d=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),e.moveTo(n-d,i-l),e.lineTo(n+d,i+l),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),_+=Pn,d=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),e.moveTo(n-d,i-l),e.lineTo(n+d,i+l),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(_)*v,l=Math.sin(_)*v,e.moveTo(n-o,i-l),e.lineTo(n+o,i+l);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(_)*(r?r/2:v),i+Math.sin(_)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Xr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function yc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function vc(e){e.restore()}function O_(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function N_(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function I_(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),oe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function L_(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,l=t+s.actualBoundingBoxRight,a=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=r.strikethrough?(a+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,c),e.lineTo(l,c),e.stroke()}}function z_(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Kr(e,t,n,i,r,s={}){const o=ye(t)?t:[t],l=s.strokeWidth>0&&s.strokeColor!=="";let a,u;for(e.save(),e.font=r.string,I_(e,s),a=0;a<o.length;++a)u=o[a],s.backdrop&&z_(e,s.backdrop),l&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),oe(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,i,s.maxWidth)),e.fillText(u,n,i,s.maxWidth),L_(e,n,i,u,s),i+=Number(r.lineHeight);e.restore()}function tu(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ae,ae,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,ae,pe,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,pe,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-pe,!0),e.lineTo(n+o.topLeft,i)}const A_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,j_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function B_(e,t){const n=(""+e).match(A_);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const F_=e=>+e||0;function _c(e,t){const n={},i=F(t),r=i?Object.keys(t):t,s=F(e)?i?o=>j(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=F_(s(o));return n}function W_(e){return _c(e,{top:"y",right:"x",bottom:"y",left:"x"})}function br(e){return _c(e,["topLeft","topRight","bottomLeft","bottomRight"])}function dt(e){const t=W_(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Me(e,t){e=e||{},t=t||ce.font;let n=j(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=j(e.style,t.style);i&&!(""+i).match(j_)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:j(e.family,t.family),lineHeight:B_(j(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:j(e.weight,t.weight),string:""};return r.string=D_(r),r}function Ds(e,t,n,i){let r,s,o;for(r=0,s=e.length;r<s;++r)if(o=e[r],o!==void 0&&o!==void 0)return o}function H_(e,t,n){const{min:i,max:r}=e,s=Lg(t,(r-i)/2),o=(l,a)=>n&&l===0?0:l+a;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Zn(e,t){return Object.assign(Object.create(e),t)}function xc(e,t=[""],n,i,r=()=>e[0]){const s=n||e;typeof i>"u"&&(i=Qg("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>xc([l,...e],t,s,i)};return new Proxy(o,{deleteProperty(l,a){return delete l[a],delete l._keys,delete e[0][a],!0},get(l,a){return Vg(l,a,()=>G_(a,t,e,l))},getOwnPropertyDescriptor(l,a){return Reflect.getOwnPropertyDescriptor(l._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,a){return rf(l).includes(a)},ownKeys(l){return rf(l)},set(l,a,u){const c=l._storage||(l._storage=r());return l[a]=c[a]=u,delete l._keys,!0}})}function Ni(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:$g(e,i),setContext:s=>Ni(e,s,n,i),override:s=>Ni(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,l){return Vg(s,o,()=>$_(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,l){return e[o]=l,delete s[o],!0}})}function $g(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Sn(n)?n:()=>n,isIndexable:Sn(i)?i:()=>i}}const U_=(e,t)=>e?e+fc(t):t,wc=(e,t)=>F(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Vg(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function $_(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let l=i[t];return Sn(l)&&o.isScriptable(t)&&(l=V_(t,l,e,n)),ye(l)&&l.length&&(l=Y_(t,l,e,o.isIndexable)),wc(t,l)&&(l=Ni(l,r,s&&s[t],o)),l}function V_(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let a=t(s,o||i);return l.delete(e),wc(e,a)&&(a=Sc(r._scopes,r,e,a)),a}function Y_(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=n;if(typeof s.index<"u"&&i(e))return t[s.index%t.length];if(F(t[0])){const a=t,u=r._scopes.filter(c=>c!==a);t=[];for(const c of a){const d=Sc(u,r,e,c);t.push(Ni(d,s,o&&o[e],l))}}return t}function Yg(e,t,n){return Sn(e)?e(t,n):e}const Q_=(e,t)=>e===!0?t:typeof e=="string"?Vr(t,e):void 0;function X_(e,t,n,i,r){for(const s of t){const o=Q_(n,s);if(o){e.add(o);const l=Yg(o._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Sc(e,t,n,i){const r=t._rootScopes,s=Yg(t._fallback,n,i),o=[...e,...r],l=new Set;l.add(i);let a=nf(l,o,n,s||n,i);return a===null||typeof s<"u"&&s!==n&&(a=nf(l,o,s,a,i),a===null)?!1:xc(Array.from(l),[""],r,s,()=>K_(t,n,i))}function nf(e,t,n,i,r){for(;n;)n=X_(e,t,n,i,r);return n}function K_(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return ye(r)&&F(n)?n:r||{}}function G_(e,t,n,i){let r;for(const s of t)if(r=Qg(U_(s,e),n),typeof r<"u")return wc(e,r)?Sc(n,i,e,r):r}function Qg(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function rf(e){let t=e._keys;return t||(t=e._keys=q_(e._scopes)),t}function q_(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const Z_=Number.EPSILON||1e-14,Ii=(e,t)=>t<e.length&&!e[t].skip&&e[t],Xg=e=>e==="x"?"y":"x";function J_(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,l=Za(s,r),a=Za(o,s);let u=l/(l+a),c=a/(l+a);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=i*u,f=i*c;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function e1(e,t,n){const i=e.length;let r,s,o,l,a,u=Ii(e,0);for(let c=0;c<i-1;++c)if(a=u,u=Ii(e,c+1),!(!a||!u)){if(Sr(t[c],0,Z_)){n[c]=n[c+1]=0;continue}r=n[c]/t[c],s=n[c+1]/t[c],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),n[c]=r*o*t[c],n[c+1]=s*o*t[c])}}function t1(e,t,n="x"){const i=Xg(n),r=e.length;let s,o,l,a=Ii(e,0);for(let u=0;u<r;++u){if(o=l,l=a,a=Ii(e,u+1),!l)continue;const c=l[n],d=l[i];o&&(s=(c-o[n])/3,l[`cp1${n}`]=c-s,l[`cp1${i}`]=d-s*t[u]),a&&(s=(a[n]-c)/3,l[`cp2${n}`]=c+s,l[`cp2${i}`]=d+s*t[u])}}function n1(e,t="x"){const n=Xg(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,l,a,u=Ii(e,0);for(o=0;o<i;++o)if(l=a,a=u,u=Ii(e,o+1),!!a){if(u){const c=u[t]-a[t];r[o]=c!==0?(u[n]-a[n])/c:0}s[o]=l?u?Oi(r[o-1])!==Oi(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}e1(e,r,s),t1(e,s,t)}function Os(e,t,n){return Math.max(Math.min(e,n),t)}function i1(e,t){let n,i,r,s,o,l=Xr(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=l,l=n<i-1&&Xr(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=Os(r.cp1x,t.left,t.right),r.cp1y=Os(r.cp1y,t.top,t.bottom)),l&&(r.cp2x=Os(r.cp2x,t.left,t.right),r.cp2y=Os(r.cp2y,t.top,t.bottom)))}function r1(e,t,n,i,r){let s,o,l,a;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")n1(e,r);else{let u=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)l=e[s],a=J_(u,l,e[Math.min(s+1,o-(i?0:1))%o],t.tension),l.cp1x=a.previous.x,l.cp1y=a.previous.y,l.cp2x=a.next.x,l.cp2y=a.next.y,u=l}t.capBezierPoints&&i1(e,n)}function Cc(){return typeof window<"u"&&typeof document<"u"}function kc(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Io(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const ol=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function s1(e,t){return ol(e).getPropertyValue(t)}const o1=["top","right","bottom","left"];function Wn(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=o1[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const l1=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function a1(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o=!1,l,a;if(l1(r,s,e.target))l=r,a=s;else{const u=t.getBoundingClientRect();l=i.clientX-u.left,a=i.clientY-u.top,o=!0}return{x:l,y:a,box:o}}function On(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=ol(n),s=r.boxSizing==="border-box",o=Wn(r,"padding"),l=Wn(r,"border","width"),{x:a,y:u,box:c}=a1(e,n),d=o.left+(c&&l.left),f=o.top+(c&&l.top);let{width:h,height:m}=t;return s&&(h-=o.width+l.width,m-=o.height+l.height),{x:Math.round((a-d)/h*n.width/i),y:Math.round((u-f)/m*n.height/i)}}function u1(e,t,n){let i,r;if(t===void 0||n===void 0){const s=e&&kc(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),l=ol(s),a=Wn(l,"border","width"),u=Wn(l,"padding");t=o.width-u.width-a.width,n=o.height-u.height-a.height,i=Io(l.maxWidth,s,"clientWidth"),r=Io(l.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:i||No,maxHeight:r||No}}const Ns=e=>Math.round(e*10)/10;function c1(e,t,n,i){const r=ol(e),s=Wn(r,"margin"),o=Io(r.maxWidth,e,"clientWidth")||No,l=Io(r.maxHeight,e,"clientHeight")||No,a=u1(e,t,n);let{width:u,height:c}=a;if(r.boxSizing==="content-box"){const f=Wn(r,"border","width"),h=Wn(r,"padding");u-=h.width+f.width,c-=h.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,i?u/i:c-s.height),u=Ns(Math.min(u,o,a.maxWidth)),c=Ns(Math.min(c,l,a.maxHeight)),u&&!c&&(c=Ns(u/2)),(t!==void 0||n!==void 0)&&i&&a.height&&c>a.height&&(c=a.height,u=Ns(Math.floor(c*i))),{width:u,height:c}}function sf(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const d1=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Cc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function of(e,t){const n=s1(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Nn(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function f1(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function h1(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Nn(e,r,n),l=Nn(r,s,n),a=Nn(s,t,n),u=Nn(o,l,n),c=Nn(l,a,n);return Nn(u,c,n)}const p1=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},g1=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ci(e,t,n){return e?p1(t,n):g1()}function Kg(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Gg(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function qg(e){return e==="angle"?{between:Qr,compare:h_,normalize:tn}:{between:mi,compare:(t,n)=>t-n,normalize:t=>t}}function lf({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function m1(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:l}=qg(i),a=t.length;let{start:u,end:c,loop:d}=e,f,h;if(d){for(u+=a,c+=a,f=0,h=a;f<h&&o(l(t[u%a][i]),r,s);++f)u--,c--;u%=a,c%=a}return c<u&&(c+=a),{start:u,end:c,loop:d,style:e.style}}function y1(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:l,between:a,normalize:u}=qg(i),{start:c,end:d,loop:f,style:h}=m1(e,t,n),m=[];let v=!1,_=null,g,p,y;const x=()=>a(r,y,g)&&l(r,y)!==0,w=()=>l(s,g)===0||a(s,y,g),b=()=>v||x(),k=()=>!v||w();for(let C=c,E=c;C<=d;++C)p=t[C%o],!p.skip&&(g=u(p[i]),g!==y&&(v=a(g,r,s),_===null&&b()&&(_=l(g,r)===0?C:E),_!==null&&k()&&(m.push(lf({start:_,end:C,loop:f,count:o,style:h})),_=null),E=C,y=g));return _!==null&&m.push(lf({start:_,end:d,loop:f,count:o,style:h})),m}function v1(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=y1(i[r],e.points,t);s.length&&n.push(...s)}return n}function _1(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function x1(e,t,n,i){const r=e.length,s=[];let o=t,l=e[t],a;for(a=t+1;a<=n;++a){const u=e[a%r];u.skip||u.stop?l.skip||(i=!1,s.push({start:t%r,end:(a-1)%r,loop:i}),t=o=u.stop?a:null):(o=a,l.skip&&(t=a)),l=u}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function w1(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:l}=_1(n,r,s,i);if(i===!0)return af(e,[{start:o,end:l,loop:s}],n,t);const a=l<o?l+r:l,u=!!e._fullLoop&&o===0&&l===r-1;return af(e,x1(n,o,a,u),n,t)}function af(e,t,n,i){return!i||!i.setContext||!n?t:S1(e,t,n,i)}function S1(e,t,n,i){const r=e._chart.getContext(),s=uf(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,a=n.length,u=[];let c=s,d=t[0].start,f=d;function h(m,v,_,g){const p=l?-1:1;if(m!==v){for(m+=a;n[m%a].skip;)m-=p;for(;n[v%a].skip;)v+=p;m%a!==v%a&&(u.push({start:m%a,end:v%a,loop:_,style:g}),c=g,d=v%a)}}for(const m of t){d=l?d:m.start;let v=n[d%a],_;for(f=d+1;f<=m.end;f++){const g=n[f%a];_=uf(i.setContext(Zn(r,{type:"segment",p0:v,p1:g,p0DataIndex:(f-1)%a,p1DataIndex:f%a,datasetIndex:o}))),C1(_,c)&&h(d,f-1,m.loop,c),v=g,c=_}d<f-1&&h(d,f-1,m.loop,c)}return u}function uf(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function C1(e,t){if(!t)return!1;const n=[],i=function(r,s){return gc(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class k1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(l=>l({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Bg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,l=!1,a;for(;o>=0;--o)a=s[o],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(t),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Lt=new k1;const cf="transparent",b1={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=Zd(e||cf),r=i.valid&&Zd(t||cf);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class R1{constructor(t,n,i,r){const s=n[i];r=Ds([t.to,r,s,t.from]);const o=Ds([t.from,s,r]);this._active=!0,this._fn=t.fn||b1[t.type||typeof o],this._easing=Cr[t.easing]||Cr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Ds([t.to,n,r,t.from]),this._from=Ds([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to;let a;if(this._active=s!==l&&(o||n<i),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=s;return}a=n/i%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(s,l,a)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class Zg{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!F(t))return;const n=Object.keys(ce.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!F(s))return;const o={};for(const l of n)o[l]=s[l];(ye(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,o)})})}_animateOptions(t,n){const i=n.options,r=E1(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&P1(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),l=Date.now();let a;for(a=o.length-1;a>=0;--a){const u=o[a];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(t,n));continue}const c=n[u];let d=s[u];const f=i.get(u);if(d)if(f&&d.active()){d.update(f,c,l);continue}else d.cancel();if(!f||!f.duration){t[u]=c;continue}s[u]=d=new R1(f,t,u,c),r.push(d)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Lt.add(this._chart,i),!0}}function P1(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function E1(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function df(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function M1(e,t,n){if(n===!1)return!1;const i=df(e,n),r=df(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function T1(e){let t,n,i,r;return F(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function Jg(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function ff(e,t,n,i={}){const r=e.keys,s=i.mode==="single";let o,l,a,u;if(t===null)return;let c=!1;for(o=0,l=r.length;o<l;++o){if(a=+r[o],a===n){if(c=!0,i.all)continue;break}u=e.values[a],ct(u)&&(s||t===0||Oi(t)===Oi(u))&&(t+=u)}return!c&&!i.all?0:t}function D1(e,t){const{iScale:n,vScale:i}=t,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let a,u,c;for(a=0,u=o.length;a<u;++a)c=o[a],l[a]={[r]:c,[s]:e[c]};return l}function Hl(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function O1(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function N1(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function I1(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function hf(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function pf(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=i,a=s.axis,u=o.axis,c=O1(s,o,i),d=t.length;let f;for(let h=0;h<d;++h){const m=t[h],{[a]:v,[u]:_}=m,g=m._stacks||(m._stacks={});f=g[u]=I1(r,c,v),f[l]=_,f._top=hf(f,o,!0,i.type),f._bottom=hf(f,o,!1,i.type);const p=f._visualValues||(f._visualValues={});p[l]=_}}function Ul(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function L1(e,t){return Zn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function z1(e,t,n){return Zn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ki(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const $l=e=>e==="reset"||e==="none",gf=(e,t)=>t?e:Object.assign({},e),A1=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Jg(n,!0),values:null};class ki{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Hl(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ki(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,f,h,m)=>d==="x"?f:d==="r"?m:h,s=n.xAxisID=j(i.xAxisID,Ul(t,"x")),o=n.yAxisID=j(i.yAxisID,Ul(t,"y")),l=n.rAxisID=j(i.rAxisID,Ul(t,"r")),a=n.indexAxis,u=n.iAxisID=r(a,s,o,l),c=n.vAxisID=r(a,o,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Kd(this._data,this),t._stacked&&Ki(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(F(n)){const r=this._cachedMeta;this._data=D1(n,r)}else if(i!==n){if(i){Kd(i,this);const r=this._cachedMeta;Ki(r),r._parsed=[]}n&&Object.isExtensible(n)&&y_(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Hl(n.vScale,n),n.stack!==i.stack&&(r=!0,Ki(n),n.stack=i.stack),this._resyncElements(t),(r||s!==n._stacked)&&(pf(this,n._parsed),n._stacked=Hl(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,l=s.axis;let a=t===0&&n===r.length?!0:i._sorted,u=t>0&&i._parsed[t-1],c,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{ye(r[t])?f=this.parseArrayData(i,r,t,n):F(r[t])?f=this.parseObjectData(i,r,t,n):f=this.parsePrimitiveData(i,r,t,n);const h=()=>d[l]===null||u&&d[l]<u[l];for(c=0;c<n;++c)i._parsed[c+t]=d=f[c],a&&(h()&&(a=!1),u=d);i._sorted=a}o&&pf(this,f)}parsePrimitiveData(t,n,i,r){const{iScale:s,vScale:o}=t,l=s.axis,a=o.axis,u=s.getLabels(),c=s===o,d=new Array(r);let f,h,m;for(f=0,h=r;f<h;++f)m=f+i,d[f]={[l]:c||s.parse(u[m],m),[a]:o.parse(n[m],m)};return d}parseArrayData(t,n,i,r){const{xScale:s,yScale:o}=t,l=new Array(r);let a,u,c,d;for(a=0,u=r;a<u;++a)c=a+i,d=n[c],l[a]={x:s.parse(d[0],c),y:o.parse(d[1],c)};return l}parseObjectData(t,n,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,u=new Array(r);let c,d,f,h;for(c=0,d=r;c<d;++c)f=c+i,h=n[f],u[c]={x:s.parse(Vr(h,l),f),y:o.parse(Vr(h,a),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,s=this._cachedMeta,o=n[t.axis],l={keys:Jg(r,!0),values:n._stacks[t.axis]._visualValues};return ff(l,o,s.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const l=r&&i._stacks[n.axis];r&&l&&(r.values=l,o=ff(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,l=this._getOtherScale(t),a=A1(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=N1(l);let f,h;function m(){h=r[f];const v=h[l.axis];return!ct(h[t.axis])||c>v||d<v}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(u,t,h,a),s));++f);if(s){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,t,h,a);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][t.axis],ct(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=T1(j(this.options.clip,M1(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],l=this._drawStart||0,a=this._drawCount||r.length-l,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(t,s,l,a),c=l;c<l+a;++c){const d=r[c];d.hidden||(d.active&&u?o.push(d):d.draw(t,s))}for(c=0;c<o.length;++c)o[c].draw(t,s)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=z1(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=L1(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=t+"-"+n,l=s[o],a=this.enableOptionSharing&&Oo(i);if(l)return gf(l,a);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),d=r?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),c),h=Object.keys(ce.elements[t]),m=()=>this.getContext(i,r,n),v=u.resolveNamedOptions(f,h,m,d);return v.$shared&&(v.$shared=a,s[o]=Object.freeze(gf(v,a))),v}_resolveAnimations(t,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,l=s[o];if(l)return l;let a;if(r.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),d);a=c.createResolver(f,this.getContext(t,i,n))}const u=new Zg(r,a&&a.animations);return a&&a._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||$l(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(t,n,i,r){$l(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!$l(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[l,a,u]of this._syncList)this[l](a,u);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,n,i=!0){const r=this._cachedMeta,s=r.data,o=t+n;let l;const a=u=>{for(u.length+=n,l=u.length-1;l>=o;l--)u[l]=u[l-n]};for(a(s),l=t;l<o;++l)s[l]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(t,n),i&&this.updateElements(s,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&Ki(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}I(ki,"defaults",{}),I(ki,"datasetElementType",null),I(ki,"dataElementType",null);function j1(e,t,n){let i=1,r=1,s=0,o=0;if(t<le){const l=e,a=l+t,u=Math.cos(l),c=Math.sin(l),d=Math.cos(a),f=Math.sin(a),h=(y,x,w)=>Qr(y,l,a,!0)?1:Math.max(x,x*n,w,w*n),m=(y,x,w)=>Qr(y,l,a,!0)?-1:Math.min(x,x*n,w,w*n),v=h(0,u,d),_=h(pe,c,f),g=m(ae,u,d),p=m(ae+pe,c,f);i=(v-g)/2,r=(_-p)/2,s=-(v+g)/2,o=-(_+p)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class or extends ki{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=a=>+i[a];if(F(i[t])){const{key:a="value"}=this._parsing;s=u=>+Vr(i[u],a)}let o,l;for(o=t,l=t+n;o<l;++o)r._parsed[o]=s(o)}}_getRotation(){return Ht(this.options.rotation-90)}_getCircumference(){return Ht(this.options.circumference)}_getRotationExtents(){let t=le,n=-le;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-o)/2,0),a=Math.min(t_(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:m,offsetY:v}=j1(d,c,a),_=(i.width-o)/f,g=(i.height-o)/h,p=Math.max(Math.min(_,g)/2,0),y=Lg(this.options.radius,p),x=Math.max(y*a,0),w=(y-x)/this._getVisibleDatasetWeightTotal();this.offsetX=m*y,this.offsetY=v*y,r.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/le)}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,l=o.chartArea,u=o.options.animation,c=(l.left+l.right)/2,d=(l.top+l.bottom)/2,f=s&&u.animateScale,h=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:v,includeOptions:_}=this._getSharedOptions(n,r);let g=this._getRotation(),p;for(p=0;p<n;++p)g+=this._circumference(p,s);for(p=n;p<n+i;++p){const y=this._circumference(p,s),x=t[p],w={x:c+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+y,circumference:y,outerRadius:m,innerRadius:h};_&&(w.options=v||this.resolveDataElementOptions(p,x.active?"active":r)),g+=y,this.updateElement(x,p,w,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?le*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=mc(n._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,s,o,l,a;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,l=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)a=l.resolveDataElementOptions(r),a.borderAlign!=="inner"&&(n=Math.max(n,a.borderWidth||0,a.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(j(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}I(or,"id","doughnut"),I(or,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),I(or,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),I(or,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((s,o)=>{const a=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class to extends ki{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:l,count:a}=w_(n,r,o);this._drawStart=l,this._drawCount=a,S_(n)&&(l=0,a=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},t),this.updateElements(r,l,a,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:l,_stacked:a,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,r),f=o.axis,h=l.axis,{spanGaps:m,segment:v}=this.options,_=Yr(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||r==="none",p=n+i,y=t.length;let x=n>0&&this.getParsed(n-1);for(let w=0;w<y;++w){const b=t[w],k=g?b:{};if(w<n||w>=p){k.skip=!0;continue}const C=this.getParsed(w),E=oe(C[h]),R=k[f]=o.getPixelForValue(C[f],w),O=k[h]=s||E?l.getBasePixel():l.getPixelForValue(a?this.applyStack(l,C,a):C[h],w);k.skip=isNaN(R)||isNaN(O)||E,k.stop=w>0&&Math.abs(C[f]-x[f])>_,v&&(k.parsed=C,k.raw=u.data[w]),d&&(k.options=c||this.resolveDataElementOptions(w,b.active?"active":r)),g||this.updateElement(b,w,k,r),x=C}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}I(to,"id","line"),I(to,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),I(to,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Mn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bc{constructor(t){I(this,"options");this.options=t||{}}static override(t){Object.assign(bc.prototype,t)}init(){}formats(){return Mn()}parse(){return Mn()}format(){return Mn()}add(){return Mn()}diff(){return Mn()}startOf(){return Mn()}endOf(){return Mn()}}var B1={_date:bc};function F1(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,l=r._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&o&&s.length){const a=l._reversePixels?g_:jn;if(i){if(r._sharedOptions){const u=s[0],c=typeof u.getRange=="function"&&u.getRange(t);if(c){const d=a(s,t,n-c),f=a(s,t,n+c);return{lo:d.lo,hi:f.hi}}}}else return a(s,t,n)}return{lo:0,hi:s.length-1}}function ss(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let l=0,a=s.length;l<a;++l){const{index:u,data:c}=s[l],{lo:d,hi:f}=F1(s[l],t,o,r);for(let h=d;h<=f;++h){const m=c[h];m.skip||i(m,u,h)}}}function W1(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Vl(e,t,n,i,r){const s=[];return!r&&!e.isPointInArea(t)||ss(e,n,t,function(l,a,u){!r&&!Xr(l,e.chartArea,0)||l.inRange(t.x,t.y,i)&&s.push({element:l,datasetIndex:a,index:u})},!0),s}function H1(e,t,n,i){let r=[];function s(o,l,a){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:d}=Ag(o,{x:t.x,y:t.y});Qr(d,u,c)&&r.push({element:o,datasetIndex:l,index:a})}return ss(e,n,t,s),r}function U1(e,t,n,i,r,s){let o=[];const l=W1(n);let a=Number.POSITIVE_INFINITY;function u(c,d,f){const h=c.inRange(t.x,t.y,r);if(i&&!h)return;const m=c.getCenterPoint(r);if(!(!!s||e.isPointInArea(m))&&!h)return;const _=l(t,m);_<a?(o=[{element:c,datasetIndex:d,index:f}],a=_):_===a&&o.push({element:c,datasetIndex:d,index:f})}return ss(e,n,t,u),o}function Yl(e,t,n,i,r,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!i?H1(e,t,n,r):U1(e,t,n,i,r,s)}function mf(e,t,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return ss(e,n,t,(a,u,c)=>{a[o]&&a[o](t[n],r)&&(s.push({element:a,datasetIndex:u,index:c}),l=l||a.inRange(t.x,t.y,r))}),i&&!l?[]:s}var $1={evaluateInteractionItems:ss,modes:{index(e,t,n,i){const r=On(t,e),s=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?Vl(e,r,s,i,o):Yl(e,r,s,!1,i,o),a=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const c=l[0].index,d=u.data[c];d&&!d.skip&&a.push({element:d,datasetIndex:u.index,index:c})}),a):[]},dataset(e,t,n,i){const r=On(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?Vl(e,r,s,i,o):Yl(e,r,s,!1,i,o);if(l.length>0){const a=l[0].datasetIndex,u=e.getDatasetMeta(a).data;l=[];for(let c=0;c<u.length;++c)l.push({element:u[c],datasetIndex:a,index:c})}return l},point(e,t,n,i){const r=On(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Vl(e,r,s,i,o)},nearest(e,t,n,i){const r=On(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Yl(e,r,s,n.intersect,i,o)},x(e,t,n,i){const r=On(t,e);return mf(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=On(t,e);return mf(e,r,"y",n.intersect,i)}}};const em=["left","top","right","bottom"];function Gi(e,t){return e.filter(n=>n.pos===t)}function yf(e,t){return e.filter(n=>em.indexOf(n.pos)===-1&&n.box.axis===t)}function qi(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function V1(e){const t=[];let n,i,r,s,o,l;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:s,options:{stack:o,stackWeight:l=1}}=r,t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return t}function Y1(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!em.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function Q1(e,t){const n=Y1(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,l;for(s=0,o=e.length;s<o;++s){l=e[s];const{fullSize:a}=l.box,u=n[l.stack],c=u&&l.stackWeight/u.weight;l.horizontal?(l.width=c?c*i:a&&t.availableWidth,l.height=r):(l.width=i,l.height=c?c*r:a&&t.availableHeight)}return n}function X1(e){const t=V1(e),n=qi(t.filter(u=>u.box.fullSize),!0),i=qi(Gi(t,"left"),!0),r=qi(Gi(t,"right")),s=qi(Gi(t,"top"),!0),o=qi(Gi(t,"bottom")),l=yf(t,"x"),a=yf(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(a).concat(o).concat(l),chartArea:Gi(t,"chartArea"),vertical:i.concat(r).concat(a),horizontal:s.concat(o).concat(l)}}function vf(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function tm(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function K1(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!F(r)){n.size&&(e[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,e[r]+=n.size}s.getPadding&&tm(o,s.getPadding());const l=Math.max(0,t.outerWidth-vf(o,e,"left","right")),a=Math.max(0,t.outerHeight-vf(o,e,"top","bottom")),u=l!==e.w,c=a!==e.h;return e.w=l,e.h=a,n.horizontal?{same:u,other:c}:{same:c,other:u}}function G1(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function q1(e,t){const n=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return i(e?["left","right"]:["top","bottom"])}function lr(e,t,n,i){const r=[];let s,o,l,a,u,c;for(s=0,o=e.length,u=0;s<o;++s){l=e[s],a=l.box,a.update(l.width||t.w,l.height||t.h,q1(l.horizontal,t));const{same:d,other:f}=K1(t,n,l,i);u|=d&&r.length,c=c||f,a.fullSize||r.push(l)}return u&&lr(r,t,n,i)||c}function Is(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function _f(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const l of e){const a=l.box,u=i[l.stack]||{count:1,placed:0,weight:1},c=l.stackWeight/u.weight||1;if(l.horizontal){const d=t.w*c,f=u.size||a.height;Oo(u.start)&&(o=u.start),a.fullSize?Is(a,r.left,o,n.outerWidth-r.right-r.left,f):Is(a,t.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=a.bottom}else{const d=t.h*c,f=u.size||a.width;Oo(u.start)&&(s=u.start),a.fullSize?Is(a,s,r.top,f,n.outerHeight-r.bottom-r.top):Is(a,s,t.top+u.placed,f,d),u.start=s,u.placed+=d,s=a.right}}t.x=s,t.y=o}var ot={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=dt(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),l=X1(e.boxes),a=l.vertical,u=l.horizontal;H(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const c=a.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},r);tm(f,dt(i));const h=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),m=Q1(a.concat(u),d);lr(l.fullSize,h,d,m),lr(a,h,d,m),lr(u,h,d,m)&&lr(a,h,d,m),G1(h),_f(l.leftAndTop,h,d,m),h.x+=h.w,h.y+=h.h,_f(l.rightAndBottom,h,d,m),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},H(l.chartArea,v=>{const _=v.box;Object.assign(_,e.chartArea),_.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class nm{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class Z1 extends nm{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const no="$chartjs",J1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xf=e=>e===null||e==="";function ex(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[no]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",xf(r)){const s=of(e,"width");s!==void 0&&(e.width=s)}if(xf(i))if(e.style.height==="")e.height=e.width/(t||2);else{const s=of(e,"height");s!==void 0&&(e.height=s)}return e}const im=d1?{passive:!0}:!1;function tx(e,t,n){e&&e.addEventListener(t,n,im)}function nx(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,im)}function ix(e,t){const n=J1[e.type]||e.type,{x:i,y:r}=On(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Lo(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function rx(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Lo(l.addedNodes,i),o=o&&!Lo(l.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function sx(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Lo(l.removedNodes,i),o=o&&!Lo(l.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Gr=new Map;let wf=0;function rm(){const e=window.devicePixelRatio;e!==wf&&(wf=e,Gr.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function ox(e,t){Gr.size||window.addEventListener("resize",rm),Gr.set(e,t)}function lx(e){Gr.delete(e),Gr.size||window.removeEventListener("resize",rm)}function ax(e,t,n){const i=e.canvas,r=i&&kc(i);if(!r)return;const s=Fg((l,a)=>{const u=r.clientWidth;n(l,a),u<r.clientWidth&&n()},window),o=new ResizeObserver(l=>{const a=l[0],u=a.contentRect.width,c=a.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(r),ox(e,s),o}function Ql(e,t,n){n&&n.disconnect(),t==="resize"&&lx(e)}function ux(e,t,n){const i=e.canvas,r=Fg(s=>{e.ctx!==null&&n(ix(s,e))},e);return tx(i,t,r),r}class cx extends nm{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(ex(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[no])return!1;const i=n[no].initial;["height","width"].forEach(s=>{const o=i[s];oe(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[no],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:rx,detach:sx,resize:ax}[n]||ux;r[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:Ql,detach:Ql,resize:Ql}[n]||nx)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return c1(t,n,i,r)}isAttached(t){const n=t&&kc(t);return!!(n&&n.isConnected)}}function dx(e){return!Cc()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Z1:cx}class Mt{constructor(){I(this,"x");I(this,"y");I(this,"active",!1);I(this,"options");I(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Yr(this.x)&&Yr(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}I(Mt,"defaults",{}),I(Mt,"defaultRoutes");function fx(e,t){const n=e.options.ticks,i=hx(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?gx(t):[],o=s.length,l=s[0],a=s[o-1],u=[];if(o>r)return mx(t,u,s,o/r),u;const c=px(s,t,r);if(o>0){let d,f;const h=o>1?Math.round((a-l)/(o-1)):null;for(Ls(t,u,c,oe(h)?0:l-h,l),d=0,f=o-1;d<f;d++)Ls(t,u,c,s[d],s[d+1]);return Ls(t,u,c,a,oe(h)?t.length:a+h),u}return Ls(t,u,c),u}function hx(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function px(e,t,n){const i=yx(e),r=t.length/n;if(!i)return Math.max(r,1);const s=u_(i);for(let o=0,l=s.length-1;o<l;o++){const a=s[o];if(a>r)return a}return Math.max(r,1)}function gx(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function mx(e,t,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=n[r*i])}function Ls(e,t,n,i,r){const s=j(i,0),o=Math.min(j(r,e.length),e.length);let l=0,a,u,c;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)l++,c=Math.round(s+l*n);for(u=Math.max(s,0);u<o;u++)u===c&&(t.push(e[u]),l++,c=Math.round(s+l*n))}function yx(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const vx=e=>e==="left"?"right":e==="right"?"left":e,Sf=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Cf=(e,t)=>Math.min(t||e,e);function kf(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function _x(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,l=1e-6;let a=e.getPixelForTick(r),u;if(!(n&&(i===1?u=Math.max(a-s,o-a):t===0?u=(e.getPixelForTick(1)-a)/2:u=(a-e.getPixelForTick(r-1))/2,a+=r<t?u:-u,a<s-l||a>o+l)))return a}function xx(e,t){H(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Zi(e){return e.drawTicks?e.tickLength:0}function bf(e,t){if(!e.display)return 0;const n=Me(e.font,t),i=dt(e.padding);return(ye(e.text)?e.text.length:1)*n.lineHeight+i.height}function wx(e,t){return Zn(e,{scale:t,type:"scale"})}function Sx(e,t,n){return Zn(e,{tick:n,index:t,type:"tick"})}function Cx(e,t,n){let i=pc(e);return(n&&t!=="right"||!n&&t==="right")&&(i=vx(i)),i}function kx(e,t,n,i){const{top:r,left:s,bottom:o,right:l,chart:a}=e,{chartArea:u,scales:c}=a;let d=0,f,h,m;const v=o-r,_=l-s;if(e.isHorizontal()){if(h=Pe(i,s,l),F(n)){const g=Object.keys(n)[0],p=n[g];m=c[g].getPixelForValue(p)+v-t}else n==="center"?m=(u.bottom+u.top)/2+v-t:m=Sf(e,n,t);f=l-s}else{if(F(n)){const g=Object.keys(n)[0],p=n[g];h=c[g].getPixelForValue(p)-_+t}else n==="center"?h=(u.left+u.right)/2-_+t:h=Sf(e,n,t);m=Pe(i,o,r),d=n==="left"?-pe:pe}return{titleX:h,titleY:m,maxWidth:f,rotation:d}}class Bi extends Mt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=St(t,Number.POSITIVE_INFINITY),n=St(n,Number.NEGATIVE_INFINITY),i=St(i,Number.POSITIVE_INFINITY),r=St(r,Number.NEGATIVE_INFINITY),{min:St(t,i),max:St(n,r),minDefined:ct(t),maxDefined:ct(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let a=0,u=l.length;a<u;++a)o=l[a].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:St(n,St(i,n)),max:St(i,St(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){J(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=H_(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=l<this.ticks.length;this._convertTicksToLabels(a?kf(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=fx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){J(this.options.afterUpdate,[this])}beforeSetDimensions(){J(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){J(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),J(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){J(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=J(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){J(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){J(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=Cf(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,l,a,u;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,h=ze(this.chart.width-d,0,this.maxWidth);l=t.offset?this.maxWidth/i:h/(i-1),d+6>l&&(l=h/(i-(t.offset?.5:1)),a=this.maxHeight-Zi(t.grid)-n.padding-bf(t.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=f_(Math.min(Math.asin(ze((c.highest.height+6)/l,-1,1)),Math.asin(ze(a/u,-1,1))-Math.asin(ze(f/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){J(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){J(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const a=bf(r,n.options.font);if(l?(t.width=this.maxWidth,t.height=Zi(s)+a):(t.height=this.maxHeight,t.width=Zi(s)+a),i.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),h=i.padding*2,m=Ht(this.labelRotation),v=Math.cos(m),_=Math.sin(m);if(l){const g=i.mirror?0:_*d.width+v*f.height;t.height=Math.min(this.maxHeight,t.height+g+h)}else{const g=i.mirror?0:v*d.width+_*f.height;t.width=Math.min(this.maxWidth,t.width+g+h)}this._calculatePadding(u,c,_,v)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:o},position:l}=this.options,a=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;a?u?(f=r*t.width,h=i*n.height):(f=i*t.height,h=r*n.width):s==="start"?h=n.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,h=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let c=n.height/2,d=t.height/2;s==="start"?(c=0,d=t.height):s==="end"&&(c=n.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){J(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)oe(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=kf(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],l=[],a=Math.floor(n/Cf(n,i));let u=0,c=0,d,f,h,m,v,_,g,p,y,x,w;for(d=0;d<n;d+=a){if(m=t[d].label,v=this._resolveTickFontOptions(d),r.font=_=v.string,g=s[_]=s[_]||{data:{},gc:[]},p=v.lineHeight,y=x=0,!oe(m)&&!ye(m))y=ef(r,g.data,g.gc,y,m),x=p;else if(ye(m))for(f=0,h=m.length;f<h;++f)w=m[f],!oe(w)&&!ye(w)&&(y=ef(r,g.data,g.gc,y,w),x+=p);o.push(y),l.push(x),u=Math.max(y,u),c=Math.max(x,c)}xx(s,n);const b=o.indexOf(u),k=l.indexOf(c),C=E=>({width:o[E]||0,height:l[E]||0});return{first:C(0),last:C(n-1),widest:C(b),highest:C(k),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return p_(this._alignToPixels?En(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=Sx(this.getContext(),t,i))}return this.$context||(this.$context=wx(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ht(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,l=s?s.widest.width+o:0,a=s?s.highest.height+o:0;return this.isHorizontal()?a*i>l*r?l/i:a/r:a*r<l*i?a/i:l/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:l}=r,a=s.offset,u=this.isHorizontal(),d=this.ticks.length+(a?1:0),f=Zi(s),h=[],m=l.setContext(this.getContext()),v=m.display?m.width:0,_=v/2,g=function($){return En(i,$,v)};let p,y,x,w,b,k,C,E,R,O,z,Y;if(o==="top")p=g(this.bottom),k=this.bottom-f,E=p-_,O=g(t.top)+_,Y=t.bottom;else if(o==="bottom")p=g(this.top),O=t.top,Y=g(t.bottom)-_,k=p+_,E=this.top+f;else if(o==="left")p=g(this.right),b=this.right-f,C=p-_,R=g(t.left)+_,z=t.right;else if(o==="right")p=g(this.left),R=t.left,z=g(t.right)-_,b=p+_,C=this.left+f;else if(n==="x"){if(o==="center")p=g((t.top+t.bottom)/2+.5);else if(F(o)){const $=Object.keys(o)[0],G=o[$];p=g(this.chart.scales[$].getPixelForValue(G))}O=t.top,Y=t.bottom,k=p+_,E=k+f}else if(n==="y"){if(o==="center")p=g((t.left+t.right)/2);else if(F(o)){const $=Object.keys(o)[0],G=o[$];p=g(this.chart.scales[$].getPixelForValue(G))}b=p-_,C=b-f,R=t.left,z=t.right}const ke=j(r.ticks.maxTicksLimit,d),W=Math.max(1,Math.ceil(d/ke));for(y=0;y<d;y+=W){const $=this.getContext(y),G=s.setContext($),M=l.setContext($),N=G.lineWidth,L=G.color,Q=M.dash||[],q=M.dashOffset,xt=G.tickWidth,Oe=G.tickColor,Tt=G.tickBorderDash||[],Ne=G.tickBorderDashOffset;x=_x(this,y,a),x!==void 0&&(w=En(i,x,N),u?b=C=R=z=w:k=E=O=Y=w,h.push({tx1:b,ty1:k,tx2:C,ty2:E,x1:R,y1:O,x2:z,y2:Y,width:N,color:L,borderDash:Q,borderDashOffset:q,tickWidth:xt,tickColor:Oe,tickBorderDash:Tt,tickBorderDashOffset:Ne}))}return this._ticksLength=d,this._borderValue=p,h}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),l=this.ticks,{align:a,crossAlign:u,padding:c,mirror:d}=s,f=Zi(i.grid),h=f+c,m=d?-c:h,v=-Ht(this.labelRotation),_=[];let g,p,y,x,w,b,k,C,E,R,O,z,Y="middle";if(r==="top")b=this.bottom-m,k=this._getXAxisLabelAlignment();else if(r==="bottom")b=this.top+m,k=this._getXAxisLabelAlignment();else if(r==="left"){const W=this._getYAxisLabelAlignment(f);k=W.textAlign,w=W.x}else if(r==="right"){const W=this._getYAxisLabelAlignment(f);k=W.textAlign,w=W.x}else if(n==="x"){if(r==="center")b=(t.top+t.bottom)/2+h;else if(F(r)){const W=Object.keys(r)[0],$=r[W];b=this.chart.scales[W].getPixelForValue($)+h}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")w=(t.left+t.right)/2-h;else if(F(r)){const W=Object.keys(r)[0],$=r[W];w=this.chart.scales[W].getPixelForValue($)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(a==="start"?Y="top":a==="end"&&(Y="bottom"));const ke=this._getLabelSizes();for(g=0,p=l.length;g<p;++g){y=l[g],x=y.label;const W=s.setContext(this.getContext(g));C=this.getPixelForTick(g)+s.labelOffset,E=this._resolveTickFontOptions(g),R=E.lineHeight,O=ye(x)?x.length:1;const $=O/2,G=W.color,M=W.textStrokeColor,N=W.textStrokeWidth;let L=k;o?(w=C,k==="inner"&&(g===p-1?L=this.options.reverse?"left":"right":g===0?L=this.options.reverse?"right":"left":L="center"),r==="top"?u==="near"||v!==0?z=-O*R+R/2:u==="center"?z=-ke.highest.height/2-$*R+R:z=-ke.highest.height+R/2:u==="near"||v!==0?z=R/2:u==="center"?z=ke.highest.height/2-$*R:z=ke.highest.height-O*R,d&&(z*=-1),v!==0&&!W.showLabelBackdrop&&(w+=R/2*Math.sin(v))):(b=C,z=(1-O)*R/2);let Q;if(W.showLabelBackdrop){const q=dt(W.backdropPadding),xt=ke.heights[g],Oe=ke.widths[g];let Tt=z-q.top,Ne=0-q.left;switch(Y){case"middle":Tt-=xt/2;break;case"bottom":Tt-=xt;break}switch(k){case"center":Ne-=Oe/2;break;case"right":Ne-=Oe;break;case"inner":g===p-1?Ne-=Oe:g>0&&(Ne-=Oe/2);break}Q={left:Ne,top:Tt,width:Oe+q.width,height:xt+q.height,color:W.backdropColor}}_.push({label:x,font:E,textOffset:z,options:{rotation:v,color:G,strokeColor:M,strokeWidth:N,textAlign:L,textBaseline:Y,translation:[w,b],backdrop:Q}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ht(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),l=t+s,a=o.widest.width;let u,c;return n==="left"?r?(c=this.right+s,i==="near"?u="left":i==="center"?(u="center",c+=a/2):(u="right",c+=a)):(c=this.right-l,i==="near"?u="right":i==="center"?(u="center",c-=a/2):(u="left",c=this.left)):n==="right"?r?(c=this.left+s,i==="near"?u="right":i==="center"?(u="center",c-=a/2):(u="left",c-=a)):(c=this.left+l,i==="near"?u="left":i==="center"?(u="center",c+=a/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const l=(a,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const a=r[s];n.drawOnChartArea&&l({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),n.drawTicks&&l({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let u,c,d,f;this.isHorizontal()?(u=En(t,this.left,o)-o/2,c=En(t,this.right,l)+l/2,d=f=a):(d=En(t,this.top,o)-o/2,f=En(t,this.bottom,l)+l/2,u=c=a),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,d),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&yc(i,r);const s=this.getLabelItems(t);for(const o of s){const l=o.options,a=o.font,u=o.label,c=o.textOffset;Kr(i,u,0,c,a,l)}r&&vc(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=Me(i.font),o=dt(i.padding),l=i.align;let a=s.lineHeight/2;n==="bottom"||n==="center"||F(n)?(a+=o.bottom,ye(i.text)&&(a+=s.lineHeight*(i.text.length-1))):a+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=kx(this,a,n,l);Kr(t,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:Cx(l,n,r),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=j(t.grid&&t.grid.z,-1),r=j(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Bi.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];l[i]===this.id&&(!t||l.type===t)&&r.push(l)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Me(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class zs{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;Px(n)&&(i=this.register(n));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,bx(t,o,i),this.override&&ce.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in ce[r]&&(delete ce[r][i],this.override&&delete Qn[i])}}function bx(e,t,n){const i=$r(Object.create(null),[n?ce.get(n):{},ce.get(t),e.defaults]);ce.set(t,i),e.defaultRoutes&&Rx(t,e.defaultRoutes),e.descriptors&&ce.describe(t,e.descriptors)}function Rx(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),l=o.pop(),a=o.join(".");ce.route(s,r,a,l)})}function Px(e){return"id"in e&&"defaults"in e}class Ex{constructor(){this.controllers=new zs(ki,"datasets",!0),this.elements=new zs(Mt,"elements"),this.plugins=new zs(Object,"plugins"),this.scales=new zs(Bi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):H(r,o=>{const l=i||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,n,i){const r=fc(t);J(i["before"+r],[],i),n[t](i),J(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var bt=new Ex;class Mx{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,n,i);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,r){r=r||{};for(const s of t){const o=s.plugin,l=o[i],a=[n,r,s.options];if(J(l,a,o)===!1&&r.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=j(i.options&&i.options.plugins,{}),s=Tx(i);return r===!1&&!n?[]:Ox(t,s,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(l=>!o.some(a=>l.plugin.id===a.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function Tx(e){const t={},n=[],i=Object.keys(bt.plugins.items);for(let s=0;s<i.length;s++)n.push(bt.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function Dx(e,t){return!t&&e===!1?null:e===!0?{}:e}function Ox(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const l of t){const a=l.id,u=Dx(i[a],r);u!==null&&s.push({plugin:l,options:Nx(e.config,{plugin:l,local:n[a]},u,o)})}return s}function Nx(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nu(e,t){const n=ce.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Ix(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function Lx(e,t){return e===t?"_index_":"_value_"}function Rf(e){if(e==="x"||e==="y"||e==="r")return e}function zx(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function iu(e,...t){if(Rf(e))return e;for(const n of t){const i=n.axis||zx(n.position)||e.length>1&&Rf(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Pf(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Ax(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return Pf(e,"x",n[0])||Pf(e,"y",n[0])}return{}}function jx(e,t){const n=Qn[e.type]||{scales:{}},i=t.scales||{},r=nu(e.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!F(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const a=iu(o,l,Ax(o,e),ce.scales[l.type]),u=Lx(a,r),c=n.scales||{};s[o]=wr(Object.create(null),[{axis:a},l,c[a],c[u]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,a=o.indexAxis||nu(l,t),c=(Qn[l]||{}).scales||{};Object.keys(c).forEach(d=>{const f=Ix(d,a),h=o[f+"AxisID"]||f;s[h]=s[h]||Object.create(null),wr(s[h],[{axis:f},i[h],c[d]])})}),Object.keys(s).forEach(o=>{const l=s[o];wr(l,[ce.scales[l.type],ce.scale])}),s}function sm(e){const t=e.options||(e.options={});t.plugins=j(t.plugins,{}),t.scales=jx(e,t)}function om(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Bx(e){return e=e||{},e.data=om(e.data),sm(e),e}const Ef=new Map,lm=new Set;function As(e,t){let n=Ef.get(e);return n||(n=t(),Ef.set(e,n),lm.add(n)),n}const Ji=(e,t,n)=>{const i=Vr(t,n);i!==void 0&&e.add(i)};class Fx{constructor(t){this._config=Bx(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=om(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),sm(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return As(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return As(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return As(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return As(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),l=o.get(n);if(l)return l;const a=new Set;n.forEach(c=>{t&&(a.add(t),c.forEach(d=>Ji(a,t,d))),c.forEach(d=>Ji(a,r,d)),c.forEach(d=>Ji(a,Qn[s]||{},d)),c.forEach(d=>Ji(a,ce,d)),c.forEach(d=>Ji(a,Ja,d))});const u=Array.from(a);return u.length===0&&u.push(Object.create(null)),lm.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Qn[n]||{},ce.datasets[n]||{},{type:n},ce,Ja]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=Mf(this._resolverCache,t,r);let a=o;if(Hx(o,n)){s.$shared=!1,i=Sn(i)?i():i;const u=this.createResolver(t,i,l);a=Ni(o,i,u)}for(const u of n)s[u]=a[u];return s}createResolver(t,n,i=[""],r){const{resolver:s}=Mf(this._resolverCache,t,i);return F(n)?Ni(s,n,void 0,r):s}}function Mf(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:xc(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const Wx=e=>F(e)&&Object.getOwnPropertyNames(e).some(t=>Sn(e[t]));function Hx(e,t){const{isScriptable:n,isIndexable:i}=$g(e);for(const r of t){const s=n(r),o=i(r),l=(o||s)&&e[r];if(s&&(Sn(l)||Wx(l))||o&&ye(l))return!0}return!1}var Ux="4.4.6";const $x=["top","bottom","left","right","chartArea"];function Tf(e,t){return e==="top"||e==="bottom"||$x.indexOf(e)===-1&&t==="x"}function Df(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Of(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),J(n&&n.onComplete,[e],t)}function Vx(e){const t=e.chart,n=t.options.animation;J(n&&n.onProgress,[e],t)}function am(e){return Cc()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const io={},Nf=e=>{const t=am(e);return Object.values(io).filter(n=>n.canvas===t).pop()};function Yx(e,t,n){const i=Object.keys(e);for(const r of i){const s=+r;if(s>=t){const o=e[r];delete e[r],(n>0||s>t)&&(e[s+n]=o)}}}function Qx(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function js(e,t,n){return e.options.clip?e[n]:t[n]}function Xx(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:js(n,t,"left"),right:js(n,t,"right"),top:js(i,t,"top"),bottom:js(i,t,"bottom")}:t}var en;let os=(en=class{static register(...t){bt.add(...t),If()}static unregister(...t){bt.remove(...t),If()}constructor(t,n){const i=this.config=new Fx(n),r=am(t),s=Nf(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||dx(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,o.aspectRatio),a=l&&l.canvas,u=a&&a.height,c=a&&a.width;if(this.id=e_(),this.ctx=l,this.canvas=a,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Mx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=__(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],io[this.id]=this,!l||!a){console.error("Failed to create chart: can't acquire context from the given item");return}Lt.listen(this,"complete",Of),Lt.listen(this,"progress",Vx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return oe(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tf(this.canvas,this.ctx),this}stop(){return Lt.stop(this),this}resize(t,n){Lt.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,sf(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),J(i.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};H(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const l=n[o],a=iu(o,l),u=a==="r",c=a==="x";return{options:l,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),H(s,o=>{const l=o.options,a=l.id,u=iu(a,l),c=j(l.type,o.dtype);(l.position===void 0||Tf(l.position,u)!==Tf(o.dposition))&&(l.position=o.dposition),r[a]=!0;let d=null;if(a in i&&i[a].type===c)d=i[a];else{const f=bt.getScale(c);d=new f({id:a,type:c,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(l,t)}),H(r,(o,l)=>{o||delete i[l]}),H(i,o=>{ot.configure(this,o,o.options),ot.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Df("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=s.indexAxis||nu(l,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const a=bt.getController(l),{datasetElementType:u,dataElementType:c}=ce.datasets[l];Object.assign(a,{dataElementType:bt.getElement(c),datasetElementType:u&&bt.getElement(u)}),o.controller=new a(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){H(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||H(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Df("z","_idx"));const{_active:l,_lastEvent:a}=this;a?this._eventHandler(a,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){H(this.scales,t=>{ot.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Vd(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;Yx(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!Vd(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ot.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],H(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Sn(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Lt.has(this)?this.attached&&!Lt.running(this)&&Lt.start(this):(this.draw(),Of({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,s=Xx(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&yc(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&vc(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Xr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const s=$1.modes[n];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Zn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);Oo(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(l=>l.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Lt.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),tf(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete io[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},r=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};H(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(a,u)=>{n.addEventListener(this,a,u),t[a]=u},r=(a,u)=>{t[a]&&(n.removeEventListener(this,a,u),delete t[a])},s=(a,u)=>{this.canvas&&this.resize(a,u)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){H(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},H(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,o,l,a;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,a=t.length;l<a;++l){o=t[l];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!To(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(a,u)=>a.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=s(n,t),l=i?t:s(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:s}=this,o=n,l=this._getActiveElements(t,r,i,o),a=o_(t),u=Qx(t,this._lastEvent,i,a);i&&(this._lastEvent=null,J(s.onHover,[t,l,this],this),a&&J(s.onClick,[t,l,this],this));const c=!To(l,r);return(c||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=u,c}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},I(en,"defaults",ce),I(en,"instances",io),I(en,"overrides",Qn),I(en,"registry",bt),I(en,"version",Ux),I(en,"getChart",Nf),en);function If(){return H(os.instances,e=>e._plugins.invalidate())}function Kx(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:l,innerRadius:a}=t;let u=r/l;e.beginPath(),e.arc(s,o,l,i-u,n+u),a>r?(u=r/a,e.arc(s,o,a,n+u,i-u,!0)):e.arc(s,o,r,n+pe,i-pe),e.closePath(),e.clip()}function Gx(e){return _c(e,["outerStart","outerEnd","innerStart","innerEnd"])}function qx(e,t,n,i){const r=Gx(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,i*t/2),l=a=>{const u=(n-Math.min(s,a))*i/2;return ze(a,0,Math.min(s,u))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:ze(r.innerStart,0,o),innerEnd:ze(r.innerEnd,0,o)}}function ti(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function zo(e,t,n,i,r,s){const{x:o,y:l,startAngle:a,pixelMargin:u,innerRadius:c}=t,d=Math.max(t.outerRadius+i+n-u,0),f=c>0?c+i+n+u:0;let h=0;const m=r-a;if(i){const W=c>0?c-i:0,$=d>0?d-i:0,G=(W+$)/2,M=G!==0?m*G/(G+i):m;h=(m-M)/2}const v=Math.max(.001,m*d-n/ae)/d,_=(m-v)/2,g=a+_+h,p=r-_-h,{outerStart:y,outerEnd:x,innerStart:w,innerEnd:b}=qx(t,f,d,p-g),k=d-y,C=d-x,E=g+y/k,R=p-x/C,O=f+w,z=f+b,Y=g+w/O,ke=p-b/z;if(e.beginPath(),s){const W=(E+R)/2;if(e.arc(o,l,d,E,W),e.arc(o,l,d,W,R),x>0){const N=ti(C,R,o,l);e.arc(N.x,N.y,x,R,p+pe)}const $=ti(z,p,o,l);if(e.lineTo($.x,$.y),b>0){const N=ti(z,ke,o,l);e.arc(N.x,N.y,b,p+pe,ke+Math.PI)}const G=(p-b/f+(g+w/f))/2;if(e.arc(o,l,f,p-b/f,G,!0),e.arc(o,l,f,G,g+w/f,!0),w>0){const N=ti(O,Y,o,l);e.arc(N.x,N.y,w,Y+Math.PI,g-pe)}const M=ti(k,g,o,l);if(e.lineTo(M.x,M.y),y>0){const N=ti(k,E,o,l);e.arc(N.x,N.y,y,g-pe,E)}}else{e.moveTo(o,l);const W=Math.cos(E)*d+o,$=Math.sin(E)*d+l;e.lineTo(W,$);const G=Math.cos(R)*d+o,M=Math.sin(R)*d+l;e.lineTo(G,M)}e.closePath()}function Zx(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:l}=t;let a=t.endAngle;if(s){zo(e,t,n,i,a,r);for(let u=0;u<s;++u)e.fill();isNaN(l)||(a=o+(l%le||le))}return zo(e,t,n,i,a,r),e.fill(),a}function Jx(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:l,options:a}=t,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:f}=a,h=a.borderAlign==="inner";if(!u)return;e.setLineDash(d||[]),e.lineDashOffset=f,h?(e.lineWidth=u*2,e.lineJoin=c||"round"):(e.lineWidth=u,e.lineJoin=c||"bevel");let m=t.endAngle;if(s){zo(e,t,n,i,m,r);for(let v=0;v<s;++v)e.stroke();isNaN(l)||(m=o+(l%le||le))}h&&Kx(e,t,m),s||(zo(e,t,n,i,m,r),e.stroke())}class ar extends Mt{constructor(n){super();I(this,"circumference");I(this,"endAngle");I(this,"fullCircles");I(this,"innerRadius");I(this,"outerRadius");I(this,"pixelMargin");I(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:l}=Ag(s,{x:n,y:i}),{startAngle:a,endAngle:u,innerRadius:c,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=(this.options.spacing+this.options.borderWidth)/2,m=j(f,u-a),v=Qr(o,a,u)&&a!==u,_=m>=le||v,g=mi(l,c+h,d+h);return _&&g}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:l,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,d=(s+o)/2,f=(l+a+c+u)/2;return{x:i+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>le?Math.floor(r/le):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*s,Math.sin(a)*s);const u=1-Math.sin(Math.min(ae,r||0)),c=s*u;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,Zx(n,this,c,o,l),Jx(n,this,c,o,l),n.restore()}}I(ar,"id","arc"),I(ar,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),I(ar,"defaultRoutes",{backgroundColor:"backgroundColor"}),I(ar,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function um(e,t,n=t){e.lineCap=j(n.borderCapStyle,t.borderCapStyle),e.setLineDash(j(n.borderDash,t.borderDash)),e.lineDashOffset=j(n.borderDashOffset,t.borderDashOffset),e.lineJoin=j(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=j(n.borderWidth,t.borderWidth),e.strokeStyle=j(n.borderColor,t.borderColor)}function ew(e,t,n){e.lineTo(n.x,n.y)}function tw(e){return e.stepped?O_:e.tension||e.cubicInterpolationMode==="monotone"?N_:ew}function cm(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:l}=t,a=Math.max(r,o),u=Math.min(s,l),c=r<o&&s<o||r>l&&s>l;return{count:i,start:a,loop:t.loop,ilen:u<a&&!c?i+u-a:u-a}}function nw(e,t,n,i){const{points:r,options:s}=t,{count:o,start:l,loop:a,ilen:u}=cm(r,n,i),c=tw(s);let{move:d=!0,reverse:f}=i||{},h,m,v;for(h=0;h<=u;++h)m=r[(l+(f?u-h:h))%o],!m.skip&&(d?(e.moveTo(m.x,m.y),d=!1):c(e,v,m,f,s.stepped),v=m);return a&&(m=r[(l+(f?u:0))%o],c(e,v,m,f,s.stepped)),!!a}function iw(e,t,n,i){const r=t.points,{count:s,start:o,ilen:l}=cm(r,n,i),{move:a=!0,reverse:u}=i||{};let c=0,d=0,f,h,m,v,_,g;const p=x=>(o+(u?l-x:x))%s,y=()=>{v!==_&&(e.lineTo(c,_),e.lineTo(c,v),e.lineTo(c,g))};for(a&&(h=r[p(0)],e.moveTo(h.x,h.y)),f=0;f<=l;++f){if(h=r[p(f)],h.skip)continue;const x=h.x,w=h.y,b=x|0;b===m?(w<v?v=w:w>_&&(_=w),c=(d*c+x)/++d):(y(),e.lineTo(x,w),m=b,d=0,v=_=w),g=w}y()}function ru(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?iw:nw}function rw(e){return e.stepped?f1:e.tension||e.cubicInterpolationMode==="monotone"?h1:Nn}function sw(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),um(e,t.options),e.stroke(r)}function ow(e,t,n,i){const{segments:r,options:s}=t,o=ru(t);for(const l of r)um(e,s,l.style),e.beginPath(),o(e,t,l,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const lw=typeof Path2D=="function";function aw(e,t,n,i){lw&&!t.options.segment?sw(e,t,n,i):ow(e,t,n,i)}class ur extends Mt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;r1(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=w1(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],s=this.points,o=v1(this,{property:n,start:r,end:r});if(!o.length)return;const l=[],a=rw(i);let u,c;for(u=0,c=o.length;u<c;++u){const{start:d,end:f}=o[u],h=s[d],m=s[f];if(h===m){l.push(h);continue}const v=Math.abs((r-h[n])/(m[n]-h[n])),_=a(h,m,v,i.stepped);_[n]=t[n],l.push(_)}return l.length===1?l[0]:l}pathSegment(t,n,i){return ru(this)(t,this,n,i)}path(t,n,i){const r=this.segments,s=ru(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const l of r)o&=s(t,this,l,{start:n,end:n+i-1});return!!o}draw(t,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),aw(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}I(ur,"id","line"),I(ur,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),I(ur,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),I(ur,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Lf(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}class ro extends Mt{constructor(n){super();I(this,"parsed");I(this,"skip");I(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return Lf(this,n,"x",i)}inYRange(n,i){return Lf(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Xr(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,eu(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}I(ro,"id","point"),I(ro,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),I(ro,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const zf=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},uw=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Af extends Mt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=J(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Me(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:a}=zf(i,s);let u,c;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,l,a)+10):(c=this.maxHeight,u=this._fitCols(o,r,l,a)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+l;let d=t;s.textAlign="left",s.textBaseline="middle";let f=-1,h=-c;return this.legendItems.forEach((m,v)=>{const _=i+n/2+s.measureText(m.text).width;(v===0||u[u.length-1]+_+2*l>o)&&(d+=c,u[u.length-(v>0?0:1)]=0,h+=c,f++),a[v]={left:0,top:h,row:f,width:_,height:r},u[u.length-1]+=_+l}),d}_fitCols(t,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t;let d=l,f=0,h=0,m=0,v=0;return this.legendItems.forEach((_,g)=>{const{itemWidth:p,itemHeight:y}=cw(i,n,s,_,r);g>0&&h+y+2*l>c&&(d+=f+l,u.push({width:f,height:h}),m+=f+l,v++,f=h=0),a[g]={left:m,top:h,col:v,width:p,height:y},f=Math.max(f,p),h+=y+l}),d+=f,u.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Ci(s,this.left,this.width);if(this.isHorizontal()){let l=0,a=Pe(i,this.left+r,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,a=Pe(i,this.left+r,this.right-this.lineWidths[l])),u.top+=this.top+t+r,u.left=o.leftForLtr(o.x(a),u.width),a+=u.width+r}else{let l=0,a=Pe(i,this.top+t+r,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,a=Pe(i,this.top+t+r,this.bottom-this.columnSizes[l].height)),u.top=a,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),a+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;yc(t,this),this._draw(),vc(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,l=ce.color,a=Ci(t.rtl,this.left,this.width),u=Me(o.font),{padding:c}=o,d=u.size,f=d/2;let h;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:m,boxHeight:v,itemHeight:_}=zf(o,d),g=function(b,k,C){if(isNaN(m)||m<=0||isNaN(v)||v<0)return;r.save();const E=j(C.lineWidth,1);if(r.fillStyle=j(C.fillStyle,l),r.lineCap=j(C.lineCap,"butt"),r.lineDashOffset=j(C.lineDashOffset,0),r.lineJoin=j(C.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=j(C.strokeStyle,l),r.setLineDash(j(C.lineDash,[])),o.usePointStyle){const R={radius:v*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:E},O=a.xPlus(b,m/2),z=k+f;Ug(r,R,O,z,o.pointStyleWidth&&m)}else{const R=k+Math.max((d-v)/2,0),O=a.leftForLtr(b,m),z=br(C.borderRadius);r.beginPath(),Object.values(z).some(Y=>Y!==0)?tu(r,{x:O,y:R,w:m,h:v,radius:z}):r.rect(O,R,m,v),r.fill(),E!==0&&r.stroke()}r.restore()},p=function(b,k,C){Kr(r,C.text,b,k+_/2,u,{strikethrough:C.hidden,textAlign:a.textAlign(C.textAlign)})},y=this.isHorizontal(),x=this._computeTitleHeight();y?h={x:Pe(s,this.left+c,this.right-i[0]),y:this.top+c+x,line:0}:h={x:this.left+c,y:Pe(s,this.top+x+c,this.bottom-n[0].height),line:0},Kg(this.ctx,t.textDirection);const w=_+c;this.legendItems.forEach((b,k)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const C=r.measureText(b.text).width,E=a.textAlign(b.textAlign||(b.textAlign=o.textAlign)),R=m+f+C;let O=h.x,z=h.y;a.setWidth(this.width),y?k>0&&O+R+c>this.right&&(z=h.y+=w,h.line++,O=h.x=Pe(s,this.left+c,this.right-i[h.line])):k>0&&z+w>this.bottom&&(O=h.x=O+n[h.line].width+c,h.line++,z=h.y=Pe(s,this.top+x+c,this.bottom-n[h.line].height));const Y=a.x(O);if(g(Y,z,b),O=x_(E,O+m+f,y?O+R:this.right,t.rtl),p(a.x(O),z,b),y)h.x+=R+c;else if(typeof b.text!="string"){const ke=u.lineHeight;h.y+=dm(b,ke)+c}else h.y+=w}),Gg(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Me(n.font),r=dt(n.padding);if(!n.display)return;const s=Ci(t.rtl,this.left,this.width),o=this.ctx,l=n.position,a=i.size/2,u=r.top+a;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=Pe(t.align,d,this.right-f);else{const m=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);c=u+Pe(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const h=Pe(l,d,d+f);o.textAlign=s.textAlign(pc(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Kr(o,n.text,h,c,i)}_computeTitleHeight(){const t=this.options.title,n=Me(t.font),i=dt(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(mi(t,this.left,this.right)&&mi(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],mi(t,r.left,r.left+r.width)&&mi(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!hw(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=uw(r,i);r&&!s&&J(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&J(n.onHover,[t,i,this],this)}else i&&J(n.onClick,[t,i,this],this)}}function cw(e,t,n,i,r){const s=dw(i,e,t,n),o=fw(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function dw(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+i.measureText(r).width}function fw(e,t,n){let i=e;return typeof t.text!="string"&&(i=dm(t,n)),i}function dm(e,t){const n=e.text?e.text.length:0;return t*n}function hw(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var fm={id:"legend",_element:Af,start(e,t,n){const i=e.legend=new Af({ctx:e.ctx,options:n,chart:e});ot.configure(e,i,n),ot.addBox(e,i)},stop(e){ot.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ot.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(a=>{const u=a.controller.getStyle(n?0:void 0),c=dt(u.borderWidth);return{text:t[a.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!a.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:a.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class hm extends Mt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=ye(i.text)?i.text.length:1;this._padding=dt(i.padding);const s=r*Me(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:o}=this,l=o.align;let a=0,u,c,d;return this.isHorizontal()?(c=Pe(l,i,s),d=n+t,u=s-i):(o.position==="left"?(c=i+t,d=Pe(l,r,n),a=ae*-.5):(c=s-t,d=Pe(l,n,r),a=ae*.5),u=r-n),{titleX:c,titleY:d,maxWidth:u,rotation:a}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Me(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:a,rotation:u}=this._drawArgs(s);Kr(t,n.text,0,0,i,{color:n.color,maxWidth:a,rotation:u,textAlign:pc(n.align),textBaseline:"middle",translation:[o,l]})}}function pw(e,t){const n=new hm({ctx:e.ctx,options:t,chart:e});ot.configure(e,n,t),ot.addBox(e,n),e.titleBlock=n}var gw={id:"title",_element:hm,start(e,t,n){pw(e,n)},stop(e){const t=e.titleBlock;ot.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ot.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const cr={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,s=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const a=l.tooltipPosition();i.add(a.x),r+=a.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,a)=>l+a)/i.size,y:r/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=e.length;s<o;++s){const a=e[s].element;if(a&&a.hasValue()){const u=a.getCenterPoint(),c=Za(t,u);c<r&&(r=c,l=a)}}if(l){const a=l.tooltipPosition();n=a.x,i=a.y}return{x:n,y:i}}};function Ct(e,t){return t&&(ye(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function zt(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function mw(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function jf(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:l}=t,a=Me(t.bodyFont),u=Me(t.titleFont),c=Me(t.footerFont),d=s.length,f=r.length,h=i.length,m=dt(t.padding);let v=m.height,_=0,g=i.reduce((x,w)=>x+w.before.length+w.lines.length+w.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,d&&(v+=d*u.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),g){const x=t.displayColors?Math.max(l,a.lineHeight):a.lineHeight;v+=h*x+(g-h)*a.lineHeight+(g-1)*t.bodySpacing}f&&(v+=t.footerMarginTop+f*c.lineHeight+(f-1)*t.footerSpacing);let p=0;const y=function(x){_=Math.max(_,n.measureText(x).width+p)};return n.save(),n.font=u.string,H(e.title,y),n.font=a.string,H(e.beforeBody.concat(e.afterBody),y),p=t.displayColors?o+2+t.boxPadding:0,H(i,x=>{H(x.before,y),H(x.lines,y),H(x.after,y)}),p=0,n.font=c.string,H(e.footer,y),n.restore(),_+=m.width,{width:_,height:v}}function yw(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function vw(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&r+s+o>t.width||e==="right"&&r-s-o<0)return!0}function _w(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:l,right:a}}=e;let u="center";return i==="center"?u=r<=(l+a)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),vw(u,e,t,n)&&(u="center"),u}function Bf(e,t,n){const i=n.yAlign||t.yAlign||yw(e,n);return{xAlign:n.xAlign||t.xAlign||_w(e,t,n,i),yAlign:i}}function xw(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function ww(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function Ff(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:l,yAlign:a}=n,u=r+s,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:h}=br(o);let m=xw(t,l);const v=ww(t,a,u);return a==="center"?l==="left"?m+=u:l==="right"&&(m-=u):l==="left"?m-=Math.max(c,f)+r:l==="right"&&(m+=Math.max(d,h)+r),{x:ze(m,0,i.width-t.width),y:ze(v,0,i.height-t.height)}}function Bs(e,t,n){const i=dt(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Wf(e){return Ct([],zt(e))}function Sw(e,t,n){return Zn(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Hf(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const pm={beforeTitle:Dt,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Dt,beforeBody:Dt,beforeLabel:Dt,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return oe(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Dt,afterBody:Dt,beforeFooter:Dt,footer:Dt,afterFooter:Dt};function Fe(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?pm[t].call(n,i):r}class su extends Mt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new Zg(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Sw(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Fe(i,"beforeTitle",this,t),s=Fe(i,"title",this,t),o=Fe(i,"afterTitle",this,t);let l=[];return l=Ct(l,zt(r)),l=Ct(l,zt(s)),l=Ct(l,zt(o)),l}getBeforeBody(t,n){return Wf(Fe(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return H(t,s=>{const o={before:[],lines:[],after:[]},l=Hf(i,s);Ct(o.before,zt(Fe(l,"beforeLabel",this,s))),Ct(o.lines,Fe(l,"label",this,s)),Ct(o.after,zt(Fe(l,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,n){return Wf(Fe(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Fe(i,"beforeFooter",this,t),s=Fe(i,"footer",this,t),o=Fe(i,"afterFooter",this,t);let l=[];return l=Ct(l,zt(r)),l=Ct(l,zt(s)),l=Ct(l,zt(o)),l}_createItems(t){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let l=[],a,u;for(a=0,u=n.length;a<u;++a)l.push(mw(this.chart,n[a]));return t.filter&&(l=l.filter((c,d,f)=>t.filter(c,d,f,i))),t.itemSort&&(l=l.sort((c,d)=>t.itemSort(c,d,i))),H(l,c=>{const d=Hf(t.callbacks,c);r.push(Fe(d,"labelColor",this,c)),s.push(Fe(d,"labelPointStyle",this,c)),o.push(Fe(d,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=cr[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const a=this._size=jf(this,i),u=Object.assign({},l,a),c=Bf(this.chart,i,u),d=Ff(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:d.x,y:d.y,width:a.width,height:a.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const s=this.getCaretPosition(t,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:a,topRight:u,bottomLeft:c,bottomRight:d}=br(l),{x:f,y:h}=t,{width:m,height:v}=n;let _,g,p,y,x,w;return s==="center"?(x=h+v/2,r==="left"?(_=f,g=_-o,y=x+o,w=x-o):(_=f+m,g=_+o,y=x-o,w=x+o),p=_):(r==="left"?g=f+Math.max(a,c)+o:r==="right"?g=f+m-Math.max(u,d)-o:g=this.caretX,s==="top"?(y=h,x=y-o,_=g-o,p=g+o):(y=h+v,x=y+o,_=g+o,p=g-o),w=y),{x1:_,x2:g,x3:p,y1:y,y2:x,y3:w}}drawTitle(t,n,i){const r=this.title,s=r.length;let o,l,a;if(s){const u=Ci(i.rtl,this.x,this.width);for(t.x=Bs(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=Me(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,a+1===s&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,n,i,r,s){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:a,boxWidth:u}=s,c=Me(s.bodyFont),d=Bs(this,"left",s),f=r.x(d),h=a<c.lineHeight?(c.lineHeight-a)/2:0,m=n.y+h;if(s.usePointStyle){const v={radius:Math.min(u,a)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=r.leftForLtr(f,u)+u/2,g=m+a/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,eu(t,v,_,g),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,eu(t,v,_,g)}else{t.lineWidth=F(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const v=r.leftForLtr(f,u),_=r.leftForLtr(r.xPlus(f,1),u-2),g=br(o.borderRadius);Object.values(g).some(p=>p!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,tu(t,{x:v,y:m,w:u,h:a,radius:g}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),tu(t,{x:_,y:m+1,w:u-2,h:a-2,radius:g}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(v,m,u,a),t.strokeRect(v,m,u,a),t.fillStyle=o.backgroundColor,t.fillRect(_,m+1,u-2,a-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:a,boxWidth:u,boxPadding:c}=i,d=Me(i.bodyFont);let f=d.lineHeight,h=0;const m=Ci(i.rtl,this.x,this.width),v=function(C){n.fillText(C,m.x(t.x+h),t.y+f/2),t.y+=f+s},_=m.textAlign(o);let g,p,y,x,w,b,k;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,t.x=Bs(this,_,i),n.fillStyle=i.bodyColor,H(this.beforeBody,v),h=l&&_!=="right"?o==="center"?u/2+c:u+2+c:0,x=0,b=r.length;x<b;++x){for(g=r[x],p=this.labelTextColors[x],n.fillStyle=p,H(g.before,v),y=g.lines,l&&y.length&&(this._drawColorBox(n,t,x,m,i),f=Math.max(d.lineHeight,a)),w=0,k=y.length;w<k;++w)v(y[w]),f=d.lineHeight;H(g.after,v)}h=0,f=d.lineHeight,H(this.afterBody,v),t.y-=s}drawFooter(t,n,i){const r=this.footer,s=r.length;let o,l;if(s){const a=Ci(i.rtl,this.x,this.width);for(t.x=Bs(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=a.textAlign(i.footerAlign),n.textBaseline="middle",o=Me(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],a.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:s,yAlign:o}=this,{x:l,y:a}=t,{width:u,height:c}=i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=br(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+d,a),o==="top"&&this.drawCaret(t,n,i,r),n.lineTo(l+u-f,a),n.quadraticCurveTo(l+u,a,l+u,a+f),o==="center"&&s==="right"&&this.drawCaret(t,n,i,r),n.lineTo(l+u,a+c-m),n.quadraticCurveTo(l+u,a+c,l+u-m,a+c),o==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(l+h,a+c),n.quadraticCurveTo(l,a+c,l,a+c-h),o==="center"&&s==="left"&&this.drawCaret(t,n,i,r),n.lineTo(l,a+d),n.quadraticCurveTo(l,a,l+d,a),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=cr[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=jf(this,t),a=Object.assign({},o,this._size),u=Bf(n,t,a),c=Ff(t,a,u,n);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=dt(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,n),Kg(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),Gg(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:l,index:a})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[a],index:a}}),s=!To(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,i),l=this._positionChanged(o,t),a=n||!To(o,s)||l;return a&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),a}_getActiveElements(t,n,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:r,options:s}=this,o=cr[s.position].call(this,t,n);return o!==!1&&(i!==o.x||r!==o.y)}}I(su,"positioners",cr);var gm={id:"tooltip",_element:su,positioners:cr,afterInit(e,t,n){n&&(e.tooltip=new su({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Cw=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function kw(e,t,n,i){const r=e.indexOf(t);if(r===-1)return Cw(e,t,n,i);const s=e.lastIndexOf(t);return r!==s?n:r}const bw=(e,t)=>e===null?null:ze(Math.round(e),0,t);function Uf(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ou extends Bi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(oe(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:kw(i,t,j(n,t),this._addedLabels),bw(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return Uf.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}I(ou,"id","category"),I(ou,"defaults",{ticks:{callback:Uf}});function Rw(e,t){const n=[],{bounds:r,step:s,min:o,max:l,precision:a,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=e,h=s||1,m=c-1,{min:v,max:_}=t,g=!oe(o),p=!oe(l),y=!oe(u),x=(_-v)/(d+1);let w=Qd((_-v)/m/h)*h,b,k,C,E;if(w<1e-14&&!g&&!p)return[{value:v},{value:_}];E=Math.ceil(_/w)-Math.floor(v/w),E>m&&(w=Qd(E*w/m/h)*h),oe(a)||(b=Math.pow(10,a),w=Math.ceil(w*b)/b),r==="ticks"?(k=Math.floor(v/w)*w,C=Math.ceil(_/w)*w):(k=v,C=_),g&&p&&s&&c_((l-o)/s,w/1e3)?(E=Math.round(Math.min((l-o)/w,c)),w=(l-o)/E,k=o,C=l):y?(k=g?o:k,C=p?l:C,E=u-1,w=(C-k)/E):(E=(C-k)/w,Sr(E,Math.round(E),w/1e3)?E=Math.round(E):E=Math.ceil(E));const R=Math.max(Xd(w),Xd(k));b=Math.pow(10,oe(a)?R:a),k=Math.round(k*b)/b,C=Math.round(C*b)/b;let O=0;for(g&&(f&&k!==o?(n.push({value:o}),k<o&&O++,Sr(Math.round((k+O*w)*b)/b,o,$f(o,x,e))&&O++):k<o&&O++);O<E;++O){const z=Math.round((k+O*w)*b)/b;if(p&&z>l)break;n.push({value:z})}return p&&f&&C!==l?n.length&&Sr(n[n.length-1].value,l,$f(l,x,e))?n[n.length-1].value=l:n.push({value:l}):(!p||C===l)&&n.push({value:C}),n}function $f(e,t,{horizontal:n,minRotation:i}){const r=Ht(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Pw extends Bi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return oe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=a=>r=n?r:a,l=a=>s=i?s:a;if(t){const a=Oi(r),u=Oi(s);a<0&&u<0?l(0):a>0&&u>0&&o(0)}if(r===s){let a=s===0?1:Math.abs(s*.05);l(s+a),t||o(r-a)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Rw(r,s);return t.bounds==="ticks"&&d_(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return mc(t,this.chart.options.locale,this.options.ticks.format)}}class lu extends Pw{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ct(t)?t:0,this.max=ct(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Ht(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}I(lu,"id","linear"),I(lu,"defaults",{ticks:{callback:Hg.formatters.numeric}});const ll={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},He=Object.keys(ll);function Vf(e,t){return e-t}function Yf(e,t){if(oe(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),ct(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Yr(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function Qf(e,t,n,i){const r=He.length;for(let s=He.indexOf(e);s<r-1;++s){const o=ll[He[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(l*o.size))<=i)return He[s]}return He[r-1]}function Ew(e,t,n,i,r){for(let s=He.length-1;s>=He.indexOf(n);s--){const o=He[s];if(ll[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return He[n?He.indexOf(n):0]}function Mw(e){for(let t=He.indexOf(e)+1,n=He.length;t<n;++t)if(ll[He[t]].common)return He[t]}function Xf(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=hc(n,t),s=n[i]>=t?n[i]:n[r];e[s]=!0}}function Tw(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let l,a;for(l=s;l<=o;l=+r.add(l,1,i))a=n[l],a>=0&&(t[a].major=!0);return t}function Kf(e,t,n){const i=[],r={},s=t.length;let o,l;for(o=0;o<s;++o)l=t[o],r[l]=o,i.push({value:l,major:!1});return s===0||!n?i:Tw(e,i,r,n)}class Ao extends Bi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new B1._date(t.adapters.date);r.init(n),wr(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Yf(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function a(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!l)&&(a(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&a(this.getMinMax(!1))),r=ct(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=ct(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,l=m_(r,s,o);return this._unit=n.unit||(i.autoSkip?Qf(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Ew(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Mw(this._unit),this.initOffsets(r),t.reverse&&l.reverse(),Kf(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ze(n,0,o),i=ze(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Qf(s.minUnit,n,i,this._getLabelCapacity(n)),l=j(r.ticks.stepSize,1),a=o==="week"?s.isoWeekday:!1,u=Yr(a)||a===!0,c={};let d=n,f,h;if(u&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,u?"day":o),t.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<i;f=+t.add(f,l,o),h++)Xf(c,f,m);return(f===i||r.bounds==="ticks"||h===1)&&Xf(c,f,m),Object.keys(c).sort(Vf).map(v=>+v)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return J(o,[t,n,i],this);const l=s.time.displayFormats,a=this._unit,u=this._majorUnit,c=a&&l[a],d=u&&l[u],f=i[n],h=u&&d&&f&&f.major;return this._adapter.format(t,r||(h?d:c))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=Ht(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*o,h:i*o+l*s}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(t,0,Kf(this,[t],this._majorUnit),r),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(Yf(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return v_(t.sort(Vf))}}I(Ao,"id","time"),I(Ao,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fs(e,t,n){let i=0,r=e.length-1,s,o,l,a;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=jn(e,"pos",t)),{pos:s,time:l}=e[i],{pos:o,time:a}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=jn(e,"time",t)),{time:s,pos:l}=e[i],{time:o,pos:a}=e[r]);const u=o-s;return u?l+(a-l)*(t-s)/u:l}class Gf extends Ao{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Fs(n,this.min),this._tableRange=Fs(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let o,l,a,u,c;for(o=0,l=t.length;o<l;++o)u=t[o],u>=n&&u<=i&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,l=r.length;o<l;++o)c=r[o+1],a=r[o-1],u=r[o],Math.round((c+a)/2)!==u&&s.push({time:u,pos:o/(l-1)});return s}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Fs(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Fs(this._table,i*this._tableRange+this._minPos,!0)}}I(Gf,"id","timeseries"),I(Gf,"defaults",Ao.defaults);const mm="label";function qf(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Dw(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function ym(e,t){e.labels=t}function vm(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mm;const i=[];e.datasets=t.map(r=>{const s=e.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function Ow(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mm;const n={labels:[],datasets:[]};return ym(n,e.labels),vm(n,e.datasets,t),n}function Nw(e,t){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:l,options:a,plugins:u=[],fallbackContent:c,updateMode:d,...f}=e,h=D.useRef(null),m=D.useRef(),v=()=>{h.current&&(m.current=new os(h.current,{type:o,data:Ow(l,s),options:a&&{...a},plugins:u}),qf(t,m.current))},_=()=>{qf(t,null),m.current&&(m.current.destroy(),m.current=null)};return D.useEffect(()=>{!r&&m.current&&a&&Dw(m.current,a)},[r,a]),D.useEffect(()=>{!r&&m.current&&ym(m.current.config.data,l.labels)},[r,l.labels]),D.useEffect(()=>{!r&&m.current&&l.datasets&&vm(m.current.config.data,l.datasets,s)},[r,l.datasets]),D.useEffect(()=>{m.current&&(r?(_(),setTimeout(v)):m.current.update(d))},[r,a,l.labels,l.datasets,d]),D.useEffect(()=>{m.current&&(_(),setTimeout(v))},[o]),D.useEffect(()=>(v(),()=>_()),[]),$o.createElement("canvas",Object.assign({ref:h,role:"img",height:n,width:i},f),c)}const Iw=D.forwardRef(Nw);function _m(e,t){return os.register(t),D.forwardRef((n,i)=>$o.createElement(Iw,Object.assign({},n,{ref:i,type:e})))}const Lw=_m("line",to),zw=_m("doughnut",or),Aw="_doughnutChart_na870_1",jw={doughnutChart:Aw};os.register(ar,gm,fm);const Bw=$o.memo(({externalStyles:e=null,islegend:t=!0,ratingInfo:n,productRating:i=!1})=>{const{productRatingStarFive:r=0,productRatingStarFour:s=0,productRatingStarThree:o=0,productRatingStarTwo:l=0,productRatingStarOne:a=0}=n||{},u=[{label:"1⭐",value:a,color:"rgba(52, 68, 79, 0.2)"},{label:"2⭐",value:l,color:"rgba(52, 68, 79, 0.4)"},{label:"3⭐",value:o,color:"rgba(52, 68, 79, 0.6)"},{label:"4⭐",value:s,color:"rgba(52, 68, 79, 0.8)"},{label:"5⭐",value:r,color:"rgba(52, 68, 79, 1)"}],c=u.filter(({value:v})=>v>0).map(({label:v})=>v),d=u.filter(({value:v})=>v>0).map(({value:v})=>v),f=u.filter(({value:v})=>v>0).map(({color:v})=>v),h={labels:i?c:!1,datasets:[{productRatingStarThree:o,data:i?d:[1],backgroundColor:i?f:["rgba(52, 68, 79, 0.4)"],borderColor:"rgba(52, 68, 79, 1)",borderWidth:1}]},m=D.useMemo(()=>({responsive:!0,plugins:{legend:{display:t,position:"top",labels:{boxWidth:12,padding:5,font:{size:12}}},tooltip:{enabled:!0}},cutout:"60%"}),[t]);return S.jsx("div",{className:(e==null?void 0:e.doughnutChart)||jw.doughnutChart,children:S.jsx(zw,{data:h,options:m})})});var xm={exports:{}},wm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=D;function Fw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ww=typeof Object.is=="function"?Object.is:Fw,Hw=ls.useSyncExternalStore,Uw=ls.useRef,$w=ls.useEffect,Vw=ls.useMemo,Yw=ls.useDebugValue;wm.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var s=Uw(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Vw(function(){function a(h){if(!u){if(u=!0,c=h,h=i(h),r!==void 0&&o.hasValue){var m=o.value;if(r(m,h))return d=m}return d=h}if(m=d,Ww(c,h))return m;var v=i(h);return r!==void 0&&r(m,v)?(c=h,m):(c=h,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,i,r]);var l=Hw(e,s[0],s[1]);return $w(function(){o.hasValue=!0,o.value=l},[l]),Yw(l),l};xm.exports=wm;var Qw=xm.exports;function Xw(e){e()}function Kw(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Xw(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){!i||e===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var Zf={notify(){},get:()=>[]};function Gw(e,t){let n,i=Zf,r=0,s=!1;function o(v){c();const _=i.subscribe(v);let g=!1;return()=>{g||(g=!0,_(),d())}}function l(){i.notify()}function a(){m.onStateChange&&m.onStateChange()}function u(){return s}function c(){r++,n||(n=e.subscribe(a),i=Kw())}function d(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=Zf)}function f(){s||(s=!0,c())}function h(){s&&(s=!1,d())}const m={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>i};return m}var qw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zw=qw(),Jw=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eS=Jw(),tS=()=>Zw||eS?D.useLayoutEffect:D.useEffect,nS=tS(),Xl=Symbol.for("react-redux-context"),Kl=typeof globalThis<"u"?globalThis:{};function iS(){if(!D.createContext)return{};const e=Kl[Xl]??(Kl[Xl]=new Map);let t=e.get(D.createContext);return t||(t=D.createContext(null),e.set(D.createContext,t)),t}var Cn=iS();function rS(e){const{children:t,context:n,serverState:i,store:r}=e,s=D.useMemo(()=>{const a=Gw(r);return{store:r,subscription:a,getServerState:i?()=>i:void 0}},[r,i]),o=D.useMemo(()=>r.getState(),[r]);nS(()=>{const{subscription:a}=s;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==r.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[s,o]);const l=n||Cn;return D.createElement(l.Provider,{value:s},t)}var sS=rS;function Rc(e=Cn){return function(){return D.useContext(e)}}var Sm=Rc();function Cm(e=Cn){const t=e===Cn?Sm:Rc(e),n=()=>{const{store:i}=t();return i};return Object.assign(n,{withTypes:()=>n}),n}var oS=Cm();function lS(e=Cn){const t=e===Cn?oS:Cm(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var km=lS(),aS=(e,t)=>e===t;function uS(e=Cn){const t=e===Cn?Sm:Rc(e),n=(i,r={})=>{const{equalityFn:s=aS}=typeof r=="function"?{equalityFn:r}:r,o=t(),{store:l,subscription:a,getServerState:u}=o;D.useRef(!0);const c=D.useCallback({[i.name](f){return i(f)}}[i.name],[i]),d=Qw.useSyncExternalStoreWithSelector(a.addNestedSub,l.getState,u||l.getState,c,s);return D.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var Te=uS();const cS="_loading_cmuhj_1",dS={loading:cS};function ni(){return S.jsxs("div",{className:dS.loading,children:[S.jsx("span",{children:"з"}),S.jsx("span",{children:"а"}),S.jsx("span",{children:"г"}),S.jsx("span",{children:"р"}),S.jsx("span",{children:"у"}),S.jsx("span",{children:"з"}),S.jsx("span",{children:"к"}),S.jsx("span",{children:"а "}),S.jsx("span",{children:". "}),S.jsx("span",{children:". "}),S.jsx("span",{children:"."})]})}const fS="_starRatingBtnExport_z1px6_1",hS="_starRatingBtnExport_disable_z1px6_24",pS="_starRatingBtnExportText_z1px6_36",gS="_starRatingBtnExportIcon_z1px6_44",Gl={starRatingBtnExport:fS,starRatingBtnExport_disable:hS,starRatingBtnExportText:pS,starRatingBtnExportIcon:gS},Zt="Создать документ ";function mS({productRating:e}){const{productInfo:t}=Te(o=>o.product),{url:n}=Te(o=>o.saveUrl),[i,r]=D.useState(Zt);function s(){if(i!==Zt)return;r("Сохранение...");const o=["Ссылка на товар","Артикул","Цена","Название","Отзывы","Вопросы","Продавец","Рейтинг","5 звезд","4 звезды","3 звезды","2 звезды","1 звезда"],{productArticle:l="",productPrice:a="",productName:u="",productReviews:c="",productQuestions:d="",productSales:f="",productRating:h="",productRatingStarFive:m="",productRatingStarFour:v="",productRatingStarThree:_="",productRatingStarTwo:g="",productRatingStarOne:p=""}=t||{},y=[[n,l,a,u,c,d,f,h,m,v,_,g,p]];window.electron.createExel([o,...y]).then(x=>{r("Сохранено"),x==="successfully"?setTimeout(()=>{r(Zt)},1e3):x==="cancellation"?(r("Отменено"),setTimeout(()=>{r(Zt)},1e3)):x==="errorSaved"?(r("Ошибка"),setTimeout(()=>{r(Zt)},1e3)):x==="successfully"&&setTimeout(()=>{r(Zt)},1e3)}).catch(x=>{r("Ошибка"),setTimeout(()=>{r(Zt)},1e3)})}return S.jsxs("button",{onClick:s,disabled:!e||i!==Zt,className:`${Gl.starRatingBtnExport} ${!e&&Gl.starRatingBtnExport_disable}`,children:[i,S.jsx("span",{className:Gl.starRatingBtnExportText,children:"Exel"})]})}function yS(){const{productInfo:e,isLoadingProductInfo:t,error:n}=Te(k=>k.product),i="",{productArticle:r=null,productPrice:s=null,productName:o=null,productReviews:l=null,productQuestions:a=null,productSales:u=null,productRating:c=null,productRatingStarFive:d,productRatingStarFour:f,productRatingStarThree:h,productRatingStarTwo:m,productRatingStarOne:v}=e||{},_=D.useRef(null),[g,p]=D.useState(!1),[y,x]=D.useState(!1);function w(k){return k?k.split("/")[0].trim():null}D.useEffect(()=>{const k=_.current;if(k){const C=k.scrollWidth>k.clientWidth;p(C)}},[e,t]);const b=()=>x(!y);return S.jsxs("div",{className:X.productInformationContainer,children:[S.jsx(Bw,{ratingInfo:{productRatingStarFive:d,productRatingStarFour:f,productRatingStarThree:h,productRatingStarTwo:m,productRatingStarOne:v},productRating:c}),S.jsxs("div",{className:X.starRating,children:[S.jsx(mS,{productRating:c}),S.jsx(Dg,{rating:w(c)||0}),S.jsxs("div",{className:vn(X.productNameContainer,{[X.productNameContainer_loading]:t}),children:[S.jsxs("span",{className:X.label,children:["Название товара:",!t&&g&&S.jsx("button",{onClick:b,className:X.toggleButton,children:y?"Скрыть":"Развернуть"})]}),t?S.jsx("span",{className:X.value,children:S.jsx(ni,{})}):S.jsx("div",{className:X.productNameBlock,children:S.jsx("span",{ref:_,className:vn(X.productName,{[X.productName_visibleText]:y}),children:o||i})})]}),S.jsxs("div",{className:X.infoRow,children:[S.jsx("span",{className:X.label,children:"Артикул:"}),S.jsx("span",{className:X.value,children:t?S.jsx(ni,{}):r||i})]}),S.jsxs("div",{className:X.basicInformation,children:[S.jsxs("div",{className:X.infoRow,children:[S.jsx("span",{className:X.label,children:"Количество отзывов:"}),S.jsx("span",{className:X.value,children:t?S.jsx(ni,{}):l||i})]}),S.jsxs("div",{className:X.infoRow,children:[S.jsx("span",{className:X.label,children:"Количество вопросов:"}),S.jsx("span",{className:X.value,children:t?S.jsx(ni,{}):a||i})]}),S.jsxs("div",{className:X.infoRow,children:[S.jsx("span",{className:X.label,children:"Цена р:"}),S.jsxs("span",{className:X.value,children:[" ",t?S.jsx(ni,{}):s||i]})]}),S.jsxs("div",{className:X.infoRow,children:[S.jsx("span",{className:X.label,children:"Продавец:"}),S.jsxs("span",{className:X.value,children:[" ",t?S.jsx(ni,{}):u||i]})]})]})]})]})}const vS="_productReviews_314lf_2",_S="_productReviewsContainer_314lf_15",xS="_productReviewsControlPanelContainer_314lf_26",wS="_reviewListContainer_314lf_30",SS="_productReviewsControlPanel_314lf_26",CS="_productReviewsInformControlBar_314lf_64",kS="_sortTitle_314lf_69",bS="_sortType_314lf_74",RS="_sortButton_314lf_82",PS="_sortButton_active_314lf_98",ES="_sortListType_314lf_106",MS="_sortListType_active_314lf_122",TS="_sortTypeElem_314lf_126",DS="_sortTypeElem_select_314lf_130",OS="_productReviewsInform_314lf_64",NS="_reviewItem_314lf_138",IS="_generalInfoReview_314lf_151",LS="_reviewDateStarContainer_314lf_159",zS="_starRatingContainer_314lf_167",AS="_starIcon_314lf_173",jS="_ratingText_314lf_178",BS="_date_314lf_182",FS="_userName_314lf_187",WS="_productCharacteristics_314lf_222",HS="_commentDetails_314lf_260",US="_commentSummary_314lf_266",$S="_reviewText_314lf_277",VS="_noFoundComments_314lf_291",V={productReviews:vS,productReviewsContainer:_S,productReviewsControlPanelContainer:xS,reviewListContainer:wS,productReviewsControlPanel:SS,productReviewsInformControlBar:CS,sortTitle:kS,sortType:bS,sortButton:RS,sortButton_active:PS,sortListType:ES,sortListType_active:MS,sortTypeElem:TS,sortTypeElem_select:DS,productReviewsInform:OS,reviewItem:NS,generalInfoReview:IS,reviewDateStarContainer:LS,starRatingContainer:zS,starIcon:AS,ratingText:jS,date:BS,userName:FS,productCharacteristics:WS,commentDetails:HS,commentSummary:US,reviewText:$S,noFoundComments:VS},YS="_loaderContainer_14zwi_1",QS="_loader_14zwi_1",XS="_rotation_14zwi_1",Jf={loaderContainer:YS,loader:QS,rotation:XS};function Fi(){return S.jsx("div",{className:Jf.loaderContainer,children:S.jsx("span",{className:Jf.loader})})}const KS={января:0,февраля:1,марта:2,апреля:3,мая:4,июня:5,июля:6,августа:7,сентября:8,октября:9,ноября:10,декабря:11};function $e(e){if(!e)return null;const[t,n,i]=e.split(" "),r=KS[n];return r===void 0?null:new Date(Number(i),r,Number(t))}const GS=()=>{const{comments:e,isLoadingComments:t,error:n}=Te(m=>m.product),[i,r]=D.useState(e),[s,o]=D.useState(!1),[l,a]=D.useState("По дате"),[u,c]=D.useState([]),d=["По дате","По рейтингу"],f=()=>o(m=>!m),h=m=>{a(m),o(!1)};return D.useEffect(()=>{s?d.forEach((m,v)=>{setTimeout(()=>{c(_=>[..._,m])},v*10)}):c([])},[s]),D.useEffect(()=>{if(!e)return r([]);if(l==="По дате"){const m=[...e].sort((v,_)=>{const g=$e(v.commetnDate),p=$e(_.commetnDate);return g-p});return r(m)}if(l==="По рейтингу"){const m=[...e].sort((v,_)=>_.commentStarRating-v.commentStarRating);return r(m)}},[l,e]),S.jsx("div",{className:V.productReviews,children:S.jsxs("div",{className:V.productReviewsContainer,children:[S.jsx("div",{className:V.productReviewsControlPanelContainer,children:S.jsxs("div",{className:V.productReviewsControlPanel,children:[S.jsx("div",{className:V.productReviewsInform,children:"Отзывы"}),S.jsxs("div",{className:V.productReviewsInformControlBar,children:[S.jsx("p",{className:V.sortTitle,children:"Сортировка:"}),S.jsx("p",{className:V.sortType,children:l}),S.jsx("button",{onClick:f,className:vn(V.sortButton,s&&V.sortButton_active),children:"ᨆ"})]}),S.jsx("div",{className:vn(V.sortListType,s&&V.sortListType_active),children:u.map(m=>S.jsx("div",{onClick:()=>h(m),className:vn(V.sortTypeElem,m===l&&V.sortTypeElem_select),children:m},m))})]})}),S.jsx("div",{className:V.reviewListContainer,children:t?S.jsx(Fi,{}):i&&i.length>0?i.map(({commentMessage:m,commentStarRating:v,commentTypeProduct:_,commetnDate:g,commetnName:p},y)=>S.jsxs("div",{className:V.reviewItem,children:[S.jsxs("div",{className:V.generalInfoReview,children:[S.jsx("h3",{className:V.userName,"data-tooltip":p,children:p}),S.jsxs("div",{className:V.reviewDateStarContainer,children:[S.jsx("p",{className:V.date,children:g}),S.jsx("div",{className:V.starRatingContainer,children:S.jsx(Dg,{externalStyles:{starIcon:V.starIcon,ratingText:V.ratingText},rating:v})})]})]}),_&&S.jsx("p",{className:V.productCharacteristics,"data-tooltip":_,children:_}),m&&S.jsxs("details",{className:V.commentDetails,children:[S.jsx("summary",{className:V.commentSummary,children:"Комментарий"}),S.jsx("p",{className:V.reviewText,children:m})]})]},y)):S.jsx("div",{className:V.noFoundComments,children:"Комментариев пока нет"})})]})})},qS="_lineChart_1rrwb_1",ZS={lineChart:qS};os.register(ou,lu,ro,ur,gw,gm,fm);function Pc({labels:e=[],data:t=[],datasets:n=[],text:i="",max:r=0}){function s(u){if(!Array.isArray(u))return[];const c={fill:!1,borderColor:"#007bff",borderWidth:2,tension:.1,pointRadius:3,pointBackgroundColor:"#007bff",pointHoverRadius:4};return typeof u[0]=="number"?[{...c,data:u}]:u.map(d=>o(d,c))}function o(u,c){const d={...u};for(const f in c)f in u?typeof u[f]=="object"&&typeof c[f]=="object"&&(d[f]=o(u[f],c[f])):d[f]=c[f];return d}const l={labels:e,datasets:n.length>0?s(n):s(t)},a={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:i},legend:{display:!1}},scales:{x:{title:{display:!1,text:""},ticks:{autoSkip:!0,maxRotation:45}},y:{title:{display:!1,text:""},min:0,max:r,ticks:{stepSize:1}}}};return S.jsx(Lw,{className:ZS.lineChart,data:l,options:a})}const JS="_ReviewChartRating_qxi7t_2",eC="_ReviewChartRatingBths_qxi7t_13",tC="_ReviewChartRatingBth_qxi7t_13",nC="_ReviewChartRatingBth_active_qxi7t_29",iC="_commentsNotFound_qxi7t_38",rC="_ReviewChartRatingQuantityBth_disabled_qxi7t_48",Ot={ReviewChartRating:JS,ReviewChartRatingBths:eC,ReviewChartRatingBth:tC,ReviewChartRatingBth_active:nC,commentsNotFound:iC,ReviewChartRatingQuantityBth_disabled:rC};function sC(){const{comments:e,isLoadingComments:t}=Te(u=>u.product),[n,i]=D.useState("day"),[r,s]=D.useState({labels:[],values:[],max:0});console.log(e);const o=!e||e.length<1,l=u=>u.reduce((c,{commentStarRating:d,commetnDate:f})=>{console.log(f);const h=$e(f).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"});return c[h]||(c[h]={totalRating:0,count:0}),c[h].totalRating+=d,c[h].count+=1,c},{}),a=u=>u.reduce((c,{commentStarRating:d,commetnDate:f})=>{const h=$e(f).toLocaleString("ru-RU",{month:"long",year:"numeric"});return c[h]||(c[h]={totalRating:0,count:0}),c[h].totalRating+=d,c[h].count+=1,c},{});return D.useEffect(()=>{if(o)return;const u=[...e].sort((m,v)=>{const _=$e(m.commetnDate),g=$e(v.commetnDate);return _-g}),c=n==="day"?l(u):a(u),d=Object.keys(c),f=d.map(m=>{const{totalRating:v,count:_}=c[m];return v/_}),h=Math.max(...f,0)+1;s({labels:d,values:f,max:h})},[n,e]),S.jsxs("div",{className:Ot.ReviewChartRating,children:[!t&&S.jsxs("div",{className:Ot.ReviewChartRatingBths,children:[S.jsx("button",{disabled:o,className:`${Ot.ReviewChartRatingBth} ${n==="day"?Ot.ReviewChartRatingBth_active:""} ${o&&Ot.ReviewChartRatingQuantityBth_disabled}`,onClick:()=>i("day"),children:"По дням"}),S.jsx("button",{disabled:o,className:`${Ot.ReviewChartRatingBth} ${n==="month"?Ot.ReviewChartRatingBth_active:""} ${o&&Ot.ReviewChartRatingQuantityBth_disabled}`,onClick:()=>i("month"),children:"По месяцам"})]}),t?S.jsx(Fi,{}):e&&e.length>0?S.jsx(Pc,{max:r.max,labels:r.labels,data:r.values,text:"Средний рейтинг отзывов за период"}):S.jsx("div",{className:Ot.commentsNotFound,children:"Комментариев пока нет"})]})}const oC="_ReviewChartRatingQuantity_1osxb_2",lC="_ReviewChartRatingQuantityBths_1osxb_13",aC="_ReviewChartRatingQuantityBth_1osxb_13",uC="_ReviewChartRatingQuantityBth_active_1osxb_29",cC="_ReviewChartRatingQuantityBth_disabled_1osxb_34",dC="_commentsNotFound_1osxb_42",Nt={ReviewChartRatingQuantity:oC,ReviewChartRatingQuantityBths:lC,ReviewChartRatingQuantityBth:aC,ReviewChartRatingQuantityBth_active:uC,ReviewChartRatingQuantityBth_disabled:cC,commentsNotFound:dC};function fC(){const{comments:e,isLoadingComments:t}=Te(u=>u.product),[n,i]=D.useState("day"),[r,s]=D.useState({labels:[],values:[],max:0}),o=!e||e.length<1,l=u=>u.reduce((c,{commetnDate:d})=>{const f=$e(d).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"});return c[f]=(c[f]||0)+1,c},{}),a=u=>u.reduce((c,{commetnDate:d})=>{const f=$e(d).toLocaleString("ru-RU",{month:"long",year:"numeric"});return c[f]=(c[f]||0)+1,c},{});return D.useEffect(()=>{if(o)return;const u=[...e].sort((m,v)=>{const _=$e(m.commetnDate),g=$e(v.commetnDate);return _-g}),c=n==="day"?l(u):a(u),d=Object.keys(c),f=d.map(m=>c[m]),h=Math.max(...f,0)+1;s({labels:d,values:f,max:h})},[n,e]),S.jsxs("div",{className:Nt.ReviewChartRatingQuantity,children:[!t&&S.jsxs("div",{className:Nt.ReviewChartRatingQuantityBths,children:[S.jsx("button",{disabled:o,className:`${Nt.ReviewChartRatingQuantityBth} ${n==="day"?Nt.ReviewChartRatingQuantityBth_active:""} ${o&&Nt.ReviewChartRatingQuantityBth_disabled}`,onClick:()=>i("day"),children:"По дням"}),S.jsx("button",{disabled:o,className:`${Nt.ReviewChartRatingQuantityBth} ${n==="month"?Nt.ReviewChartRatingQuantityBth_active:""} ${o&&Nt.ReviewChartRatingQuantityBth_disabled}`,onClick:()=>i("month"),children:"По месяцам"})]}),t?S.jsx(Fi,{}):e&&e.length>0?S.jsx(Pc,{max:r.max,labels:r.labels,data:r.values,text:"Количество отзывов за период"}):S.jsx("div",{className:Nt.commentsNotFound,children:"Комментариев пока нет"})]})}const _e=[];for(let e=0;e<256;++e)_e.push((e+256).toString(16).slice(1));function hC(e,t=0){return(_e[e[t+0]]+_e[e[t+1]]+_e[e[t+2]]+_e[e[t+3]]+"-"+_e[e[t+4]]+_e[e[t+5]]+"-"+_e[e[t+6]]+_e[e[t+7]]+"-"+_e[e[t+8]]+_e[e[t+9]]+"-"+_e[e[t+10]]+_e[e[t+11]]+_e[e[t+12]]+_e[e[t+13]]+_e[e[t+14]]+_e[e[t+15]]).toLowerCase()}let ql;const pC=new Uint8Array(16);function gC(){if(!ql){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ql=crypto.getRandomValues.bind(crypto)}return ql(pC)}const mC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eh={randomUUID:mC};function yC(e,t,n){if(eh.randomUUID&&!t&&!e)return eh.randomUUID();e=e||{};const i=e.random||(e.rng||gC)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,hC(i)}const vC="_ProductReviewsSorted_o7z0l_2",_C="_ProductReviewsSortedTitle_o7z0l_11",xC="_ProductReviewsSortedList_o7z0l_16",wC="_sortedInput_o7z0l_27",SC="_ProductReviewsSortedInputBlock_o7z0l_36",CC="_ProductReviewsSortedInputContainer_o7z0l_42",kC="_ProductReviewsSortedElements_o7z0l_60",bC="_ProductReviewsSortedElement_o7z0l_60",RC="_ProductReviewsSortedWordsInputContainer_o7z0l_103",PC="_ProductReviewsSortedElementRemove_o7z0l_114",EC="_ProductReviewsSortedFoundText_o7z0l_145",MC="_commentMessage_o7z0l_150",TC="_commentMessageNotFound_o7z0l_160",DC="_ProductReviewsSortedComments_o7z0l_171",Ie={ProductReviewsSorted:vC,ProductReviewsSortedTitle:_C,ProductReviewsSortedList:xC,sortedInput:wC,ProductReviewsSortedInputBlock:SC,ProductReviewsSortedInputContainer:CC,ProductReviewsSortedElements:kC,ProductReviewsSortedElement:bC,ProductReviewsSortedWordsInputContainer:RC,ProductReviewsSortedElementRemove:PC,ProductReviewsSortedFoundText:EC,commentMessage:MC,commentMessageNotFound:TC,ProductReviewsSortedComments:DC};function Ws(e="#FFFFFF",t=[]){let n;do n=OC();while(!NC(n,e)||t.includes(n));return n}function OC(){const e="0123456789ABCDEF";let t="#";for(let n=0;n<6;n++)t+=e[Math.floor(Math.random()*16)];return t}function NC(e,t){const n=th(e),i=th(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)>=4.5}function th(e){const n=IC(e).map(i=>(i/=255,i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)));return .2126*n[0]+.7152*n[1]+.0722*n[2]}function IC(e){const t=parseInt(e.slice(1),16);return[t>>16&255,t>>8&255,t&255]}function xe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var LC=typeof Symbol=="function"&&Symbol.observable||"@@observable",nh=LC,Zl=()=>Math.random().toString(36).substring(7).split("").join("."),zC={INIT:`@@redux/INIT${Zl()}`,REPLACE:`@@redux/REPLACE${Zl()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zl()}`},jo=zC;function Ec(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bm(e,t,n){if(typeof e!="function")throw new Error(xe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xe(1));return n(bm)(e,t)}let i=e,r=t,s=new Map,o=s,l=0,a=!1;function u(){o===s&&(o=new Map,s.forEach((_,g)=>{o.set(g,_)}))}function c(){if(a)throw new Error(xe(3));return r}function d(_){if(typeof _!="function")throw new Error(xe(4));if(a)throw new Error(xe(5));let g=!0;u();const p=l++;return o.set(p,_),function(){if(g){if(a)throw new Error(xe(6));g=!1,u(),o.delete(p),s=null}}}function f(_){if(!Ec(_))throw new Error(xe(7));if(typeof _.type>"u")throw new Error(xe(8));if(typeof _.type!="string")throw new Error(xe(17));if(a)throw new Error(xe(9));try{a=!0,r=i(r,_)}finally{a=!1}return(s=o).forEach(p=>{p()}),_}function h(_){if(typeof _!="function")throw new Error(xe(10));i=_,f({type:jo.REPLACE})}function m(){const _=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(xe(11));function p(){const x=g;x.next&&x.next(c())}return p(),{unsubscribe:_(p)}},[nh](){return this}}}return f({type:jo.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[nh]:m}}function AC(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:jo.INIT})>"u")throw new Error(xe(12));if(typeof n(void 0,{type:jo.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xe(13))})}function jC(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const i=Object.keys(n);let r;try{AC(n)}catch(s){r=s}return function(o={},l){if(r)throw r;let a=!1;const u={};for(let c=0;c<i.length;c++){const d=i[c],f=n[d],h=o[d],m=f(h,l);if(typeof m>"u")throw l&&l.type,new Error(xe(14));u[d]=m,a=a||m!==h}return a=a||i.length!==Object.keys(o).length,a?u:o}}function Bo(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function BC(...e){return t=>(n,i)=>{const r=t(n,i);let s=()=>{throw new Error(xe(15))};const o={getState:r.getState,dispatch:(a,...u)=>s(a,...u)},l=e.map(a=>a(o));return s=Bo(...l)(r.dispatch),{...r,dispatch:s}}}function FC(e){return Ec(e)&&"type"in e&&typeof e.type=="string"}var Rm=Symbol.for("immer-nothing"),ih=Symbol.for("immer-draftable"),Ze=Symbol.for("immer-state");function mt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Li=Object.getPrototypeOf;function Xn(e){return!!e&&!!e[Ze]}function Kt(e){var t;return e?Pm(e)||Array.isArray(e)||!!e[ih]||!!((t=e.constructor)!=null&&t[ih])||ul(e)||cl(e):!1}var WC=Object.prototype.constructor.toString();function Pm(e){if(!e||typeof e!="object")return!1;const t=Li(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===WC}function Fo(e,t){al(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function al(e){const t=e[Ze];return t?t.type_:Array.isArray(e)?1:ul(e)?2:cl(e)?3:0}function au(e,t){return al(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Em(e,t,n){const i=al(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function HC(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ul(e){return e instanceof Map}function cl(e){return e instanceof Set}function In(e){return e.copy_||e.base_}function uu(e,t){if(ul(e))return new Map(e);if(cl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Pm(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[Ze];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const o=r[s],l=i[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Li(e),i)}else{const i=Li(e);if(i!==null&&n)return{...e};const r=Object.create(i);return Object.assign(r,e)}}function Mc(e,t=!1){return dl(e)||Xn(e)||!Kt(e)||(al(e)>1&&(e.set=e.add=e.clear=e.delete=UC),Object.freeze(e),t&&Object.entries(e).forEach(([n,i])=>Mc(i,!0))),e}function UC(){mt(2)}function dl(e){return Object.isFrozen(e)}var $C={};function Kn(e){const t=$C[e];return t||mt(0,e),t}var qr;function Mm(){return qr}function VC(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rh(e,t){t&&(Kn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cu(e){du(e),e.drafts_.forEach(YC),e.drafts_=null}function du(e){e===qr&&(qr=e.parent_)}function sh(e){return qr=VC(qr,e)}function YC(e){const t=e[Ze];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oh(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ze].modified_&&(cu(t),mt(4)),Kt(e)&&(e=Wo(t,e),t.parent_||Ho(t,e)),t.patches_&&Kn("Patches").generateReplacementPatches_(n[Ze].base_,e,t.patches_,t.inversePatches_)):e=Wo(t,n,[]),cu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Rm?e:void 0}function Wo(e,t,n){if(dl(t))return t;const i=t[Ze];if(!i)return Fo(t,(r,s)=>lh(e,i,t,r,s,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return Ho(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let s=r,o=!1;i.type_===3&&(s=new Set(r),r.clear(),o=!0),Fo(s,(l,a)=>lh(e,i,r,l,a,n,o)),Ho(e,r,!1),n&&e.patches_&&Kn("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function lh(e,t,n,i,r,s,o){if(Xn(r)){const l=s&&t&&t.type_!==3&&!au(t.assigned_,i)?s.concat(i):void 0,a=Wo(e,r,l);if(Em(n,i,a),Xn(a))e.canAutoFreeze_=!1;else return}else o&&n.add(r);if(Kt(r)&&!dl(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Wo(e,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Ho(e,r)}}function Ho(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mc(t,n)}function QC(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:Mm(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=Tc;n&&(r=[i],s=Zr);const{revoke:o,proxy:l}=Proxy.revocable(r,s);return i.draft_=l,i.revoke_=o,l}var Tc={get(e,t){if(t===Ze)return e;const n=In(e);if(!au(n,t))return XC(e,n,t);const i=n[t];return e.finalized_||!Kt(i)?i:i===Jl(e.base_,t)?(ea(e),e.copy_[t]=hu(i,e)):i},has(e,t){return t in In(e)},ownKeys(e){return Reflect.ownKeys(In(e))},set(e,t,n){const i=Tm(In(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const r=Jl(In(e),t),s=r==null?void 0:r[Ze];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(HC(n,r)&&(n!==void 0||au(e.base_,t)))return!0;ea(e),fu(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Jl(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ea(e),fu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=In(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){mt(11)},getPrototypeOf(e){return Li(e.base_)},setPrototypeOf(){mt(12)}},Zr={};Fo(Tc,(e,t)=>{Zr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Zr.deleteProperty=function(e,t){return Zr.set.call(this,e,t,void 0)};Zr.set=function(e,t,n){return Tc.set.call(this,e[0],t,n,e[0])};function Jl(e,t){const n=e[Ze];return(n?In(n):e)[t]}function XC(e,t,n){var r;const i=Tm(t,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(e.draft_):void 0}function Tm(e,t){if(!(t in e))return;let n=Li(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Li(n)}}function fu(e){e.modified_||(e.modified_=!0,e.parent_&&fu(e.parent_))}function ea(e){e.copy_||(e.copy_=uu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var KC=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(a=s,...u){return o.produce(a,c=>n.call(this,c,...u))}}typeof n!="function"&&mt(6),i!==void 0&&typeof i!="function"&&mt(7);let r;if(Kt(t)){const s=sh(this),o=hu(t,void 0);let l=!0;try{r=n(o),l=!1}finally{l?cu(s):du(s)}return rh(s,i),oh(r,s)}else if(!t||typeof t!="object"){if(r=n(t),r===void 0&&(r=t),r===Rm&&(r=void 0),this.autoFreeze_&&Mc(r,!0),i){const s=[],o=[];Kn("Patches").generateReplacementPatches_(t,r,s,o),i(s,o)}return r}else mt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,a=>t(a,...l));let i,r;return[this.produce(t,n,(o,l)=>{i=o,r=l}),i,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Kt(e)||mt(8),Xn(e)&&(e=GC(e));const t=sh(this),n=hu(e,void 0);return n[Ze].isManual_=!0,du(t),n}finishDraft(e,t){const n=e&&e[Ze];(!n||!n.isManual_)&&mt(9);const{scope_:i}=n;return rh(i,t),oh(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}n>-1&&(t=t.slice(n+1));const i=Kn("Patches").applyPatches_;return Xn(e)?i(e,t):this.produce(e,r=>i(r,t))}};function hu(e,t){const n=ul(e)?Kn("MapSet").proxyMap_(e,t):cl(e)?Kn("MapSet").proxySet_(e,t):QC(e,t);return(t?t.scope_:Mm()).drafts_.push(n),n}function GC(e){return Xn(e)||mt(10,e),Dm(e)}function Dm(e){if(!Kt(e)||dl(e))return e;const t=e[Ze];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uu(e,t.scope_.immer_.useStrictShallowCopy_)}else n=uu(e,!0);return Fo(n,(i,r)=>{Em(n,i,Dm(r))}),t&&(t.finalized_=!1),n}var Je=new KC,Om=Je.produce;Je.produceWithPatches.bind(Je);Je.setAutoFreeze.bind(Je);Je.setUseStrictShallowCopy.bind(Je);Je.applyPatches.bind(Je);Je.createDraft.bind(Je);Je.finishDraft.bind(Je);function Nm(e){return({dispatch:n,getState:i})=>r=>s=>typeof s=="function"?s(n,i,e):r(s)}var qC=Nm(),ZC=Nm,JC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bo:Bo.apply(null,arguments)};function ah(e,t){function n(...i){if(t){let r=t(...i);if(!r)throw new Error($t(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>FC(i)&&i.type===e,n}var Im=class dr extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,dr.prototype)}static get[Symbol.species](){return dr}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new dr(...t[0].concat(this)):new dr(...t.concat(this))}};function uh(e){return Kt(e)?Om(e,()=>{}):e}function ch(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function ek(e){return typeof e=="boolean"}var tk=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=t??{};let o=new Im;return n&&(ek(n)?o.push(qC):o.push(ZC(n.extraArgument))),o},nk="RTK_autoBatch",dh=e=>t=>{setTimeout(t,e)},ik=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let r=!0,s=!1,o=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dh(10):e.type==="callback"?e.queueNotification:dh(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(c=>c()))};return Object.assign({},i,{subscribe(c){const d=()=>r&&c(),f=i.subscribe(d);return l.add(c),()=>{f(),l.delete(c)}},dispatch(c){var d;try{return r=!((d=c==null?void 0:c.meta)!=null&&d[nk]),s=!r,s&&(o||(o=!0,a(u))),i.dispatch(c)}finally{r=!0}}})},rk=e=>function(n){const{autoBatch:i=!0}=n??{};let r=new Im(e);return i&&r.push(ik(typeof i=="object"?i:void 0)),r};function sk(e){const t=tk(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Ec(n))l=jC(n);else throw new Error($t(1));let a;typeof i=="function"?a=i(t):a=t();let u=Bo;r&&(u=JC({trace:!1,...typeof r=="object"&&r}));const c=BC(...a),d=rk(c);let f=typeof o=="function"?o(d):d();const h=u(...f);return bm(l,s,h)}function Lm(e){const t={},n=[];let i;const r={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error($t(28));if(l in t)throw new Error($t(29));return t[l]=o,r},addMatcher(s,o){return n.push({matcher:s,reducer:o}),r},addDefaultCase(s){return i=s,r}};return e(r),[t,n,i]}function ok(e){return typeof e=="function"}function lk(e,t){let[n,i,r]=Lm(t),s;if(ok(e))s=()=>uh(e());else{const l=uh(e);s=()=>l}function o(l=s(),a){let u=[n[a.type],...i.filter(({matcher:c})=>c(a)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[r]),u.reduce((c,d)=>{if(d)if(Xn(c)){const h=d(c,a);return h===void 0?c:h}else{if(Kt(c))return Om(c,f=>d(f,a));{const f=d(c,a);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},l)}return o.getInitialState=s,o}var ak=Symbol.for("rtk-slice-createasyncthunk");function uk(e,t){return`${e}/${t}`}function ck({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[ak];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error($t(11));typeof process<"u";const l=(typeof r.reducers=="function"?r.reducers(fk()):r.reducers)||{},a=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(y,x){const w=typeof y=="string"?y:y.type;if(!w)throw new Error($t(12));if(w in u.sliceCaseReducersByType)throw new Error($t(13));return u.sliceCaseReducersByType[w]=x,c},addMatcher(y,x){return u.sliceMatchers.push({matcher:y,reducer:x}),c},exposeAction(y,x){return u.actionCreators[y]=x,c},exposeCaseReducer(y,x){return u.sliceCaseReducersByName[y]=x,c}};a.forEach(y=>{const x=l[y],w={reducerName:y,type:uk(s,y),createNotation:typeof r.reducers=="function"};pk(x)?mk(w,x,c,t):hk(w,x,c)});function d(){const[y={},x=[],w=void 0]=typeof r.extraReducers=="function"?Lm(r.extraReducers):[r.extraReducers],b={...y,...u.sliceCaseReducersByType};return lk(r.initialState,k=>{for(let C in b)k.addCase(C,b[C]);for(let C of u.sliceMatchers)k.addMatcher(C.matcher,C.reducer);for(let C of x)k.addMatcher(C.matcher,C.reducer);w&&k.addDefaultCase(w)})}const f=y=>y,h=new Map;let m;function v(y,x){return m||(m=d()),m(y,x)}function _(){return m||(m=d()),m.getInitialState()}function g(y,x=!1){function w(k){let C=k[y];return typeof C>"u"&&x&&(C=_()),C}function b(k=f){const C=ch(h,x,()=>new WeakMap);return ch(C,k,()=>{const E={};for(const[R,O]of Object.entries(r.selectors??{}))E[R]=dk(O,k,_,x);return E})}return{reducerPath:y,getSelectors:b,get selectors(){return b(w)},selectSlice:w}}const p={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...g(o),injectInto(y,{reducerPath:x,...w}={}){const b=x??o;return y.inject({reducerPath:b,reducer:v},w),{...p,...g(b,!0)}}};return p}}function dk(e,t,n,i){function r(s,...o){let l=t(s);return typeof l>"u"&&i&&(l=n()),e(l,...o)}return r.unwrapped=e,r}var fl=ck();function fk(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function hk({type:e,reducerName:t,createNotation:n},i,r){let s,o;if("reducer"in i){if(n&&!gk(i))throw new Error($t(17));s=i.reducer,o=i.prepare}else s=i;r.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?ah(e,o):ah(e))}function pk(e){return e._reducerDefinitionType==="asyncThunk"}function gk(e){return e._reducerDefinitionType==="reducerWithPrepare"}function mk({type:e,reducerName:t},n,i,r){if(!r)throw new Error($t(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:a,settled:u,options:c}=n,d=r(e,s,c);i.exposeAction(t,d),o&&i.addCase(d.fulfilled,o),l&&i.addCase(d.pending,l),a&&i.addCase(d.rejected,a),u&&i.addMatcher(d.settled,u),i.exposeCaseReducer(t,{fulfilled:o||Hs,pending:l||Hs,rejected:a||Hs,settled:u||Hs})}function Hs(){}function $t(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const yk={wordsSearch:[]},zm=fl({name:"wordsSearch",initialState:yk,reducers:{addWords:(e,t)=>{e.wordsSearch=t.payload},removeWords:(e,t)=>{e.wordsSearch=e.wordsSearch.filter(n=>{for(const i in n)return n[i].color!==t.payload;return n})}}}),{addWords:pu,removeWords:vk}=zm.actions,_k=zm.reducer,xk=()=>{const e=km(),{comments:t,isLoadingComments:n,error:i}=Te(p=>p.product),[r,s]=D.useState([]),[o,l]=D.useState(""),[a,u]=D.useState([]),c=D.useRef(),d=D.useRef();function f(p){l(p.target.value)}function h(){c.current&&(c.current.style=d.current)}function m(p){const y=o.trim();!y||p.key!=="Enter"||a.find(({inputText:x})=>y===x)||(u(x=>{const w=x.map(k=>k.color),b=Ws("black",w);return[{inputText:y,color:b},...x]}),l(""))}function v(p){e(vk(p)),u(y=>y.filter(({color:x})=>p!==x))}function _(p,y){if(!p)return;const x=a.filter(({inputText:k})=>p.includes(k));if(x.length===0)return;const w={};return{highlightedText:(k=>{let C=[],E=k;for(;E;){let R=null;for(const{inputText:O,color:z}of x){const Y=E.indexOf(O);Y!==-1&&(!R||Y<R.index)&&(R={inputText:O,color:z,index:Y})}if(!R){C.push(E);break}R.index>0&&C.push(E.slice(0,R.index)),w[R.inputText]?w[R.inputText].count+=1:w[R.inputText]={count:1,color:R.color,date:y},C.push(S.jsx("span",{className:Ie.ProductReviewsSortedFoundText,style:{backgroundColor:R.color},children:R.inputText},yC()+R.color)),E=E.slice(R.index+R.inputText.length)}return C})(p),wordCount:w}}function g(p){if(n)return S.jsx(Fi,{});if(!p||p.length<1)return S.jsx("span",{className:Ie.commentMessageNotFound,children:"Комментариев пока нет"});const y=[],w=[...p].sort((b,k)=>{const C=$e(b.commetnDate),E=$e(k.commetnDate);return C-E}).map(({commentMessage:b,commetnDate:k},C)=>{const E=_(b,k),R=E==null?void 0:E.highlightedText,O=E==null?void 0:E.wordCount;return O&&y.push(O),R?S.jsx("div",{className:Ie.commentMessage,children:R},C):null}).filter(Boolean);return w.length===0?S.jsx("span",{className:Ie.commentMessageNotFound,children:"Комментарии по ключевым словам не найдены"}):(e(pu(y)),w)}return D.useEffect(()=>{s(g(t))},[t,n,a]),D.useEffect(()=>{const p=Ws("black"),y=Ws("black",[p]),x=Ws("black",[p,y]);u([{inputText:"Отличный товар",color:p},{inputText:"Мне понравилось",color:y},{inputText:"Спасибо продавцу",color:x}])},[]),S.jsx("div",{className:Ie.ProductReviewsSorted,children:S.jsxs("div",{className:Ie.ProductReviewsSortedList,children:[S.jsxs("div",{className:Ie.ProductReviewsSortedWordsInputContainer,children:[S.jsx("p",{className:Ie.ProductReviewsSortedTitle,children:"Фильтр слов:"}),S.jsx("div",{ref:p=>{p&&(d.current=p.clientHeight)},className:Ie.ProductReviewsSortedInputBlock,children:S.jsxs("div",{ref:c,className:Ie.ProductReviewsSortedInputContainer,onDoubleClick:h,children:[S.jsx("input",{onKeyDown:m,onChange:f,value:o,className:Ie.sortedInput,wrap:"hard",placeholder:"Введите ключевое слово и нажмине enter"}),S.jsx("div",{className:Ie.ProductReviewsSortedElements,children:a.map(({inputText:p,color:y})=>S.jsxs("span",{style:{backgroundColor:y},className:Ie.ProductReviewsSortedElement,children:[S.jsx("button",{onClick:x=>{x.stopPropagation(),v(y)},className:Ie.ProductReviewsSortedElementRemove}),p]},y))})]})})]}),S.jsx("div",{className:Ie.ProductReviewsSortedComments,children:r})]})})},wk="_WindowHeader_bw97u_2",Sk="_Controls_bw97u_21",Ck="_ControlBtn_bw97u_27",kk="_iconCollapse_bw97u_41",bk="_iconExpand_bw97u_47",Rk="_iconClose_bw97u_53",Pk="_notUrlPopup_bw97u_83",Ek="_notUrlPopup_open_bw97u_102",Mk="_notUrlPopupTitle_bw97u_108",Tk="_notUrlPopupSmall_bw97u_114",Dk="_notUrlPopupBtnContainer_bw97u_119",Ok="_notUrlPopupBtn_bw97u_119",Nk="_WindowHeaderControlsBlock_bw97u_145",Ik="_WindowHeaderReloadData_bw97u_153",Lk="_WindowHeaderReloadDataUnactive_bw97u_167",ge={WindowHeader:wk,Controls:Sk,ControlBtn:Ck,iconCollapse:kk,iconExpand:bk,iconClose:Rk,notUrlPopup:Pk,notUrlPopup_open:Ek,notUrlPopupTitle:Mk,notUrlPopupSmall:Tk,notUrlPopupBtnContainer:Dk,notUrlPopupBtn:Ok,WindowHeaderControlsBlock:Nk,WindowHeaderReloadData:Ik,WindowHeaderReloadDataUnactive:Lk},zk="_UrlInputContainer_1p7f0_2",Ak="_UrlInputContainer__input_1p7f0_13",jk="_UrlInputContainer__btn_1p7f0_31",Bk="_UrlInputContainer__btn_clear_1p7f0_52",Fk="_UrlInputContaineUnactive_1p7f0_59",ii={UrlInputContainer:zk,UrlInputContainer__input:Ak,UrlInputContainer__btn:jk,UrlInputContainer__btn_clear:Bk,UrlInputContaineUnactive:Fk},Wk=({url:e,handleInputChange:t,handleSubmit:n,clearInput:i})=>{const{isLoadingComments:r}=Te(l=>l.product),{isLoadingProductInfo:s}=Te(l=>l.product),{isLoadingBaseClass:o}=Te(l=>l.getBaseClass);return S.jsxs("div",{className:`${ii.UrlInputContainer} ${(s||r||o)&&ii.UrlInputContaineUnactive}`,children:[S.jsx("button",{className:vn(ii.UrlInputContainer__btn,ii.UrlInputContainer__btn_clear),onClick:i,children:"Очистить"}),S.jsx("input",{className:ii.UrlInputContainer__input,type:"url",value:e,onChange:t,placeholder:"Введите ссылку на карточку товара с OZON:",required:!0}),S.jsx("button",{className:ii.UrlInputContainer__btn,onClick:n,children:"Поиск"})]})},Hk={productInfo:null,comments:null,isLoadingProductInfo:!1,isLoadingComments:!1,error:null},Am=fl({name:"product",initialState:Hk,reducers:{setProductInfo:(e,t)=>{e.productInfo=t.payload},setComments:(e,t)=>{e.comments=t.payload},setLoadingComments:(e,t)=>{e.isLoadingComments=t.payload},setLoadingProductInfo:(e,t)=>{e.isLoadingProductInfo=t.payload},setError:(e,t)=>{e.error=t.payload},clearProductData:e=>{e.productInfo=null,e.comments=null,e.isLoadingProductInfo=!1,e.isLoadingComments=!1,e.error=null}}}),{setProductInfo:Uk,setComments:$k,setLoadingComments:ta,setLoadingProductInfo:fh,setError:Vk,clearProductData:Yk}=Am.actions,Qk=Am.reducer,Xk=e=>async t=>{try{t(fh(!0)),t(ta(!0)),window.electron.parseStart(e),window.electron.getProductInform(n=>{t(Uk(n)),t(fh(!1))}),window.electron.getProductComment(n=>{t($k(n)),t(ta(!1))})}catch(n){t(ta(!1)),t(Vk(n.message))}},Kk="_ReportIssue_1u8py_2",Gk="_ReportIssueButton_1u8py_6",qk="_ReportIssueButtonPopup_1u8py_26",Zk="_ReportIssueButtonPopup_open_1u8py_48",Jk="_ReportIssueButtons_1u8py_54",eb="_ReportIssueButtonControl_1u8py_61",tb="_emailCopyContainer_1u8py_80",nb="_copyButton_1u8py_87",It={ReportIssue:Kk,ReportIssueButton:Gk,ReportIssueButtonPopup:qk,ReportIssueButtonPopup_open:Zk,ReportIssueButtons:Jk,ReportIssueButtonControl:eb,emailCopyContainer:tb,copyButton:nb},na="pagg16pagg@gmail.com";function ib(){const[e,t]=D.useState(!1),[n,i]=D.useState(!1),r=l=>{l.preventDefault(),t(a=>!a)},s=()=>{t(!1),window.location.href=`mailto:${na}?subject=Сообщить о проблеме&body=Опишите вашу проблему здесь`},o=()=>{navigator.clipboard.writeText(na),!n&&(i(!0),setTimeout(()=>{i(!1)},800))};return S.jsxs("div",{className:It.ReportIssue,children:[S.jsx("button",{className:It.ReportIssueButton,onClick:r,children:"Сообщить о проблеме"}),S.jsxs("div",{className:`${It.ReportIssueButtonPopup} ${e&&It.ReportIssueButtonPopup_open}`,children:[S.jsxs("div",{className:It.emailCopyContainer,children:[na,S.jsx("button",{className:It.copyButton,onClick:o,children:n?"Скопировано":"Копировать"})]}),S.jsxs("div",{className:It.ReportIssueButtons,children:[S.jsx("button",{className:It.ReportIssueButtonControl,onClick:s,children:"Открыть почту"}),S.jsx("button",{className:It.ReportIssueButtonControl,onClick:()=>t(!1),children:"Отмена"})]})]})]})}const rb={isSuccessfully:!1,isLoadingBaseClass:!1,isError:!1},jm=fl({name:"getBaseClass",initialState:rb,reducers:{setLoadBaseClass:(e,t)=>{e.isSuccessfully=t.payload},setLoadingBaseClass:(e,t)=>{e.isLoadingBaseClass=t.payload},setError:(e,t)=>{e.isError=t.payload}}}),{setLoadBaseClass:Bm,setLoadingBaseClass:ia,setError:sb}=jm.actions,ob=jm.reducer,hh=e=>async t=>{try{t(ia(!0)),window.electron.getBaseClassCommentStart(),window.electron.getBaseClassComment(n=>{t(Bm(n)),t(ia(!1))})}catch(n){t(ia(!1)),t(sb(n.message))}},lb={url:""},Fm=fl({name:"url",initialState:lb,reducers:{saveUrl:(e,t)=>{e.url=t.payload}}}),{saveUrl:ph}=Fm.actions,ab=Fm.reducer;function ub(){const{isSuccessfully:e,isLoadingBaseClass:t}=Te(C=>C.getBaseClass),{isLoadingComments:n}=Te(C=>C.product),{isLoadingProductInfo:i}=Te(C=>C.product),r=D.useRef(!1),s=D.useRef(!1),[o,l]=D.useState(""),[a,u]=D.useState(!1),c=km();D.useEffect(()=>{s.current||(s.current=!0,c(hh()))},[]);const d=()=>{window.electron.minimizeWindow()},f=()=>{window.electron.maximizeWindow()},h=()=>{window.electron.closeWindow()};function m(C){return!!/^https:\/\/www\.ozon\.ru\/product\//.test(C)}const v=C=>{l(C.target.value)},_=C=>{C.preventDefault(),c(ph(o)),c(pu([])),m(o)?x():u(!0)};function g(){u(!1),x()}function p(){u(!1)}function y(){l(""),c(ph("")),c(Yk()),c(pu([]))}function x(){c(Xk(o))}function w(){c(hh())}function b(){return e&&!r.current&&(r.current=!0,setTimeout(()=>{r.current=!1,c(Bm(!1))},5e3)),r.current?"Обновлено":t?"Обновление":"Обновить"}const k=S.jsxs("div",{className:vn(ge.notUrlPopup,a&&ge.notUrlPopup_open),children:[S.jsx("p",{className:ge.notUrlPopupTitle,children:"Вы уверены, что эта ссылка ведет на карточку товара с OZON?"}),S.jsx("small",{className:ge.notUrlPopupSmall,children:"Обратите внимание: ссылки с других сайтов могут не работать."}),S.jsxs("div",{className:ge.notUrlPopupBtnContainer,children:[S.jsx("button",{className:ge.notUrlPopupBtn,onClick:g,children:"Продолжить поиск"}),S.jsx("button",{onClick:p,className:ge.notUrlPopupBtn,children:"Остановить поиск"})]})]});return S.jsxs("div",{className:ge.WindowHeader,children:[S.jsx(Wk,{url:o,handleInputChange:v,handleSubmit:_,clearInput:y}),S.jsxs("div",{className:ge.WindowHeaderControlsBlock,children:[S.jsx("button",{disabled:i||n||t,onClick:w,className:`${ge.WindowHeaderReloadData} ${(i||n||t)&&ge.WindowHeaderReloadDataUnactive}`,"data-tooltip":"Рекомендуется обновлять данные раз в несколько часов или при ошибках поиска",children:b()}),S.jsx(ib,{}),S.jsxs("div",{className:ge.Controls,children:[S.jsx("div",{className:ge.ControlBtn,onClick:d,children:S.jsx("div",{className:ge.iconCollapse})}),S.jsx("div",{className:ge.ControlBtn,onClick:f,children:S.jsx("div",{className:ge.iconExpand})}),S.jsx("div",{className:ge.ControlBtn,onClick:h,children:S.jsx("div",{className:ge.iconClose})})]})]}),k]})}const cb="_app_14etl_1",db="_main_14etl_10",fb="_mainGridElem_14etl_23",hb="_mainLoadingBaseClass_14etl_27",pb="_mainLoadingBaseClassTitle_14etl_38",er={app:cb,main:db,mainGridElem:fb,mainLoadingBaseClass:hb,mainLoadingBaseClassTitle:pb},gb="_ReviewCharWords_swmsm_1",mb="_ReviewCharWordsCommentsNotFound_swmsm_12",gh={ReviewCharWords:gb,ReviewCharWordsCommentsNotFound:mb};function yb(){const e=Te(l=>l.wordsSearch.wordsSearch),{comments:t,isLoadingComments:n}=Te(l=>l.product);function i(l){const a={},u=new Set;l.forEach(h=>{Object.entries(h).forEach(([m,{count:v,color:_,date:g}])=>{a[m]||(a[m]={counts:[],color:_,dates:new Map}),a[m].dates.set(g,v),u.add(g)})});const c=Array.from(u).sort((h,m)=>$e(h)-$e(m)),d=Object.entries(a).map(([h,{dates:m,color:v}])=>({label:h,data:c.map(_=>m.get(_)||0),borderColor:v,pointBackgroundColor:v})),f=Math.max(...d.flatMap(h=>h.data));return{labels:c,datasets:d,maxValue:f}}const{labels:r,datasets:s,maxValue:o}=D.useMemo(()=>i(e),[e]);return S.jsx("div",{className:gh.ReviewCharWords,children:n?S.jsx(Fi,{}):t&&t.length>0?S.jsx(Pc,{labels:r,datasets:s,max:o+1}):S.jsx("div",{className:gh.ReviewCharWordsCommentsNotFound,children:"Комментариев пока нет"})})}const vb=$o.memo(yb);function _b(){const{isLoadingBaseClass:e}=Te(t=>t.getBaseClass);return S.jsxs("div",{className:er.app,children:[S.jsx(ub,{}),S.jsxs("div",{className:er.main,children:[e&&S.jsxs("div",{className:er.mainLoadingBaseClass,children:[S.jsx("p",{className:er.mainLoadingBaseClassTitle,children:"Обновление данных поиска"}),S.jsx(Fi,{})]}),S.jsx(yS,{}),S.jsx(GS,{}),S.jsx(xk,{}),S.jsx(fC,{}),S.jsx(sC,{}),S.jsx("div",{className:er.mainGridElem,children:S.jsx(vb,{})})]})]})}const xb="_errorPopupContainer_1qap1_1",wb="_slideIn_1qap1_1",Sb="_errorPopup_1qap1_1",Cb="_errorPopupTitle_1qap1_29",kb="_closeButton_1qap1_40",bb="_errorHistory_1qap1_47",Rb="_errorDetails_1qap1_56",Pb="_errorSummary_1qap1_72",Eb="_errorText_1qap1_76",Jt={errorPopupContainer:xb,slideIn:wb,errorPopup:Sb,errorPopupTitle:Cb,closeButton:kb,errorHistory:bb,errorDetails:Rb,errorSummary:Pb,errorText:Eb};class Mb extends D.Component{constructor(n){super(n);I(this,"handleClosePopup",()=>{this.setState({hasError:!1})});I(this,"handleStopPropagation",n=>{n.stopPropagation()});this.state={hasError:!1,error:null,errorInfo:null,errorHistory:[]}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,i){this.setState(r=>({error:n,errorInfo:i,errorHistory:[...r.errorHistory,{error:n.toString(),componentStack:i.componentStack}]}))}render(){return this.state.hasError?S.jsx("div",{className:Jt.errorPopupContainer,onClick:this.handleStopPropagation,children:S.jsxs("div",{className:Jt.errorPopup,children:[S.jsx("button",{onClick:this.handleClosePopup,className:Jt.closeButton,children:"X"}),S.jsx("h2",{className:Jt.errorPopupTitle,children:"Что-то пошло не так."}),S.jsx("div",{className:Jt.errorHistory,children:this.state.errorHistory.map((n,i)=>S.jsxs("details",{className:Jt.errorDetails,children:[S.jsxs("summary",{className:Jt.errorSummary,children:["Ошибка ",i+1]}),S.jsx("p",{className:Jt.errorText,children:n.componentStack})]},i))})]})}):this.props.children}}const Tb=sk({reducer:{product:Qk,wordsSearch:_k,getBaseClass:ob,saveUrl:ab}});Mg(document.getElementById("root")).render(S.jsx(sS,{store:Tb,children:S.jsx(D.StrictMode,{children:S.jsx(Mb,{children:S.jsx(_b,{})})})}));
import { createSlice } from "@reduxjs/toolkit";

const initialState = {
  isSuccessfully: false,
  isLoadingBaseClass: false,
  isError: false,
};

const getBaseClassSlice = createSlice({
  name: "getBaseClass",
  initialState,
  reducers: {
    setLoadBaseClass: (state, action) => {
      state.isSuccessfully = action.payload;
    },

    setLoadingBaseClass: (state, action) => {
      state.isLoadingBaseClass = action.payload;
    },
    setError: (state, action) => {
      state.isError = action.payload;
    },
  },
});

export const { setLoadBaseClass, setLoadingBaseClass, setError } =
  getBaseClassSlice.actions;

export default getBaseClassSlice.reducer;
import {
  setError,
  setLoadBaseClass,
  setLoadingBaseClass,
} from "./getBaseClassSlise";

export const fetchGetBaseClass = (url) => async (dispatch) => {
  try {
    dispatch(setLoadingBaseClass(true));

    window.electron.getBaseClassCommentStart();

    window.electron.getBaseClassComment((data) => {
      dispatch(setLoadBaseClass(data)); // Сохраняем данные карточки
      dispatch(setLoadingBaseClass(false));
    });
    
  } catch (error) {
    dispatch(setLoadingBaseClass(false));
    dispatch(setError(error.message)); // Обрабатываем ошибку
  }
};
import { createSlice } from "@reduxjs/toolkit";

const initialState = {
  productInfo: null,
  comments: null,
  isLoadingProductInfo: false,
  isLoadingComments: false,
  error: null,
};

const productSlice = createSlice({
  name: "product",
  initialState,
  reducers: {
    setProductInfo: (state, action) => {
      state.productInfo = action.payload;
    },
    setComments: (state, action) => {
      state.comments = action.payload;
    },
    setLoadingComments: (state, action) => {
      state.isLoadingComments = action.payload;
    },
    setLoadingProductInfo: (state, action) => {
      state.isLoadingProductInfo = action.payload;
    },
    setError: (state, action) => {
      state.error = action.payload;
    },
    clearProductData: (state) => {
      state.productInfo = null;
      state.comments = null;
      state.isLoadingProductInfo = false;
      state.isLoadingComments = false;
      state.error = null;
    },
  },
});

export const {
  setProductInfo,
  setComments,
  setLoadingComments,
  setLoadingProductInfo,
  setError,
  clearProductData,
} = productSlice.actions;

export default productSlice.reducer;
import {
  setProductInfo,
  setComments,
  setLoadingComments,
  setLoadingProductInfo,
  setError,
} from "./productSlice";

export const fetchProductData = (url) => async (dispatch) => {
  try {
    dispatch(setLoadingProductInfo(true));
    dispatch(setLoadingComments(true));

    // Запускаем асинхронную задачу на получение данных
    window.electron.parseStart(url);

    // Получаем информацию о продукте и комментариях
    window.electron.getProductInform((data) => {
      dispatch(setProductInfo(data)); // Сохраняем данные карточки
      dispatch(setLoadingProductInfo(false));
    });

    window.electron.getProductComment((data) => {
      dispatch(setComments(data)); // Сохраняем комментарии
      dispatch(setLoadingComments(false));
    });
  } catch (error) {
    dispatch(setLoadingComments(false));
    dispatch(setError(error.message)); // Обрабатываем ошибку
  }
};
import { createSlice } from "@reduxjs/toolkit";

const initialState = {
  wordsSearch: [],
};

const wordsSearchSlise = createSlice({
  name: "wordsSearch",
  initialState,
  reducers: {
    addWords: (state, action) => {
      state.wordsSearch = action.payload;
    },
    removeWords: (state, action) => {
      state.wordsSearch = state.wordsSearch.filter((elem) => {
        for (const key in elem) {
          return elem[key].color !== action.payload;
        }
        return elem;
      });
    }, 
  },
});

export const { addWords, removeWords } = wordsSearchSlise.actions;

export default wordsSearchSlise.reducer;
import { configureStore } from "@reduxjs/toolkit";
import productReducer from "./product/productSlice";
import wordsSearchReduser from "./search/wordsSearchSlise";
import getBaseClassReduser from "./getBaseClass/getBaseClassSlise";
import setUrlReduser from "./url/urlsSlice";

export const store = configureStore({
  reducer: {
    product: productReducer,
    wordsSearch: wordsSearchReduser,
    getBaseClass: getBaseClassReduser,
    saveUrl: setUrlReduser,
  },
});
import { createSlice } from "@reduxjs/toolkit";

const initialState = {
  url: "",
};

const urlSlice = createSlice({
  name: "url",
  initialState,
  reducers: {
    saveUrl: (state, action) => {
      state.url = action.payload;
    },
  },
});

export const { saveUrl } = urlSlice.actions;

export default urlSlice.reducer;
const months = {
  января: 0,
  февраля: 1,
  марта: 2,
  апреля: 3,
  мая: 4,
  июня: 5,
  июля: 6,
  августа: 7,
  сентября: 8,
  октября: 9,
  ноября: 10,
  декабря: 11,
};

export function parseDate(dateStr) {
  if (!dateStr) return null;

  const [day, month, year] = dateStr.split(" ");
  const monthIndex = months[month];
  if (monthIndex === undefined) return null; // Обработка неизвестного месяца

  return new Date(Number(year), monthIndex, Number(day));
}
function getReadableRandomColor(colorCheck = "#FFFFFF", existingColors = []) {
  let color;
  do {
    color = getRandomColor();
  } while (
    !isContrastEnough(color, colorCheck) ||
    existingColors.includes(color)
  ); // Проверка на повторение
  return color;
}

// Функция для генерации случайного цвета
function getRandomColor() {
  const letters = "0123456789ABCDEF";
  let color = "#";
  for (let i = 0; i < 6; i++) {
    color += letters[Math.floor(Math.random() * 16)];
  }
  return color;
}

// Проверка контраста по формуле W3C (WCAG)
function isContrastEnough(bgColor, textColor) {
  const bgLuminance = getLuminance(bgColor);
  const textLuminance = getLuminance(textColor);
  const contrast =
    (Math.max(bgLuminance, textLuminance) + 0.05) /
    (Math.min(bgLuminance, textLuminance) + 0.05);
  return contrast >= 4.5; // Минимальный коэффициент контраста для хорошей читаемости
}

// Вычисление яркости цвета
function getLuminance(color) {
  const rgb = hexToRgb(color);
  const a = rgb.map((value) => {
    value /= 255;
    return value <= 0.03928
      ? value / 12.92
      : Math.pow((value + 0.055) / 1.055, 2.4);
  });
  return 0.2126 * a[0] + 0.7152 * a[1] + 0.0722 * a[2]; // Формула яркости
}

// Преобразование HEX в RGB
function hexToRgb(hex) {
  const bigint = parseInt(hex.slice(1), 16);
  return [(bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];
}

export default getReadableRandomColor;
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
require("dotenv").config(); // Загружаем переменные окружения
const port = process.env.VITE_PORT; // Получаем порт из .env

// https://vite.dev/config/
export default defineConfig({
  root: "src",
  base: "./", // Делаем пути относительными для корректной работы через file://
  plugins: [react()],
  server: {
    port: `${port}`,
  },
  build: {
    outDir: "dist", // Устанавливаем директорию для сборки относительно корня
    emptyOutDir: true, // Очищаем директорию перед сборкой
  },
});
